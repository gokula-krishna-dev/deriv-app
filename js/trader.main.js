!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("@deriv/account/dist/js/file-uploader-container"),require("@deriv/account/dist/js/form-sub-header"),require("@deriv/account/dist/js/poa-expired"),require("@deriv/account/dist/js/poa-needs-review"),require("@deriv/account/dist/js/poa-status-codes"),require("@deriv/account/dist/js/poa-submitted"),require("@deriv/account/dist/js/poa-unverified"),require("@deriv/account/dist/js/poa-verified"),require("@deriv/account/dist/js/proof-of-identity-container"),require("@deriv/components/lib/auto-height-wrapper"),require("@deriv/components/lib/autocomplete"),require("@deriv/components/lib/autocomplete.css"),require("@deriv/components/lib/button"),require("@deriv/components/lib/button-toggle"),require("@deriv/components/lib/button-toggle.css"),require("@deriv/components/lib/button.css"),require("@deriv/components/lib/calendar"),require("@deriv/components/lib/calendar.css"),require("@deriv/components/lib/checkbox"),require("@deriv/components/lib/checkbox.css"),require("@deriv/components/lib/circular-progress"),require("@deriv/components/lib/circular-progress.css"),require("@deriv/components/lib/clipboard"),require("@deriv/components/lib/clipboard.css"),require("@deriv/components/lib/collapsible"),require("@deriv/components/lib/collapsible.css"),require("@deriv/components/lib/data-list"),require("@deriv/components/lib/data-list.css"),require("@deriv/components/lib/data-table"),require("@deriv/components/lib/data-table.css"),require("@deriv/components/lib/date-picker"),require("@deriv/components/lib/date-picker.css"),require("@deriv/components/lib/desktop-wrapper"),require("@deriv/components/lib/desktop-wrapper.css"),require("@deriv/components/lib/dialog"),require("@deriv/components/lib/dialog.css"),require("@deriv/components/lib/div100vh-container"),require("@deriv/components/lib/div100vh-container.css"),require("@deriv/components/lib/dropdown"),require("@deriv/components/lib/dropdown.css"),require("@deriv/components/lib/fade-wrapper"),require("@deriv/components/lib/fade-wrapper.css"),require("@deriv/components/lib/form-progress"),require("@deriv/components/lib/form-progress.css"),require("@deriv/components/lib/form-submit-button"),require("@deriv/components/lib/form-submit-button.css"),require("@deriv/components/lib/icon"),require("@deriv/components/lib/icon-trade-types"),require("@deriv/components/lib/icon-trade-types.css"),require("@deriv/components/lib/icon.css"),require("@deriv/components/lib/input"),require("@deriv/components/lib/input.css"),require("@deriv/components/lib/label"),require("@deriv/components/lib/label.css"),require("@deriv/components/lib/loading"),require("@deriv/components/lib/loading.css"),require("@deriv/components/lib/mobile-dialog"),require("@deriv/components/lib/mobile-dialog.css"),require("@deriv/components/lib/mobile-wrapper"),require("@deriv/components/lib/mobile-wrapper.css"),require("@deriv/components/lib/modal"),require("@deriv/components/lib/modal.css"),require("@deriv/components/lib/money"),require("@deriv/components/lib/money.css"),require("@deriv/components/lib/multi-step"),require("@deriv/components/lib/multi-step.css"),require("@deriv/components/lib/numpad"),require("@deriv/components/lib/numpad.css"),require("@deriv/components/lib/page-error"),require("@deriv/components/lib/page-error.css"),require("@deriv/components/lib/page-overlay"),require("@deriv/components/lib/page-overlay.css"),require("@deriv/components/lib/password-input"),require("@deriv/components/lib/password-input.css"),require("@deriv/components/lib/password-meter"),require("@deriv/components/lib/password-meter.css"),require("@deriv/components/lib/popover"),require("@deriv/components/lib/popover.css"),require("@deriv/components/lib/progress-bar"),require("@deriv/components/lib/progress-bar.css"),require("@deriv/components/lib/relative-datepicker"),require("@deriv/components/lib/relative-datepicker.css"),require("@deriv/components/lib/select-native"),require("@deriv/components/lib/select-native.css"),require("@deriv/components/lib/swipeable-wrapper"),require("@deriv/components/lib/swipeable-wrapper.css"),require("@deriv/components/lib/table"),require("@deriv/components/lib/table.css"),require("@deriv/components/lib/tabs"),require("@deriv/components/lib/tabs.css"),require("@deriv/components/lib/themed-scrollbars"),require("@deriv/components/lib/themed-scrollbars.css"),require("@deriv/components/lib/tick-picker"),require("@deriv/components/lib/tick-picker.css"),require("@deriv/components/lib/tick-progress"),require("@deriv/components/lib/tick-progress.css"),require("@deriv/components/lib/toast-error"),require("@deriv/components/lib/toast-error.css"),require("@deriv/components/lib/u-i-loader"),require("@deriv/components/lib/vertical-tab"),require("@deriv/components/lib/vertical-tab.css"),require("@deriv/deriv-charts"),require("@deriv/shared/utils/config"),require("@deriv/shared/utils/currency"),require("@deriv/shared/utils/date"),require("@deriv/shared/utils/object"),require("@deriv/shared/utils/os"),require("@deriv/shared/utils/route"),require("@deriv/shared/utils/routes"),require("@deriv/shared/utils/screen"),require("@deriv/shared/utils/storage"),require("@deriv/shared/utils/string"),require("@deriv/shared/utils/url"),require("@deriv/translations"),require("mobx"),require("mobx-react"),require("react"),require("react-dom"),require("react-router"),require("react-router-dom")):"function"==typeof define&&define.amd?define(["@deriv/account/dist/js/file-uploader-container","@deriv/account/dist/js/form-sub-header","@deriv/account/dist/js/poa-expired","@deriv/account/dist/js/poa-needs-review","@deriv/account/dist/js/poa-status-codes","@deriv/account/dist/js/poa-submitted","@deriv/account/dist/js/poa-unverified","@deriv/account/dist/js/poa-verified","@deriv/account/dist/js/proof-of-identity-container","@deriv/components/lib/auto-height-wrapper","@deriv/components/lib/autocomplete","@deriv/components/lib/autocomplete.css","@deriv/components/lib/button","@deriv/components/lib/button-toggle","@deriv/components/lib/button-toggle.css","@deriv/components/lib/button.css","@deriv/components/lib/calendar","@deriv/components/lib/calendar.css","@deriv/components/lib/checkbox","@deriv/components/lib/checkbox.css","@deriv/components/lib/circular-progress","@deriv/components/lib/circular-progress.css","@deriv/components/lib/clipboard","@deriv/components/lib/clipboard.css","@deriv/components/lib/collapsible","@deriv/components/lib/collapsible.css","@deriv/components/lib/data-list","@deriv/components/lib/data-list.css","@deriv/components/lib/data-table","@deriv/components/lib/data-table.css","@deriv/components/lib/date-picker","@deriv/components/lib/date-picker.css","@deriv/components/lib/desktop-wrapper","@deriv/components/lib/desktop-wrapper.css","@deriv/components/lib/dialog","@deriv/components/lib/dialog.css","@deriv/components/lib/div100vh-container","@deriv/components/lib/div100vh-container.css","@deriv/components/lib/dropdown","@deriv/components/lib/dropdown.css","@deriv/components/lib/fade-wrapper","@deriv/components/lib/fade-wrapper.css","@deriv/components/lib/form-progress","@deriv/components/lib/form-progress.css","@deriv/components/lib/form-submit-button","@deriv/components/lib/form-submit-button.css","@deriv/components/lib/icon","@deriv/components/lib/icon-trade-types","@deriv/components/lib/icon-trade-types.css","@deriv/components/lib/icon.css","@deriv/components/lib/input","@deriv/components/lib/input.css","@deriv/components/lib/label","@deriv/components/lib/label.css","@deriv/components/lib/loading","@deriv/components/lib/loading.css","@deriv/components/lib/mobile-dialog","@deriv/components/lib/mobile-dialog.css","@deriv/components/lib/mobile-wrapper","@deriv/components/lib/mobile-wrapper.css","@deriv/components/lib/modal","@deriv/components/lib/modal.css","@deriv/components/lib/money","@deriv/components/lib/money.css","@deriv/components/lib/multi-step","@deriv/components/lib/multi-step.css","@deriv/components/lib/numpad","@deriv/components/lib/numpad.css","@deriv/components/lib/page-error","@deriv/components/lib/page-error.css","@deriv/components/lib/page-overlay","@deriv/components/lib/page-overlay.css","@deriv/components/lib/password-input","@deriv/components/lib/password-input.css","@deriv/components/lib/password-meter","@deriv/components/lib/password-meter.css","@deriv/components/lib/popover","@deriv/components/lib/popover.css","@deriv/components/lib/progress-bar","@deriv/components/lib/progress-bar.css","@deriv/components/lib/relative-datepicker","@deriv/components/lib/relative-datepicker.css","@deriv/components/lib/select-native","@deriv/components/lib/select-native.css","@deriv/components/lib/swipeable-wrapper","@deriv/components/lib/swipeable-wrapper.css","@deriv/components/lib/table","@deriv/components/lib/table.css","@deriv/components/lib/tabs","@deriv/components/lib/tabs.css","@deriv/components/lib/themed-scrollbars","@deriv/components/lib/themed-scrollbars.css","@deriv/components/lib/tick-picker","@deriv/components/lib/tick-picker.css","@deriv/components/lib/tick-progress","@deriv/components/lib/tick-progress.css","@deriv/components/lib/toast-error","@deriv/components/lib/toast-error.css","@deriv/components/lib/u-i-loader","@deriv/components/lib/vertical-tab","@deriv/components/lib/vertical-tab.css","@deriv/deriv-charts","@deriv/shared/utils/config","@deriv/shared/utils/currency","@deriv/shared/utils/date","@deriv/shared/utils/object","@deriv/shared/utils/os","@deriv/shared/utils/route","@deriv/shared/utils/routes","@deriv/shared/utils/screen","@deriv/shared/utils/storage","@deriv/shared/utils/string","@deriv/shared/utils/url","@deriv/translations","mobx","mobx-react","react","react-dom","react-router","react-router-dom"],t):"object"==typeof exports?exports["@deriv/trader"]=t(require("@deriv/account/dist/js/file-uploader-container"),require("@deriv/account/dist/js/form-sub-header"),require("@deriv/account/dist/js/poa-expired"),require("@deriv/account/dist/js/poa-needs-review"),require("@deriv/account/dist/js/poa-status-codes"),require("@deriv/account/dist/js/poa-submitted"),require("@deriv/account/dist/js/poa-unverified"),require("@deriv/account/dist/js/poa-verified"),require("@deriv/account/dist/js/proof-of-identity-container"),require("@deriv/components/lib/auto-height-wrapper"),require("@deriv/components/lib/autocomplete"),require("@deriv/components/lib/autocomplete.css"),require("@deriv/components/lib/button"),require("@deriv/components/lib/button-toggle"),require("@deriv/components/lib/button-toggle.css"),require("@deriv/components/lib/button.css"),require("@deriv/components/lib/calendar"),require("@deriv/components/lib/calendar.css"),require("@deriv/components/lib/checkbox"),require("@deriv/components/lib/checkbox.css"),require("@deriv/components/lib/circular-progress"),require("@deriv/components/lib/circular-progress.css"),require("@deriv/components/lib/clipboard"),require("@deriv/components/lib/clipboard.css"),require("@deriv/components/lib/collapsible"),require("@deriv/components/lib/collapsible.css"),require("@deriv/components/lib/data-list"),require("@deriv/components/lib/data-list.css"),require("@deriv/components/lib/data-table"),require("@deriv/components/lib/data-table.css"),require("@deriv/components/lib/date-picker"),require("@deriv/components/lib/date-picker.css"),require("@deriv/components/lib/desktop-wrapper"),require("@deriv/components/lib/desktop-wrapper.css"),require("@deriv/components/lib/dialog"),require("@deriv/components/lib/dialog.css"),require("@deriv/components/lib/div100vh-container"),require("@deriv/components/lib/div100vh-container.css"),require("@deriv/components/lib/dropdown"),require("@deriv/components/lib/dropdown.css"),require("@deriv/components/lib/fade-wrapper"),require("@deriv/components/lib/fade-wrapper.css"),require("@deriv/components/lib/form-progress"),require("@deriv/components/lib/form-progress.css"),require("@deriv/components/lib/form-submit-button"),require("@deriv/components/lib/form-submit-button.css"),require("@deriv/components/lib/icon"),require("@deriv/components/lib/icon-trade-types"),require("@deriv/components/lib/icon-trade-types.css"),require("@deriv/components/lib/icon.css"),require("@deriv/components/lib/input"),require("@deriv/components/lib/input.css"),require("@deriv/components/lib/label"),require("@deriv/components/lib/label.css"),require("@deriv/components/lib/loading"),require("@deriv/components/lib/loading.css"),require("@deriv/components/lib/mobile-dialog"),require("@deriv/components/lib/mobile-dialog.css"),require("@deriv/components/lib/mobile-wrapper"),require("@deriv/components/lib/mobile-wrapper.css"),require("@deriv/components/lib/modal"),require("@deriv/components/lib/modal.css"),require("@deriv/components/lib/money"),require("@deriv/components/lib/money.css"),require("@deriv/components/lib/multi-step"),require("@deriv/components/lib/multi-step.css"),require("@deriv/components/lib/numpad"),require("@deriv/components/lib/numpad.css"),require("@deriv/components/lib/page-error"),require("@deriv/components/lib/page-error.css"),require("@deriv/components/lib/page-overlay"),require("@deriv/components/lib/page-overlay.css"),require("@deriv/components/lib/password-input"),require("@deriv/components/lib/password-input.css"),require("@deriv/components/lib/password-meter"),require("@deriv/components/lib/password-meter.css"),require("@deriv/components/lib/popover"),require("@deriv/components/lib/popover.css"),require("@deriv/components/lib/progress-bar"),require("@deriv/components/lib/progress-bar.css"),require("@deriv/components/lib/relative-datepicker"),require("@deriv/components/lib/relative-datepicker.css"),require("@deriv/components/lib/select-native"),require("@deriv/components/lib/select-native.css"),require("@deriv/components/lib/swipeable-wrapper"),require("@deriv/components/lib/swipeable-wrapper.css"),require("@deriv/components/lib/table"),require("@deriv/components/lib/table.css"),require("@deriv/components/lib/tabs"),require("@deriv/components/lib/tabs.css"),require("@deriv/components/lib/themed-scrollbars"),require("@deriv/components/lib/themed-scrollbars.css"),require("@deriv/components/lib/tick-picker"),require("@deriv/components/lib/tick-picker.css"),require("@deriv/components/lib/tick-progress"),require("@deriv/components/lib/tick-progress.css"),require("@deriv/components/lib/toast-error"),require("@deriv/components/lib/toast-error.css"),require("@deriv/components/lib/u-i-loader"),require("@deriv/components/lib/vertical-tab"),require("@deriv/components/lib/vertical-tab.css"),require("@deriv/deriv-charts"),require("@deriv/shared/utils/config"),require("@deriv/shared/utils/currency"),require("@deriv/shared/utils/date"),require("@deriv/shared/utils/object"),require("@deriv/shared/utils/os"),require("@deriv/shared/utils/route"),require("@deriv/shared/utils/routes"),require("@deriv/shared/utils/screen"),require("@deriv/shared/utils/storage"),require("@deriv/shared/utils/string"),require("@deriv/shared/utils/url"),require("@deriv/translations"),require("mobx"),require("mobx-react"),require("react"),require("react-dom"),require("react-router"),require("react-router-dom")):e["@deriv/trader"]=t(e["@deriv/account/dist/js/file-uploader-container"],e["@deriv/account/dist/js/form-sub-header"],e["@deriv/account/dist/js/poa-expired"],e["@deriv/account/dist/js/poa-needs-review"],e["@deriv/account/dist/js/poa-status-codes"],e["@deriv/account/dist/js/poa-submitted"],e["@deriv/account/dist/js/poa-unverified"],e["@deriv/account/dist/js/poa-verified"],e["@deriv/account/dist/js/proof-of-identity-container"],e["@deriv/components/lib/auto-height-wrapper"],e["@deriv/components/lib/autocomplete"],e["@deriv/components/lib/autocomplete.css"],e["@deriv/components/lib/button"],e["@deriv/components/lib/button-toggle"],e["@deriv/components/lib/button-toggle.css"],e["@deriv/components/lib/button.css"],e["@deriv/components/lib/calendar"],e["@deriv/components/lib/calendar.css"],e["@deriv/components/lib/checkbox"],e["@deriv/components/lib/checkbox.css"],e["@deriv/components/lib/circular-progress"],e["@deriv/components/lib/circular-progress.css"],e["@deriv/components/lib/clipboard"],e["@deriv/components/lib/clipboard.css"],e["@deriv/components/lib/collapsible"],e["@deriv/components/lib/collapsible.css"],e["@deriv/components/lib/data-list"],e["@deriv/components/lib/data-list.css"],e["@deriv/components/lib/data-table"],e["@deriv/components/lib/data-table.css"],e["@deriv/components/lib/date-picker"],e["@deriv/components/lib/date-picker.css"],e["@deriv/components/lib/desktop-wrapper"],e["@deriv/components/lib/desktop-wrapper.css"],e["@deriv/components/lib/dialog"],e["@deriv/components/lib/dialog.css"],e["@deriv/components/lib/div100vh-container"],e["@deriv/components/lib/div100vh-container.css"],e["@deriv/components/lib/dropdown"],e["@deriv/components/lib/dropdown.css"],e["@deriv/components/lib/fade-wrapper"],e["@deriv/components/lib/fade-wrapper.css"],e["@deriv/components/lib/form-progress"],e["@deriv/components/lib/form-progress.css"],e["@deriv/components/lib/form-submit-button"],e["@deriv/components/lib/form-submit-button.css"],e["@deriv/components/lib/icon"],e["@deriv/components/lib/icon-trade-types"],e["@deriv/components/lib/icon-trade-types.css"],e["@deriv/components/lib/icon.css"],e["@deriv/components/lib/input"],e["@deriv/components/lib/input.css"],e["@deriv/components/lib/label"],e["@deriv/components/lib/label.css"],e["@deriv/components/lib/loading"],e["@deriv/components/lib/loading.css"],e["@deriv/components/lib/mobile-dialog"],e["@deriv/components/lib/mobile-dialog.css"],e["@deriv/components/lib/mobile-wrapper"],e["@deriv/components/lib/mobile-wrapper.css"],e["@deriv/components/lib/modal"],e["@deriv/components/lib/modal.css"],e["@deriv/components/lib/money"],e["@deriv/components/lib/money.css"],e["@deriv/components/lib/multi-step"],e["@deriv/components/lib/multi-step.css"],e["@deriv/components/lib/numpad"],e["@deriv/components/lib/numpad.css"],e["@deriv/components/lib/page-error"],e["@deriv/components/lib/page-error.css"],e["@deriv/components/lib/page-overlay"],e["@deriv/components/lib/page-overlay.css"],e["@deriv/components/lib/password-input"],e["@deriv/components/lib/password-input.css"],e["@deriv/components/lib/password-meter"],e["@deriv/components/lib/password-meter.css"],e["@deriv/components/lib/popover"],e["@deriv/components/lib/popover.css"],e["@deriv/components/lib/progress-bar"],e["@deriv/components/lib/progress-bar.css"],e["@deriv/components/lib/relative-datepicker"],e["@deriv/components/lib/relative-datepicker.css"],e["@deriv/components/lib/select-native"],e["@deriv/components/lib/select-native.css"],e["@deriv/components/lib/swipeable-wrapper"],e["@deriv/components/lib/swipeable-wrapper.css"],e["@deriv/components/lib/table"],e["@deriv/components/lib/table.css"],e["@deriv/components/lib/tabs"],e["@deriv/components/lib/tabs.css"],e["@deriv/components/lib/themed-scrollbars"],e["@deriv/components/lib/themed-scrollbars.css"],e["@deriv/components/lib/tick-picker"],e["@deriv/components/lib/tick-picker.css"],e["@deriv/components/lib/tick-progress"],e["@deriv/components/lib/tick-progress.css"],e["@deriv/components/lib/toast-error"],e["@deriv/components/lib/toast-error.css"],e["@deriv/components/lib/u-i-loader"],e["@deriv/components/lib/vertical-tab"],e["@deriv/components/lib/vertical-tab.css"],e["@deriv/deriv-charts"],e["@deriv/shared/utils/config"],e["@deriv/shared/utils/currency"],e["@deriv/shared/utils/date"],e["@deriv/shared/utils/object"],e["@deriv/shared/utils/os"],e["@deriv/shared/utils/route"],e["@deriv/shared/utils/routes"],e["@deriv/shared/utils/screen"],e["@deriv/shared/utils/storage"],e["@deriv/shared/utils/string"],e["@deriv/shared/utils/url"],e["@deriv/translations"],e.mobx,e["mobx-react"],e.react,e["react-dom"],e["react-router"],e["react-router-dom"])}(window,(function(e,t,r,n,o,i,a,s,c,l,u,p,d,f,m,h,b,y,_,v,g,w,O,j,S,k,x,E,P,C,D,T,M,A,R,N,I,z,L,U,q,F,H,Y,V,B,W,G,X,$,Z,J,K,Q,ee,te,re,ne,oe,ie,ae,se,ce,le,ue,pe,de,fe,me,he,be,ye,_e,ve,ge,we,Oe,je,Se,ke,xe,Ee,Pe,Ce,De,Te,Me,Ae,Re,Ne,Ie,ze,Le,Ue,qe,Fe,He,Ye,Ve,Be,We,Ge,Xe,$e,Ze,Je,Ke,Qe,et,tt,rt,nt,ot,it,at,st,ct,lt,ut,pt){return function(e){function t(t){for(var r,n,s=t[0],c=t[1],l=t[3]||[],p=0,d=[];p<s.length;p++)n=s[p],Object.prototype.hasOwnProperty.call(o,n)&&o[n]&&d.push(o[n][0]),o[n]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);for(u&&u(t),l.forEach((function(e){if(void 0===o[e]){o[e]=null;var t=document.createElement("link");a.nc&&t.setAttribute("nonce",a.nc),t.rel="prefetch",t.as="script",t.href=i(e),document.head.appendChild(t)}}));d.length;)d.shift()()}var r={},n={main:0},o={main:0};function i(e){return a.p+"js/trader."+({404:"404",contract:"contract","error-component":"error-component",reports:"reports","screen-large~screen-small":"screen-large~screen-small","screen-large":"screen-large","screen-small":"screen-small","settings-chart":"settings-chart","trade-modals":"trade-modals","vendors~mt5":"vendors~mt5",mt5:"mt5","two-month-picker":"two-month-picker"}[e]||e)+"."+{404:"a81069c3fde2362ef42c",contract:"cd5e3c4b2f36d35b1d7e","error-component":"d5662f9af1f654e5a911",reports:"b7fec6d0d88af7ebe121","screen-large~screen-small":"0b8395b902f757e5501e","screen-large":"9b1050d17a4dedea5be8","screen-small":"672e0eb1537d683413ca","settings-chart":"45d6b7d3b2ea82402773","trade-modals":"6a9c913d9131e5ecfb74","vendors~mt5":"a48afcfb8f8ca2c2d745",mt5:"18e655fe2542eb53df66","two-month-picker":"cfbe1101cbd69622d786"}[e]+".js"}function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.e=function(e){var t=[];n[e]?t.push(n[e]):0!==n[e]&&{reports:1,"screen-small":1,mt5:1}[e]&&t.push(n[e]=new Promise((function(t,r){for(var o="css/trader."+({404:"404",contract:"contract","error-component":"error-component",reports:"reports","screen-large~screen-small":"screen-large~screen-small","screen-large":"screen-large","screen-small":"screen-small","settings-chart":"settings-chart","trade-modals":"trade-modals","vendors~mt5":"vendors~mt5",mt5:"mt5","two-month-picker":"two-month-picker"}[e]||e)+"."+{404:"31d6cfe0d16ae931b73c",contract:"31d6cfe0d16ae931b73c","error-component":"31d6cfe0d16ae931b73c",reports:"54739536d677121f2c2e","screen-large~screen-small":"31d6cfe0d16ae931b73c","screen-large":"31d6cfe0d16ae931b73c","screen-small":"1390eaf0dd949da51d90","settings-chart":"31d6cfe0d16ae931b73c","trade-modals":"31d6cfe0d16ae931b73c","vendors~mt5":"31d6cfe0d16ae931b73c",mt5:"8f6abd55b3e9d16f71a8","two-month-picker":"31d6cfe0d16ae931b73c"}[e]+".css",i=a.p+o,s=document.getElementsByTagName("link"),c=0;c<s.length;c++){var l=(p=s[c]).getAttribute("data-href")||p.getAttribute("href");if("stylesheet"===p.rel&&(l===o||l===i))return t()}var u=document.getElementsByTagName("style");for(c=0;c<u.length;c++){var p;if((l=(p=u[c]).getAttribute("data-href"))===o||l===i)return t()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=t,d.onerror=function(t){var o=t&&t.target&&t.target.src||i,a=new Error("Loading CSS chunk "+e+" failed.\n("+o+")");a.code="CSS_CHUNK_LOAD_FAILED",a.request=o,delete n[e],d.parentNode.removeChild(d),r(a)},d.href=i,document.getElementsByTagName("head")[0].appendChild(d)})).then((function(){n[e]=0})));var r=o[e];if(0!==r)if(r)t.push(r[2]);else{var s=new Promise((function(t,n){r=o[e]=[t,n]}));t.push(r[2]=s);var c,l=document.createElement("script");l.charset="utf-8",l.timeout=120,a.nc&&l.setAttribute("nonce",a.nc),l.src=i(e);var u=new Error;c=function(t){l.onerror=l.onload=null,clearTimeout(p);var r=o[e];if(0!==r){if(r){var n=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;u.message="Loading chunk "+e+" failed.\n("+n+": "+i+")",u.name="ChunkLoadError",u.type=n,u.request=i,r[1](u)}o[e]=void 0}};var p=setTimeout((function(){c({type:"timeout",target:l})}),12e4);l.onerror=l.onload=c,document.head.appendChild(l)}return Promise.all(t)},a.m=e,a.c=r,a.d=function(e,t,r){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(r,n,function(t){return e[t]}.bind(null,n));return r},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/",a.oe=function(e){throw console.error(e),e};var s=window.webpackJsonp_deriv_trader=window.webpackJsonp_deriv_trader||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var u=c,p=a(a.s="./index.js");return t([[],{},0,["vendors~mt5","mt5","settings-chart","trade-modals"]]),p}({"../node_modules/@babel/runtime/helpers/interopRequireDefault.js":function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}}},"../node_modules/classnames/index.js":function(e,t,r){var n;
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/!function(){"use strict";var r={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var i=typeof n;if("string"===i||"number"===i)e.push(n);else if(Array.isArray(n)&&n.length){var a=o.apply(null,n);a&&e.push(a)}else if("object"===i)for(var s in n)r.call(n,s)&&n[s]&&e.push(s)}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(n=function(){return o}.apply(t,[]))||(e.exports=n)}()},"../node_modules/dom-helpers/class/addClass.js":function(e,t,r){"use strict";var n=r("../node_modules/@babel/runtime/helpers/interopRequireDefault.js");t.__esModule=!0,t.default=function(e,t){e.classList?e.classList.add(t):(0,o.default)(e,t)||("string"==typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))};var o=n(r("../node_modules/dom-helpers/class/hasClass.js"));e.exports=t.default},"../node_modules/dom-helpers/class/hasClass.js":function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")},e.exports=t.default},"../node_modules/dom-helpers/class/removeClass.js":function(e,t,r){"use strict";function n(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}e.exports=function(e,t){e.classList?e.classList.remove(t):"string"==typeof e.className?e.className=n(e.className,t):e.setAttribute("class",n(e.className&&e.className.baseVal||"",t))}},"../node_modules/event-source-polyfill/src/eventsource.js":function(e,t,r){var n,o,i;
/** @license
 * eventsource.js
 * Available under MIT License (MIT)
 * https://github.com/Yaffle/EventSource/
 */!function(r){"use strict";var a=r.setTimeout,s=r.clearTimeout,c=r.XMLHttpRequest,l=r.XDomainRequest,u=r.ActiveXObject,p=r.EventSource,d=r.document,f=r.Promise,m=r.fetch,h=r.Response,b=r.TextDecoder,y=r.TextEncoder,_=r.AbortController;if("undefined"==typeof window||"readyState"in d||null!=d.body||(d.readyState="loading",window.addEventListener("load",(function(e){d.readyState="complete"}),!1)),null==c&&(c=function(){return new u("Microsoft.XMLHTTP")}),null==Object.create&&(Object.create=function(e){function t(){}return t.prototype=e,new t}),null==_){var v=m;m=function(e,t){var r=t.signal;return v(e,{headers:t.headers,credentials:t.credentials,cache:t.cache}).then((function(e){var t=e.body.getReader();return r._reader=t,r._aborted&&r._reader.cancel(),{status:e.status,statusText:e.statusText,headers:e.headers,body:{getReader:function(){return t}}}}))},_=function(){this.signal={_reader:null,_aborted:!1},this.abort=function(){null!=this.signal._reader&&this.signal._reader.cancel(),this.signal._aborted=!0}}}function g(){this.bitsNeeded=0,this.codePoint=0}g.prototype.decode=function(e){function t(e,t,r){if(1===r)return e>=128>>t&&e<<t<=2047;if(2===r)return e>=2048>>t&&e<<t<=55295||e>=57344>>t&&e<<t<=65535;if(3===r)return e>=65536>>t&&e<<t<=1114111;throw new Error}function r(e,t){if(6===e)return t>>6>15?3:t>31?2:1;if(12===e)return t>15?3:2;if(18===e)return 3;throw new Error}for(var n="",o=this.bitsNeeded,i=this.codePoint,a=0;a<e.length;a+=1){var s=e[a];0!==o&&(s<128||s>191||!t(i<<6|63&s,o-6,r(o,i)))&&(o=0,i=65533,n+=String.fromCharCode(i)),0===o?(s>=0&&s<=127?(o=0,i=s):s>=192&&s<=223?(o=6,i=31&s):s>=224&&s<=239?(o=12,i=15&s):s>=240&&s<=247?(o=18,i=7&s):(o=0,i=65533),0===o||t(i,o,r(o,i))||(o=0,i=65533)):(o-=6,i=i<<6|63&s),0===o&&(i<=65535?n+=String.fromCharCode(i):(n+=String.fromCharCode(55296+(i-65535-1>>10)),n+=String.fromCharCode(56320+(i-65535-1&1023))))}return this.bitsNeeded=o,this.codePoint=i,n};null!=b&&null!=y&&function(){try{return"test"===(new b).decode((new y).encode("test"),{stream:!0})}catch(e){console.debug("TextDecoder does not support streaming option. Using polyfill instead: "+e)}return!1}()||(b=g);var w=function(){};function O(e){this.withCredentials=!1,this.readyState=0,this.status=0,this.statusText="",this.responseText="",this.onprogress=w,this.onload=w,this.onerror=w,this.onreadystatechange=w,this._contentType="",this._xhr=e,this._sendTimeout=0,this._abort=w}function j(e){return e.replace(/[A-Z]/g,(function(e){return String.fromCharCode(e.charCodeAt(0)+32)}))}function S(e){for(var t=Object.create(null),r=e.split("\r\n"),n=0;n<r.length;n+=1){var o=r[n].split(": "),i=o.shift(),a=o.join(": ");t[j(i)]=a}this._map=t}function k(){}function x(e){this._headers=e}function E(){}function P(){this._listeners=Object.create(null)}function C(e){a((function(){throw e}),0)}function D(e){this.type=e,this.target=void 0}function T(e,t){D.call(this,e),this.data=t.data,this.lastEventId=t.lastEventId}function M(e,t){D.call(this,e),this.status=t.status,this.statusText=t.statusText,this.headers=t.headers}function A(e,t){D.call(this,e),this.error=t.error}O.prototype.open=function(e,t){this._abort(!0);var r=this,n=this._xhr,o=1,i=0;this._abort=function(e){0!==r._sendTimeout&&(s(r._sendTimeout),r._sendTimeout=0),1!==o&&2!==o&&3!==o||(o=4,n.onload=w,n.onerror=w,n.onabort=w,n.onprogress=w,n.onreadystatechange=w,n.abort(),0!==i&&(s(i),i=0),e||(r.readyState=4,r.onabort(null),r.onreadystatechange())),o=0};var l=function(){if(1===o){var e=0,t="",i=void 0;if("contentType"in n)e=200,t="OK",i=n.contentType;else try{e=n.status,t=n.statusText,i=n.getResponseHeader("Content-Type")}catch(r){e=0,t="",i=void 0}0!==e&&(o=2,r.readyState=2,r.status=e,r.statusText=t,r._contentType=i,r.onreadystatechange())}},u=function(){if(l(),2===o||3===o){o=3;var e="";try{e=n.responseText}catch(e){}r.readyState=3,r.responseText=e,r.onprogress()}},p=function(e,t){if(null!=t&&null!=t.preventDefault||(t={preventDefault:w}),u(),1===o||2===o||3===o){if(o=4,0!==i&&(s(i),i=0),r.readyState=4,"load"===e)r.onload(t);else if("error"===e)r.onerror(t);else{if("abort"!==e)throw new TypeError;r.onabort(t)}r.onreadystatechange()}},d=function(){i=a((function(){d()}),500),3===n.readyState&&u()};"onload"in n&&(n.onload=function(e){p("load",e)}),"onerror"in n&&(n.onerror=function(e){p("error",e)}),"onabort"in n&&(n.onabort=function(e){p("abort",e)}),"onprogress"in n&&(n.onprogress=u),"onreadystatechange"in n&&(n.onreadystatechange=function(e){!function(e){null!=n&&(4===n.readyState?"onload"in n&&"onerror"in n&&"onabort"in n||p(""===n.responseText?"error":"load",e):3===n.readyState?"onprogress"in n||u():2===n.readyState&&l())}(e)}),!("contentType"in n)&&"ontimeout"in c.prototype||(t+=(-1===t.indexOf("?")?"?":"&")+"padding=true"),n.open(e,t,!0),"readyState"in n&&(i=a((function(){d()}),0))},O.prototype.abort=function(){this._abort(!1)},O.prototype.getResponseHeader=function(e){return this._contentType},O.prototype.setRequestHeader=function(e,t){var r=this._xhr;"setRequestHeader"in r&&r.setRequestHeader(e,t)},O.prototype.getAllResponseHeaders=function(){return null!=this._xhr.getAllResponseHeaders&&this._xhr.getAllResponseHeaders()||""},O.prototype.send=function(){if("ontimeout"in c.prototype&&("sendAsBinary"in c.prototype||"mozAnon"in c.prototype)||null==d||null==d.readyState||"complete"===d.readyState){var e=this._xhr;"withCredentials"in e&&(e.withCredentials=this.withCredentials);try{e.send(void 0)}catch(e){throw e}}else{var t=this;t._sendTimeout=a((function(){t._sendTimeout=0,t.send()}),4)}},S.prototype.get=function(e){return this._map[j(e)]},null!=c&&null==c.HEADERS_RECEIVED&&(c.HEADERS_RECEIVED=2),k.prototype.open=function(e,t,r,n,o,i,a){e.open("GET",o);var s=0;for(var l in e.onprogress=function(){var t=e.responseText.slice(s);s+=t.length,r(t)},e.onerror=function(e){e.preventDefault(),n(new Error("NetworkError"))},e.onload=function(){n(null)},e.onabort=function(){n(null)},e.onreadystatechange=function(){if(e.readyState===c.HEADERS_RECEIVED){var r=e.status,n=e.statusText,o=e.getResponseHeader("Content-Type"),i=e.getAllResponseHeaders();t(r,n,o,new S(i))}},e.withCredentials=i,a)Object.prototype.hasOwnProperty.call(a,l)&&e.setRequestHeader(l,a[l]);return e.send(),e},x.prototype.get=function(e){return this._headers.get(e)},E.prototype.open=function(e,t,r,n,o,i,a){var s=null,c=new _,l=c.signal,u=new b;return m(o,{headers:a,credentials:i?"include":"same-origin",signal:l,cache:"no-store"}).then((function(e){return s=e.body.getReader(),t(e.status,e.statusText,e.headers.get("Content-Type"),new x(e.headers)),new f((function(e,t){var n=function(){s.read().then((function(t){if(t.done)e(void 0);else{var o=u.decode(t.value,{stream:!0});r(o),n()}})).catch((function(e){t(e)}))};n()}))})).catch((function(e){return"AbortError"===e.name?void 0:e})).then((function(e){n(e)})),{abort:function(){null!=s&&s.cancel(),c.abort()}}},P.prototype.dispatchEvent=function(e){e.target=this;var t=this._listeners[e.type];if(null!=t)for(var r=t.length,n=0;n<r;n+=1){var o=t[n];try{"function"==typeof o.handleEvent?o.handleEvent(e):o.call(this,e)}catch(e){C(e)}}},P.prototype.addEventListener=function(e,t){e=String(e);var r=this._listeners,n=r[e];null==n&&(n=[],r[e]=n);for(var o=!1,i=0;i<n.length;i+=1)n[i]===t&&(o=!0);o||n.push(t)},P.prototype.removeEventListener=function(e,t){e=String(e);var r=this._listeners,n=r[e];if(null!=n){for(var o=[],i=0;i<n.length;i+=1)n[i]!==t&&o.push(n[i]);0===o.length?delete r[e]:r[e]=o}},T.prototype=Object.create(D.prototype),M.prototype=Object.create(D.prototype),A.prototype=Object.create(D.prototype);var R=/^text\/event\-stream;?(\s*charset\=utf\-8)?$/i,N=function(e,t){var r=null==e?t:parseInt(e,10);return r!=r&&(r=t),I(r)},I=function(e){return Math.min(Math.max(e,1e3),18e6)},z=function(e,t,r){try{"function"==typeof t&&t.call(e,r)}catch(e){C(e)}};function L(e,t){P.call(this),t=t||{},this.onopen=void 0,this.onmessage=void 0,this.onerror=void 0,this.url=void 0,this.readyState=void 0,this.withCredentials=void 0,this.headers=void 0,this._close=void 0,function(e,t,r){t=String(t);var n=Boolean(r.withCredentials),o=I(1e3),i=N(r.heartbeatTimeout,45e3),u="",p=o,d=!1,f=0,m=r.headers||{},h=r.Transport,b=U&&null==h?void 0:new O(null!=h?new h:null!=c&&"withCredentials"in c.prototype||null==l?new c:new l),y=null!=h&&"string"!=typeof h?new h:null==b?new E:new k,_=void 0,v=0,g=-1,w="",j="",S="",x="",P=0,C=0,D=0,L=function(t,r,n,i){if(0===g)if(200===t&&null!=n&&R.test(n)){g=1,d=!0,p=o,e.readyState=1;var a=new M("open",{status:t,statusText:r,headers:i});e.dispatchEvent(a),z(e,e.onopen,a)}else{var s="";200!==t?(r&&(r=r.replace(/\s+/g," ")),s="EventSource's response has a status "+t+" "+r+" that is not 200. Aborting the connection."):s="EventSource's response has a Content-Type specifying an unsupported type: "+(null==n?"-":n.replace(/\s+/g," "))+". Aborting the connection.",H();a=new M("error",{status:t,statusText:r,headers:i});e.dispatchEvent(a),z(e,e.onerror,a),console.error(s)}},q=function(t){if(1===g){for(var r=-1,n=0;n<t.length;n+=1){(m=t.charCodeAt(n))!=="\n".charCodeAt(0)&&m!=="\r".charCodeAt(0)||(r=n)}var c=(-1!==r?x:"")+t.slice(0,r+1);x=(-1===r?x:"")+t.slice(r+1),""!==t&&(d=!0,f+=t.length);for(var l=0;l<c.length;l+=1){var m=c.charCodeAt(l);if(-1===P&&m==="\n".charCodeAt(0))P=0;else if(-1===P&&(P=0),m==="\r".charCodeAt(0)||m==="\n".charCodeAt(0)){if(0!==P){1===P&&(D=l+1);var h=c.slice(C,D-1),b=c.slice(D+(D<l&&c.charCodeAt(D)===" ".charCodeAt(0)?1:0),l);"data"===h?(w+="\n",w+=b):"id"===h?j=b:"event"===h?S=b:"retry"===h?(o=N(b,o),p=o):"heartbeatTimeout"===h&&(i=N(b,i),0!==v&&(s(v),v=a((function(){Y()}),i)))}if(0===P){if(""!==w){u=j,""===S&&(S="message");var y=new T(S,{data:w.slice(1),lastEventId:j});if(e.dispatchEvent(y),"open"===S?z(e,e.onopen,y):"message"===S?z(e,e.onmessage,y):"error"===S&&z(e,e.onerror,y),2===g)return}w="",S=""}P=m==="\r".charCodeAt(0)?-1:0}else 0===P&&(C=l,P=1),1===P?m===":".charCodeAt(0)&&(D=l+1,P=2):2===P&&(P=3)}}},F=function(t){if(1===g||0===g){g=-1,0!==v&&(s(v),v=0),v=a((function(){Y()}),p),p=I(Math.min(16*o,2*p)),e.readyState=0;var r=new A("error",{error:t});e.dispatchEvent(r),z(e,e.onerror,r)}},H=function(){g=2,null!=_&&(_.abort(),_=void 0),0!==v&&(s(v),v=0),e.readyState=2},Y=function(){if(v=0,-1===g){d=!1,f=0,v=a((function(){Y()}),i),g=0,w="",S="",j=u,x="",C=0,D=0,P=0;var r=t;"data:"!==t.slice(0,5)&&"blob:"!==t.slice(0,5)&&""!==u&&(r+=(-1===t.indexOf("?")?"?":"&")+"lastEventId="+encodeURIComponent(u));var n=e.withCredentials,o={Accept:"text/event-stream"},s=e.headers;if(null!=s)for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c]);try{_=y.open(b,L,q,F,r,n,o)}catch(e){throw H(),e}}else d||null==_?(d=!1,v=a((function(){Y()}),i)):(F(new Error("No activity within "+i+" milliseconds. "+(0===g?"No response received.":f+" chars received.")+" Reconnecting.")),null!=_&&(_.abort(),_=void 0))};e.url=t,e.readyState=0,e.withCredentials=n,e.headers=m,e._close=H,Y()}(this,e,t)}var U=null!=m&&null!=h&&"body"in h.prototype;L.prototype=Object.create(P.prototype),L.prototype.CONNECTING=0,L.prototype.OPEN=1,L.prototype.CLOSED=2,L.prototype.close=function(){this._close()},L.CONNECTING=0,L.OPEN=1,L.CLOSED=2,L.prototype.withCredentials=void 0;var q=p;null==c||null!=p&&"withCredentials"in p.prototype||(q=L),function(r){if("object"==typeof e.exports){var a=r(t);void 0!==a&&(e.exports=a)}else o=[t],void 0===(i="function"==typeof(n=r)?n.apply(t,o):n)||(e.exports=i)}((function(e){e.EventSourcePolyfill=L,e.NativeEventSource=p,e.EventSource=q}))}("undefined"!=typeof window?window:"undefined"!=typeof self?self:this)},"../node_modules/extend/index.js":function(e,t,r){"use strict";var n=Object.prototype.hasOwnProperty,o=Object.prototype.toString,i=Object.defineProperty,a=Object.getOwnPropertyDescriptor,s=function(e){return"function"==typeof Array.isArray?Array.isArray(e):"[object Array]"===o.call(e)},c=function(e){if(!e||"[object Object]"!==o.call(e))return!1;var t,r=n.call(e,"constructor"),i=e.constructor&&e.constructor.prototype&&n.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!r&&!i)return!1;for(t in e);return void 0===t||n.call(e,t)},l=function(e,t){i&&"__proto__"===t.name?i(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},u=function(e,t){if("__proto__"===t){if(!n.call(e,t))return;if(a)return a(e,t).value}return e[t]};e.exports=function e(){var t,r,n,o,i,a,p=arguments[0],d=1,f=arguments.length,m=!1;for("boolean"==typeof p&&(m=p,p=arguments[1]||{},d=2),(null==p||"object"!=typeof p&&"function"!=typeof p)&&(p={});d<f;++d)if(null!=(t=arguments[d]))for(r in t)n=u(p,r),p!==(o=u(t,r))&&(m&&o&&(c(o)||(i=s(o)))?(i?(i=!1,a=n&&s(n)?n:[]):a=n&&c(n)?n:{},l(p,{name:r,newValue:e(m,a,o)})):void 0!==o&&l(p,{name:r,newValue:o}));return p}},"../node_modules/js-cookie/src/js.cookie.js":function(e,t,r){var n,o;
/*!
 * JavaScript Cookie v2.2.1
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */!function(i){if(void 0===(o="function"==typeof(n=i)?n.call(t,r,t,e):n)||(e.exports=o),!0,e.exports=i(),!!0){var a=window.Cookies,s=window.Cookies=i();s.noConflict=function(){return window.Cookies=a,s}}}((function(){function e(){for(var e=0,t={};e<arguments.length;e++){var r=arguments[e];for(var n in r)t[n]=r[n]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function r(n){function o(){}function i(t,r,i){if("undefined"!=typeof document){"number"==typeof(i=e({path:"/"},o.defaults,i)).expires&&(i.expires=new Date(1*new Date+864e5*i.expires)),i.expires=i.expires?i.expires.toUTCString():"";try{var a=JSON.stringify(r);/^[\{\[]/.test(a)&&(r=a)}catch(e){}r=n.write?n.write(r,t):encodeURIComponent(String(r)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var c in i)i[c]&&(s+="; "+c,!0!==i[c]&&(s+="="+i[c].split(";")[0]));return document.cookie=t+"="+r+s}}function a(e,r){if("undefined"!=typeof document){for(var o={},i=document.cookie?document.cookie.split("; "):[],a=0;a<i.length;a++){var s=i[a].split("="),c=s.slice(1).join("=");r||'"'!==c.charAt(0)||(c=c.slice(1,-1));try{var l=t(s[0]);if(c=(n.read||n)(c,l)||t(c),r)try{c=JSON.parse(c)}catch(e){}if(o[l]=c,e===l)break}catch(e){}}return e?o[e]:o}}return o.set=i,o.get=function(e){return a(e,!1)},o.getJSON=function(e){return a(e,!0)},o.remove=function(t,r){i(t,"",e(r,{expires:-1}))},o.defaults={},o.withConverter=r,o}((function(){}))}))},"../node_modules/lodash.debounce/index.js":function(e,t,r){(function(t){var r=/^\s+|\s+$/g,n=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,i=/^0o[0-7]+$/i,a=parseInt,s="object"==typeof t&&t&&t.Object===Object&&t,c="object"==typeof self&&self&&self.Object===Object&&self,l=s||c||Function("return this")(),u=Object.prototype.toString,p=Math.max,d=Math.min,f=function(){return l.Date.now()};function m(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function h(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==u.call(e)}(e))return NaN;if(m(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=m(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(r,"");var s=o.test(e);return s||i.test(e)?a(e.slice(2),s?2:8):n.test(e)?NaN:+e}e.exports=function(e,t,r){var n,o,i,a,s,c,l=0,u=!1,b=!1,y=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function _(t){var r=n,i=o;return n=o=void 0,l=t,a=e.apply(i,r)}function v(e){return l=e,s=setTimeout(w,t),u?_(e):a}function g(e){var r=e-c;return void 0===c||r>=t||r<0||b&&e-l>=i}function w(){var e=f();if(g(e))return O(e);s=setTimeout(w,function(e){var r=t-(e-c);return b?d(r,i-(e-l)):r}(e))}function O(e){return s=void 0,y&&n?_(e):(n=o=void 0,a)}function j(){var e=f(),r=g(e);if(n=arguments,o=this,c=e,r){if(void 0===s)return v(c);if(b)return s=setTimeout(w,t),_(c)}return void 0===s&&(s=setTimeout(w,t)),a}return t=h(t)||0,m(r)&&(u=!!r.leading,i=(b="maxWait"in r)?p(h(r.maxWait)||0,t):i,y="trailing"in r?!!r.trailing:y),j.cancel=function(){void 0!==s&&clearTimeout(s),l=0,n=c=o=s=void 0},j.flush=function(){return void 0===s?a:O(f())},j}}).call(this,r("../node_modules/webpack/buildin/global.js"))},"../node_modules/lodash.throttle/index.js":function(e,t,r){(function(t){var r=/^\s+|\s+$/g,n=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,i=/^0o[0-7]+$/i,a=parseInt,s="object"==typeof t&&t&&t.Object===Object&&t,c="object"==typeof self&&self&&self.Object===Object&&self,l=s||c||Function("return this")(),u=Object.prototype.toString,p=Math.max,d=Math.min,f=function(){return l.Date.now()};function m(e,t,r){var n,o,i,a,s,c,l=0,u=!1,m=!1,y=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function _(t){var r=n,i=o;return n=o=void 0,l=t,a=e.apply(i,r)}function v(e){return l=e,s=setTimeout(w,t),u?_(e):a}function g(e){var r=e-c;return void 0===c||r>=t||r<0||m&&e-l>=i}function w(){var e=f();if(g(e))return O(e);s=setTimeout(w,function(e){var r=t-(e-c);return m?d(r,i-(e-l)):r}(e))}function O(e){return s=void 0,y&&n?_(e):(n=o=void 0,a)}function j(){var e=f(),r=g(e);if(n=arguments,o=this,c=e,r){if(void 0===s)return v(c);if(m)return s=setTimeout(w,t),_(c)}return void 0===s&&(s=setTimeout(w,t)),a}return t=b(t)||0,h(r)&&(u=!!r.leading,i=(m="maxWait"in r)?p(b(r.maxWait)||0,t):i,y="trailing"in r?!!r.trailing:y),j.cancel=function(){void 0!==s&&clearTimeout(s),l=0,n=c=o=s=void 0},j.flush=function(){return void 0===s?a:O(f())},j}function h(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function b(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==u.call(e)}(e))return NaN;if(h(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=h(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(r,"");var s=o.test(e);return s||i.test(e)?a(e.slice(2),s?2:8):n.test(e)?NaN:+e}e.exports=function(e,t,r){var n=!0,o=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return h(r)&&(n="leading"in r?!!r.leading:n,o="trailing"in r?!!r.trailing:o),m(e,t,{leading:n,maxWait:t,trailing:o})}}).call(this,r("../node_modules/webpack/buildin/global.js"))},"../node_modules/mobx-utils/mobx-utils.module.js":function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return y}));var n=r("mobx");function o(e){throw new Error("[mobx-utils] "+e)}function i(e,t){void 0===t&&(t="Illegal state"),e||o(t)}function a(e,t,r){Object.defineProperty(e,t,{enumerable:!1,writable:!0,configurable:!0,value:r})}var s=function(e){return e&&e!==Object.prototype&&Object.getOwnPropertyNames(e).concat(s(Object.getPrototypeOf(e))||[])},c=function(e){return function(e){var t=s(e);return t.filter((function(e,r){return t.indexOf(e)===r}))}(e).filter((function(e){return"constructor"!==e&&!~e.indexOf("__")}))};function l(e){switch(this.state){case"pending":return e.pending&&e.pending(this.value);case"rejected":return e.rejected&&e.rejected(this.value);case"fulfilled":return e.fulfilled?e.fulfilled(this.value):this.value}}function u(e,t){if(i(arguments.length<=2,"fromPromise expects up to two arguments"),i("function"==typeof e||"object"==typeof e&&e&&"function"==typeof e.then,"Please pass a promise or function to fromPromise"),!0===e.isPromiseBasedObservable)return e;"function"==typeof e&&(e=new Promise(e));var r=e;e.then(Object(n.action)("observableFromPromise-resolve",(function(e){r.value=e,r.state="fulfilled"})),Object(n.action)("observableFromPromise-reject",(function(e){r.value=e,r.state="rejected"}))),r.isPromiseBasedObservable=!0,r.case=l;var o=t&&"fulfilled"===t.state?t.value:void 0;return Object(n.extendObservable)(r,{value:o,state:"pending"},{},{deep:!1}),r}!function(e){e.reject=Object(n.action)("fromPromise.reject",(function(t){var r=e(Promise.reject(t));return r.state="rejected",r.value=t,r})),e.resolve=Object(n.action)("fromPromise.resolve",(function(t){void 0===t&&(t=void 0);var r=e(Promise.resolve(t));return r.state="fulfilled",r.value=t,r}))}(u||(u={}));var p=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a};!function(){function e(e,t){var r=this;Object(n.runInAction)((function(){r.current=t,r.subscription=e.subscribe(r)}))}e.prototype.dispose=function(){this.subscription&&this.subscription.unsubscribe()},e.prototype.next=function(e){this.current=e},e.prototype.complete=function(){this.dispose()},e.prototype.error=function(e){this.current=e,this.dispose()},p([n.observable.ref],e.prototype,"current",void 0),p([n.action.bound],e.prototype,"next",null),p([n.action.bound],e.prototype,"complete",null),p([n.action.bound],e.prototype,"error",null)}();var d=function(){return(d=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},f=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},m=["model","reset","submit","isDirty","isPropertyDirty","resetProperty"];!function(){function e(e){var t=this;this.model=e,this.localValues=n.observable.map({}),this.localComputedValues=n.observable.map({}),this.isPropertyDirty=function(e){return t.localValues.has(e)},i(Object(n.isObservableObject)(e),"createViewModel expects an observable object"),c(e).forEach((function(r){if(r!==n.$mobx&&"__mobxDidRunLazyInitializers"!==r){if(i(-1===m.indexOf(r),"The propertyname "+r+" is reserved and cannot be used with viewModels"),Object(n.isComputedProp)(e,r)){var o=Object(n._getAdministration)(e,r).derivation;t.localComputedValues.set(r,Object(n.computed)(o.bind(t)))}var a=Object.getOwnPropertyDescriptor(e,r),s=a?{enumerable:a.enumerable}:{};Object.defineProperty(t,r,d(d({},s),{configurable:!0,get:function(){return Object(n.isComputedProp)(e,r)?t.localComputedValues.get(r).get():t.isPropertyDirty(r)?t.localValues.get(r):t.model[r]},set:Object(n.action)((function(e){e!==t.model[r]?t.localValues.set(r,e):t.localValues.delete(r)}))}))}}))}Object.defineProperty(e.prototype,"isDirty",{get:function(){return this.localValues.size>0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"changedValues",{get:function(){return this.localValues.toJS()},enumerable:!1,configurable:!0}),e.prototype.submit=function(){var e=this;Object(n.keys)(this.localValues).forEach((function(t){var r=e.localValues.get(t),o=e.model[t];Object(n.isObservableArray)(o)?o.replace(r):Object(n.isObservableMap)(o)?(o.clear(),o.merge(r)):Object(n.isComputed)(r)||(e.model[t]=r)})),this.localValues.clear()},e.prototype.reset=function(){this.localValues.clear()},e.prototype.resetProperty=function(e){this.localValues.delete(e)},f([n.computed],e.prototype,"isDirty",null),f([n.computed],e.prototype,"changedValues",null),f([n.action.bound],e.prototype,"submit",null),f([n.action.bound],e.prototype,"reset",null),f([n.action.bound],e.prototype,"resetProperty",null)}();var h=function(){return(h=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},b=0;function y(e,t){i("function"==typeof e&&e.length<2,"createTransformer expects a function that accepts one argument");var r={},o=void 0,s=!1,c=void 0;"object"==typeof t?(o=t.onCleanup,s=void 0!==t.keepAlive&&t.keepAlive,c=t.debugNameGenerator):"function"==typeof t&&(o=t);var l=!1;return function(i){var u=function(e){var t=typeof e;if("string"===t)return"string:"+e;if("number"===t)return"number:"+e;if(null===e||"object"!==t&&"function"!==t)throw new Error("[mobx-utils] transform expected an object, function, string or number, got: "+String(e));var r=e.$transformId;void 0===r&&(r="memoizationId:"+ ++b,a(e,"$transformId",r));return r}(i),p=r[u];if(p)return p.get();if(!s&&!Object(n._isComputingDerivation)()){l||(console.warn("invoking a transformer from outside a reactive context won't memorized and is cleaned up immediately, unless keepAlive is set"),l=!0);var d=e(i);return o&&o(d,i),d}return(p=r[u]=function(i,a){var l,u={};"object"==typeof t?(o=t.onCleanup,c=t.debugNameGenerator,u=t):"function"==typeof t?o=t:(o=void 0,c=void 0);var p=c?c(a):"Transformer-"+e.name+"-"+i,d=Object(n.computed)((function(){return l=e(a)}),h(h({},u),{name:p}));if(!s)var f=Object(n.onBecomeUnobserved)(d,(function(){delete r[i],f(),o&&o(l,a)}));return d}(u,i)).get()}}var _,v=(_=function(e,t){return(_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}_(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),g=(function(e){function t(t,r,o){var i=void 0===o?{}:o,a=i.name,s=void 0===a?"ogm"+(1e3*Math.random()|0):a,c=i.keyToName,l=void 0===c?function(e){return""+e}:c,u=e.call(this)||this;u._keyToName=l,u._groupBy=r,u._ogmInfoKey="function"==typeof Symbol?Symbol("ogmInfo"+s):"__ogmInfo"+s,u._base=t;for(var p=0;p<t.length;p++)u._addItem(t[p]);return u._disposeBaseObserver=Object(n.observe)(u._base,(function(e){if("splice"===e.type)Object(n.transaction)((function(){for(var t=0,r=e.removed;t<r.length;t++){var n=r[t];u._removeItem(n)}for(var o=0,i=e.added;o<i.length;o++){var a=i[o];u._addItem(a)}}));else{if("update"!==e.type)throw new Error("illegal state");Object(n.transaction)((function(){u._removeItem(e.oldValue),u._addItem(e.newValue)}))}})),u}v(t,e),t.prototype.clear=function(){throw new Error("not supported")},t.prototype.delete=function(e){throw new Error("not supported")},t.prototype.set=function(e,t){throw new Error("not supported")},t.prototype.dispose=function(){this._disposeBaseObserver();for(var e=0;e<this._base.length;e++){var t=this._base[e];t[this._ogmInfoKey].reaction(),delete t[this._ogmInfoKey]}},t.prototype._getGroupArr=function(t){var r=e.prototype.get.call(this,t);return void 0===r&&(r=Object(n.observable)([],{name:"GroupArray["+this._keyToName(t)+"]"}),e.prototype.set.call(this,t,r)),r},t.prototype._removeFromGroupArr=function(t,r){var n=e.prototype.get.call(this,t);1===n.length?e.prototype.delete.call(this,t):(r===n.length-1||(n[r]=n[n.length-1],n[r][this._ogmInfoKey].groupArrIndex=r),n.length--)},t.prototype._addItem=function(e){var t=this,r=this._groupBy(e),o=this._getGroupArr(r),i={groupByValue:r,groupArrIndex:o.length,reaction:Object(n.reaction)((function(){return t._groupBy(e)}),(function(r,n){console.log("new group by value ",r);var o=e[t._ogmInfoKey];t._removeFromGroupArr(o.groupByValue,o.groupArrIndex);var i=t._getGroupArr(r),a=i.length;i.push(e),o.groupByValue=r,o.groupArrIndex=a}))};Object.defineProperty(e,this._ogmInfoKey,{configurable:!0,enumerable:!1,value:i}),o.push(e)},t.prototype._removeItem=function(e){var t=e[this._ogmInfoKey];this._removeFromGroupArr(t.groupByValue,t.groupArrIndex),t.reaction(),delete e[this._ogmInfoKey]}}(n.ObservableMap),function(){function e(e,t){this.base=e,this.args=t,this.closestIdx=0,this.isDisposed=!1;for(var r=this.closest=this.root=e,n=0;n<this.args.length-1&&(r=r.get(t[n]));n++)this.closest=r;this.closestIdx=n}return e.prototype.exists=function(){this.assertNotDisposed();var e=this.args.length;return this.closestIdx>=e-1&&this.closest.has(this.args[e-1])},e.prototype.get=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");return this.closest.get(this.args[this.args.length-1])},e.prototype.set=function(e){this.assertNotDisposed();for(var t=this.args.length,r=this.closest,n=this.closestIdx;n<t-1;n++){var o=new Map;r.set(this.args[n],o),r=o}this.closestIdx=t-1,this.closest=r,r.set(this.args[t-1],e)},e.prototype.delete=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");var e=this.args.length;this.closest.delete(this.args[e-1]);for(var t=this.root,r=[t],n=0;n<e-1;n++)t=t.get(this.args[n]),r.push(t);for(n=r.length-1;n>0;n--)0===r[n].size&&r[n-1].delete(this.args[n-1]);this.isDisposed=!0},e.prototype.assertNotDisposed=function(){if(this.isDisposed)throw new Error("Concurrent modification exception")},e}());!function(){function e(){this.store=new Map,this.argsLength=-1}e.prototype.entry=function(e){if(-1===this.argsLength)this.argsLength=e.length;else if(this.argsLength!==e.length)throw new Error("DeepMap should be used with functions with a consistent length, expected: "+this.argsLength+", got: "+e.length);return this.last&&(this.last.isDisposed=!0),this.last=new g(this.store,e)}}();new Set,new Set;var w,O=Promise.resolve();w="undefined"!=typeof queueMicrotask?queueMicrotask:void 0!==e&&e.nextTick?function(t){e.nextTick(t)}:function(e){setTimeout(e,0)};var j=function(){return new Promise((function(e){w(e)}))}}).call(this,r("../node_modules/process/browser.js"))},"../node_modules/moment/moment.js":function(e,t,r){(function(e){e.exports=function(){"use strict";var t,r;function n(){return t.apply(null,arguments)}function o(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function i(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function a(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function s(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(a(e,t))return!1;return!0}function c(e){return void 0===e}function l(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function u(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function p(e,t){var r,n=[];for(r=0;r<e.length;++r)n.push(t(e[r],r));return n}function d(e,t){for(var r in t)a(t,r)&&(e[r]=t[r]);return a(t,"toString")&&(e.toString=t.toString),a(t,"valueOf")&&(e.valueOf=t.valueOf),e}function f(e,t,r,n){return St(e,t,r,n,!0).utc()}function m(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function h(e){if(null==e._isValid){var t=m(e),n=r.call(t.parsedDateParts,(function(e){return null!=e})),o=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(o=o&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return o;e._isValid=o}return e._isValid}function b(e){var t=f(NaN);return null!=e?d(m(t),e):m(t).userInvalidated=!0,t}r=Array.prototype.some?Array.prototype.some:function(e){var t,r=Object(this),n=r.length>>>0;for(t=0;t<n;t++)if(t in r&&e.call(this,r[t],t,r))return!0;return!1};var y=n.momentProperties=[],_=!1;function v(e,t){var r,n,o;if(c(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),c(t._i)||(e._i=t._i),c(t._f)||(e._f=t._f),c(t._l)||(e._l=t._l),c(t._strict)||(e._strict=t._strict),c(t._tzm)||(e._tzm=t._tzm),c(t._isUTC)||(e._isUTC=t._isUTC),c(t._offset)||(e._offset=t._offset),c(t._pf)||(e._pf=m(t)),c(t._locale)||(e._locale=t._locale),y.length>0)for(r=0;r<y.length;r++)c(o=t[n=y[r]])||(e[n]=o);return e}function g(e){v(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===_&&(_=!0,n.updateOffset(this),_=!1)}function w(e){return e instanceof g||null!=e&&null!=e._isAMomentObject}function O(e){!1===n.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function j(e,t){var r=!0;return d((function(){if(null!=n.deprecationHandler&&n.deprecationHandler(null,e),r){var o,i,s,c=[];for(i=0;i<arguments.length;i++){if(o="","object"==typeof arguments[i]){for(s in o+="\n["+i+"] ",arguments[0])a(arguments[0],s)&&(o+=s+": "+arguments[0][s]+", ");o=o.slice(0,-2)}else o=arguments[i];c.push(o)}O(e+"\nArguments: "+Array.prototype.slice.call(c).join("")+"\n"+(new Error).stack),r=!1}return t.apply(this,arguments)}),t)}var S,k={};function x(e,t){null!=n.deprecationHandler&&n.deprecationHandler(e,t),k[e]||(O(t),k[e]=!0)}function E(e){return"undefined"!=typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function P(e,t){var r,n=d({},e);for(r in t)a(t,r)&&(i(e[r])&&i(t[r])?(n[r]={},d(n[r],e[r]),d(n[r],t[r])):null!=t[r]?n[r]=t[r]:delete n[r]);for(r in e)a(e,r)&&!a(t,r)&&i(e[r])&&(n[r]=d({},n[r]));return n}function C(e){null!=e&&this.set(e)}function D(e,t,r){var n=""+Math.abs(e),o=t-n.length;return(e>=0?r?"+":"":"-")+Math.pow(10,Math.max(0,o)).toString().substr(1)+n}n.suppressDeprecationWarnings=!1,n.deprecationHandler=null,S=Object.keys?Object.keys:function(e){var t,r=[];for(t in e)a(e,t)&&r.push(t);return r};var T=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,M=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,A={},R={};function N(e,t,r,n){var o=n;"string"==typeof n&&(o=function(){return this[n]()}),e&&(R[e]=o),t&&(R[t[0]]=function(){return D(o.apply(this,arguments),t[1],t[2])}),r&&(R[r]=function(){return this.localeData().ordinal(o.apply(this,arguments),e)})}function I(e,t){return e.isValid()?(t=z(t,e.localeData()),A[t]=A[t]||function(e){var t,r,n,o=e.match(T);for(t=0,r=o.length;t<r;t++)R[o[t]]?o[t]=R[o[t]]:o[t]=(n=o[t]).match(/\[[\s\S]/)?n.replace(/^\[|\]$/g,""):n.replace(/\\/g,"");return function(t){var n,i="";for(n=0;n<r;n++)i+=E(o[n])?o[n].call(t,e):o[n];return i}}(t),A[t](e)):e.localeData().invalidDate()}function z(e,t){var r=5;function n(e){return t.longDateFormat(e)||e}for(M.lastIndex=0;r>=0&&M.test(e);)e=e.replace(M,n),M.lastIndex=0,r-=1;return e}var L={};function U(e,t){var r=e.toLowerCase();L[r]=L[r+"s"]=L[t]=e}function q(e){return"string"==typeof e?L[e]||L[e.toLowerCase()]:void 0}function F(e){var t,r,n={};for(r in e)a(e,r)&&(t=q(r))&&(n[t]=e[r]);return n}var H={};function Y(e,t){H[e]=t}function V(e){return e%4==0&&e%100!=0||e%400==0}function B(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function W(e){var t=+e,r=0;return 0!==t&&isFinite(t)&&(r=B(t)),r}function G(e,t){return function(r){return null!=r?($(this,e,r),n.updateOffset(this,t),this):X(this,e)}}function X(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function $(e,t,r){e.isValid()&&!isNaN(r)&&("FullYear"===t&&V(e.year())&&1===e.month()&&29===e.date()?(r=W(r),e._d["set"+(e._isUTC?"UTC":"")+t](r,e.month(),we(r,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](r))}var Z,J=/\d/,K=/\d\d/,Q=/\d{3}/,ee=/\d{4}/,te=/[+-]?\d{6}/,re=/\d\d?/,ne=/\d\d\d\d?/,oe=/\d\d\d\d\d\d?/,ie=/\d{1,3}/,ae=/\d{1,4}/,se=/[+-]?\d{1,6}/,ce=/\d+/,le=/[+-]?\d+/,ue=/Z|[+-]\d\d:?\d\d/gi,pe=/Z|[+-]\d\d(?::?\d\d)?/gi,de=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function fe(e,t,r){Z[e]=E(t)?t:function(e,n){return e&&r?r:t}}function me(e,t){return a(Z,e)?Z[e](t._strict,t._locale):new RegExp(he(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,r,n,o){return t||r||n||o}))))}function he(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}Z={};var be,ye={};function _e(e,t){var r,n=t;for("string"==typeof e&&(e=[e]),l(t)&&(n=function(e,r){r[t]=W(e)}),r=0;r<e.length;r++)ye[e[r]]=n}function ve(e,t){_e(e,(function(e,r,n,o){n._w=n._w||{},t(e,n._w,n,o)}))}function ge(e,t,r){null!=t&&a(ye,e)&&ye[e](t,r._a,r,e)}function we(e,t){if(isNaN(e)||isNaN(t))return NaN;var r,n=(t%(r=12)+r)%r;return e+=(t-n)/12,1===n?V(e)?29:28:31-n%7%2}be=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},N("M",["MM",2],"Mo",(function(){return this.month()+1})),N("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),N("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),U("month","M"),Y("month",8),fe("M",re),fe("MM",re,K),fe("MMM",(function(e,t){return t.monthsShortRegex(e)})),fe("MMMM",(function(e,t){return t.monthsRegex(e)})),_e(["M","MM"],(function(e,t){t[1]=W(e)-1})),_e(["MMM","MMMM"],(function(e,t,r,n){var o=r._locale.monthsParse(e,n,r._strict);null!=o?t[1]=o:m(r).invalidMonth=e}));var Oe="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),je="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Se=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,ke=de,xe=de;function Ee(e,t,r){var n,o,i,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)i=f([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(i,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(i,"").toLocaleLowerCase();return r?"MMM"===t?-1!==(o=be.call(this._shortMonthsParse,a))?o:null:-1!==(o=be.call(this._longMonthsParse,a))?o:null:"MMM"===t?-1!==(o=be.call(this._shortMonthsParse,a))||-1!==(o=be.call(this._longMonthsParse,a))?o:null:-1!==(o=be.call(this._longMonthsParse,a))||-1!==(o=be.call(this._shortMonthsParse,a))?o:null}function Pe(e,t){var r;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=W(t);else if(!l(t=e.localeData().monthsParse(t)))return e;return r=Math.min(e.date(),we(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,r),e}function Ce(e){return null!=e?(Pe(this,e),n.updateOffset(this,!0),this):X(this,"Month")}function De(){function e(e,t){return t.length-e.length}var t,r,n=[],o=[],i=[];for(t=0;t<12;t++)r=f([2e3,t]),n.push(this.monthsShort(r,"")),o.push(this.months(r,"")),i.push(this.months(r,"")),i.push(this.monthsShort(r,""));for(n.sort(e),o.sort(e),i.sort(e),t=0;t<12;t++)n[t]=he(n[t]),o[t]=he(o[t]);for(t=0;t<24;t++)i[t]=he(i[t]);this._monthsRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+n.join("|")+")","i")}function Te(e){return V(e)?366:365}N("Y",0,0,(function(){var e=this.year();return e<=9999?D(e,4):"+"+e})),N(0,["YY",2],0,(function(){return this.year()%100})),N(0,["YYYY",4],0,"year"),N(0,["YYYYY",5],0,"year"),N(0,["YYYYYY",6,!0],0,"year"),U("year","y"),Y("year",1),fe("Y",le),fe("YY",re,K),fe("YYYY",ae,ee),fe("YYYYY",se,te),fe("YYYYYY",se,te),_e(["YYYYY","YYYYYY"],0),_e("YYYY",(function(e,t){t[0]=2===e.length?n.parseTwoDigitYear(e):W(e)})),_e("YY",(function(e,t){t[0]=n.parseTwoDigitYear(e)})),_e("Y",(function(e,t){t[0]=parseInt(e,10)})),n.parseTwoDigitYear=function(e){return W(e)+(W(e)>68?1900:2e3)};var Me=G("FullYear",!0);function Ae(e,t,r,n,o,i,a){var s;return e<100&&e>=0?(s=new Date(e+400,t,r,n,o,i,a),isFinite(s.getFullYear())&&s.setFullYear(e)):s=new Date(e,t,r,n,o,i,a),s}function Re(e){var t,r;return e<100&&e>=0?((r=Array.prototype.slice.call(arguments))[0]=e+400,t=new Date(Date.UTC.apply(null,r)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function Ne(e,t,r){var n=7+t-r;return-(7+Re(e,0,n).getUTCDay()-t)%7+n-1}function Ie(e,t,r,n,o){var i,a,s=1+7*(t-1)+(7+r-n)%7+Ne(e,n,o);return s<=0?a=Te(i=e-1)+s:s>Te(e)?(i=e+1,a=s-Te(e)):(i=e,a=s),{year:i,dayOfYear:a}}function ze(e,t,r){var n,o,i=Ne(e.year(),t,r),a=Math.floor((e.dayOfYear()-i-1)/7)+1;return a<1?n=a+Le(o=e.year()-1,t,r):a>Le(e.year(),t,r)?(n=a-Le(e.year(),t,r),o=e.year()+1):(o=e.year(),n=a),{week:n,year:o}}function Le(e,t,r){var n=Ne(e,t,r),o=Ne(e+1,t,r);return(Te(e)-n+o)/7}function Ue(e,t){return e.slice(t,7).concat(e.slice(0,t))}N("w",["ww",2],"wo","week"),N("W",["WW",2],"Wo","isoWeek"),U("week","w"),U("isoWeek","W"),Y("week",5),Y("isoWeek",5),fe("w",re),fe("ww",re,K),fe("W",re),fe("WW",re,K),ve(["w","ww","W","WW"],(function(e,t,r,n){t[n.substr(0,1)]=W(e)})),N("d",0,"do","day"),N("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),N("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),N("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),N("e",0,0,"weekday"),N("E",0,0,"isoWeekday"),U("day","d"),U("weekday","e"),U("isoWeekday","E"),Y("day",11),Y("weekday",11),Y("isoWeekday",11),fe("d",re),fe("e",re),fe("E",re),fe("dd",(function(e,t){return t.weekdaysMinRegex(e)})),fe("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),fe("dddd",(function(e,t){return t.weekdaysRegex(e)})),ve(["dd","ddd","dddd"],(function(e,t,r,n){var o=r._locale.weekdaysParse(e,n,r._strict);null!=o?t.d=o:m(r).invalidWeekday=e})),ve(["d","e","E"],(function(e,t,r,n){t[n]=W(e)}));var qe="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Fe="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),He="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Ye=de,Ve=de,Be=de;function We(e,t,r){var n,o,i,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)i=f([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(i,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(i,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(i,"").toLocaleLowerCase();return r?"dddd"===t?-1!==(o=be.call(this._weekdaysParse,a))?o:null:"ddd"===t?-1!==(o=be.call(this._shortWeekdaysParse,a))?o:null:-1!==(o=be.call(this._minWeekdaysParse,a))?o:null:"dddd"===t?-1!==(o=be.call(this._weekdaysParse,a))||-1!==(o=be.call(this._shortWeekdaysParse,a))||-1!==(o=be.call(this._minWeekdaysParse,a))?o:null:"ddd"===t?-1!==(o=be.call(this._shortWeekdaysParse,a))||-1!==(o=be.call(this._weekdaysParse,a))||-1!==(o=be.call(this._minWeekdaysParse,a))?o:null:-1!==(o=be.call(this._minWeekdaysParse,a))||-1!==(o=be.call(this._weekdaysParse,a))||-1!==(o=be.call(this._shortWeekdaysParse,a))?o:null}function Ge(){function e(e,t){return t.length-e.length}var t,r,n,o,i,a=[],s=[],c=[],l=[];for(t=0;t<7;t++)r=f([2e3,1]).day(t),n=he(this.weekdaysMin(r,"")),o=he(this.weekdaysShort(r,"")),i=he(this.weekdays(r,"")),a.push(n),s.push(o),c.push(i),l.push(n),l.push(o),l.push(i);a.sort(e),s.sort(e),c.sort(e),l.sort(e),this._weekdaysRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function Xe(){return this.hours()%12||12}function $e(e,t){N(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function Ze(e,t){return t._meridiemParse}N("H",["HH",2],0,"hour"),N("h",["hh",2],0,Xe),N("k",["kk",2],0,(function(){return this.hours()||24})),N("hmm",0,0,(function(){return""+Xe.apply(this)+D(this.minutes(),2)})),N("hmmss",0,0,(function(){return""+Xe.apply(this)+D(this.minutes(),2)+D(this.seconds(),2)})),N("Hmm",0,0,(function(){return""+this.hours()+D(this.minutes(),2)})),N("Hmmss",0,0,(function(){return""+this.hours()+D(this.minutes(),2)+D(this.seconds(),2)})),$e("a",!0),$e("A",!1),U("hour","h"),Y("hour",13),fe("a",Ze),fe("A",Ze),fe("H",re),fe("h",re),fe("k",re),fe("HH",re,K),fe("hh",re,K),fe("kk",re,K),fe("hmm",ne),fe("hmmss",oe),fe("Hmm",ne),fe("Hmmss",oe),_e(["H","HH"],3),_e(["k","kk"],(function(e,t,r){var n=W(e);t[3]=24===n?0:n})),_e(["a","A"],(function(e,t,r){r._isPm=r._locale.isPM(e),r._meridiem=e})),_e(["h","hh"],(function(e,t,r){t[3]=W(e),m(r).bigHour=!0})),_e("hmm",(function(e,t,r){var n=e.length-2;t[3]=W(e.substr(0,n)),t[4]=W(e.substr(n)),m(r).bigHour=!0})),_e("hmmss",(function(e,t,r){var n=e.length-4,o=e.length-2;t[3]=W(e.substr(0,n)),t[4]=W(e.substr(n,2)),t[5]=W(e.substr(o)),m(r).bigHour=!0})),_e("Hmm",(function(e,t,r){var n=e.length-2;t[3]=W(e.substr(0,n)),t[4]=W(e.substr(n))})),_e("Hmmss",(function(e,t,r){var n=e.length-4,o=e.length-2;t[3]=W(e.substr(0,n)),t[4]=W(e.substr(n,2)),t[5]=W(e.substr(o))}));var Je,Ke=G("Hours",!0),Qe={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Oe,monthsShort:je,week:{dow:0,doy:6},weekdays:qe,weekdaysMin:He,weekdaysShort:Fe,meridiemParse:/[ap]\.?m?\.?/i},et={},tt={};function rt(e,t){var r,n=Math.min(e.length,t.length);for(r=0;r<n;r+=1)if(e[r]!==t[r])return r;return n}function nt(e){return e?e.toLowerCase().replace("_","-"):e}function ot(t){var r=null;if(void 0===et[t]&&void 0!==e&&e&&e.exports)try{r=Je._abbr,function(){var e=new Error("Cannot find module 'undefined'");throw e.code="MODULE_NOT_FOUND",e}(),it(r)}catch(e){et[t]=null}return et[t]}function it(e,t){var r;return e&&((r=c(t)?st(e):at(e,t))?Je=r:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),Je._abbr}function at(e,t){if(null!==t){var r,n=Qe;if(t.abbr=e,null!=et[e])x("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=et[e]._config;else if(null!=t.parentLocale)if(null!=et[t.parentLocale])n=et[t.parentLocale]._config;else{if(null==(r=ot(t.parentLocale)))return tt[t.parentLocale]||(tt[t.parentLocale]=[]),tt[t.parentLocale].push({name:e,config:t}),null;n=r._config}return et[e]=new C(P(n,t)),tt[e]&&tt[e].forEach((function(e){at(e.name,e.config)})),it(e),et[e]}return delete et[e],null}function st(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Je;if(!o(e)){if(t=ot(e))return t;e=[e]}return function(e){for(var t,r,n,o,i=0;i<e.length;){for(t=(o=nt(e[i]).split("-")).length,r=(r=nt(e[i+1]))?r.split("-"):null;t>0;){if(n=ot(o.slice(0,t).join("-")))return n;if(r&&r.length>=t&&rt(o,r)>=t-1)break;t--}i++}return Je}(e)}function ct(e){var t,r=e._a;return r&&-2===m(e).overflow&&(t=r[1]<0||r[1]>11?1:r[2]<1||r[2]>we(r[0],r[1])?2:r[3]<0||r[3]>24||24===r[3]&&(0!==r[4]||0!==r[5]||0!==r[6])?3:r[4]<0||r[4]>59?4:r[5]<0||r[5]>59?5:r[6]<0||r[6]>999?6:-1,m(e)._overflowDayOfYear&&(t<0||t>2)&&(t=2),m(e)._overflowWeeks&&-1===t&&(t=7),m(e)._overflowWeekday&&-1===t&&(t=8),m(e).overflow=t),e}var lt=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ut=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,pt=/Z|[+-]\d\d(?::?\d\d)?/,dt=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],ft=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],mt=/^\/?Date\((-?\d+)/i,ht=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,bt={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function yt(e){var t,r,n,o,i,a,s=e._i,c=lt.exec(s)||ut.exec(s);if(c){for(m(e).iso=!0,t=0,r=dt.length;t<r;t++)if(dt[t][1].exec(c[1])){o=dt[t][0],n=!1!==dt[t][2];break}if(null==o)return void(e._isValid=!1);if(c[3]){for(t=0,r=ft.length;t<r;t++)if(ft[t][1].exec(c[3])){i=(c[2]||" ")+ft[t][0];break}if(null==i)return void(e._isValid=!1)}if(!n&&null!=i)return void(e._isValid=!1);if(c[4]){if(!pt.exec(c[4]))return void(e._isValid=!1);a="Z"}e._f=o+(i||"")+(a||""),Ot(e)}else e._isValid=!1}function _t(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function vt(e){var t,r,n,o,i,a,s,c,l=ht.exec(e._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(l){if(r=l[4],n=l[3],o=l[2],i=l[5],a=l[6],s=l[7],c=[_t(r),je.indexOf(n),parseInt(o,10),parseInt(i,10),parseInt(a,10)],s&&c.push(parseInt(s,10)),t=c,!function(e,t,r){return!e||Fe.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(m(r).weekdayMismatch=!0,r._isValid=!1,!1)}(l[1],t,e))return;e._a=t,e._tzm=function(e,t,r){if(e)return bt[e];if(t)return 0;var n=parseInt(r,10),o=n%100;return(n-o)/100*60+o}(l[8],l[9],l[10]),e._d=Re.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),m(e).rfc2822=!0}else e._isValid=!1}function gt(e,t,r){return null!=e?e:null!=t?t:r}function wt(e){var t,r,o,i,a,s=[];if(!e._d){for(o=function(e){var t=new Date(n.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}(e),e._w&&null==e._a[2]&&null==e._a[1]&&function(e){var t,r,n,o,i,a,s,c,l;null!=(t=e._w).GG||null!=t.W||null!=t.E?(i=1,a=4,r=gt(t.GG,e._a[0],ze(kt(),1,4).year),n=gt(t.W,1),((o=gt(t.E,1))<1||o>7)&&(c=!0)):(i=e._locale._week.dow,a=e._locale._week.doy,l=ze(kt(),i,a),r=gt(t.gg,e._a[0],l.year),n=gt(t.w,l.week),null!=t.d?((o=t.d)<0||o>6)&&(c=!0):null!=t.e?(o=t.e+i,(t.e<0||t.e>6)&&(c=!0)):o=i),n<1||n>Le(r,i,a)?m(e)._overflowWeeks=!0:null!=c?m(e)._overflowWeekday=!0:(s=Ie(r,n,o,i,a),e._a[0]=s.year,e._dayOfYear=s.dayOfYear)}(e),null!=e._dayOfYear&&(a=gt(e._a[0],o[0]),(e._dayOfYear>Te(a)||0===e._dayOfYear)&&(m(e)._overflowDayOfYear=!0),r=Re(a,0,e._dayOfYear),e._a[1]=r.getUTCMonth(),e._a[2]=r.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=s[t]=o[t];for(;t<7;t++)e._a[t]=s[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[3]&&0===e._a[4]&&0===e._a[5]&&0===e._a[6]&&(e._nextDay=!0,e._a[3]=0),e._d=(e._useUTC?Re:Ae).apply(null,s),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[3]=24),e._w&&void 0!==e._w.d&&e._w.d!==i&&(m(e).weekdayMismatch=!0)}}function Ot(e){if(e._f!==n.ISO_8601)if(e._f!==n.RFC_2822){e._a=[],m(e).empty=!0;var t,r,o,i,a,s,c=""+e._i,l=c.length,u=0;for(o=z(e._f,e._locale).match(T)||[],t=0;t<o.length;t++)i=o[t],(r=(c.match(me(i,e))||[])[0])&&((a=c.substr(0,c.indexOf(r))).length>0&&m(e).unusedInput.push(a),c=c.slice(c.indexOf(r)+r.length),u+=r.length),R[i]?(r?m(e).empty=!1:m(e).unusedTokens.push(i),ge(i,r,e)):e._strict&&!r&&m(e).unusedTokens.push(i);m(e).charsLeftOver=l-u,c.length>0&&m(e).unusedInput.push(c),e._a[3]<=12&&!0===m(e).bigHour&&e._a[3]>0&&(m(e).bigHour=void 0),m(e).parsedDateParts=e._a.slice(0),m(e).meridiem=e._meridiem,e._a[3]=function(e,t,r){var n;return null==r?t:null!=e.meridiemHour?e.meridiemHour(t,r):null!=e.isPM?((n=e.isPM(r))&&t<12&&(t+=12),n||12!==t||(t=0),t):t}(e._locale,e._a[3],e._meridiem),null!==(s=m(e).era)&&(e._a[0]=e._locale.erasConvertYear(s,e._a[0])),wt(e),ct(e)}else vt(e);else yt(e)}function jt(e){var t=e._i,r=e._f;return e._locale=e._locale||st(e._l),null===t||void 0===r&&""===t?b({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),w(t)?new g(ct(t)):(u(t)?e._d=t:o(r)?function(e){var t,r,n,o,i,a,s=!1;if(0===e._f.length)return m(e).invalidFormat=!0,void(e._d=new Date(NaN));for(o=0;o<e._f.length;o++)i=0,a=!1,t=v({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[o],Ot(t),h(t)&&(a=!0),i+=m(t).charsLeftOver,i+=10*m(t).unusedTokens.length,m(t).score=i,s?i<n&&(n=i,r=t):(null==n||i<n||a)&&(n=i,r=t,a&&(s=!0));d(e,r||t)}(e):r?Ot(e):function(e){var t=e._i;c(t)?e._d=new Date(n.now()):u(t)?e._d=new Date(t.valueOf()):"string"==typeof t?function(e){var t=mt.exec(e._i);null===t?(yt(e),!1===e._isValid&&(delete e._isValid,vt(e),!1===e._isValid&&(delete e._isValid,e._strict?e._isValid=!1:n.createFromInputFallback(e)))):e._d=new Date(+t[1])}(e):o(t)?(e._a=p(t.slice(0),(function(e){return parseInt(e,10)})),wt(e)):i(t)?function(e){if(!e._d){var t=F(e._i),r=void 0===t.day?t.date:t.day;e._a=p([t.year,t.month,r,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),wt(e)}}(e):l(t)?e._d=new Date(t):n.createFromInputFallback(e)}(e),h(e)||(e._d=null),e))}function St(e,t,r,n,a){var c,l={};return!0!==t&&!1!==t||(n=t,t=void 0),!0!==r&&!1!==r||(n=r,r=void 0),(i(e)&&s(e)||o(e)&&0===e.length)&&(e=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=a,l._l=r,l._i=e,l._f=t,l._strict=n,(c=new g(ct(jt(l))))._nextDay&&(c.add(1,"d"),c._nextDay=void 0),c}function kt(e,t,r,n){return St(e,t,r,n,!1)}n.createFromInputFallback=j("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),n.ISO_8601=function(){},n.RFC_2822=function(){};var xt=j("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=kt.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:b()})),Et=j("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=kt.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:b()}));function Pt(e,t){var r,n;if(1===t.length&&o(t[0])&&(t=t[0]),!t.length)return kt();for(r=t[0],n=1;n<t.length;++n)t[n].isValid()&&!t[n][e](r)||(r=t[n]);return r}var Ct=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Dt(e){var t=F(e),r=t.year||0,n=t.quarter||0,o=t.month||0,i=t.week||t.isoWeek||0,s=t.day||0,c=t.hour||0,l=t.minute||0,u=t.second||0,p=t.millisecond||0;this._isValid=function(e){var t,r,n=!1;for(t in e)if(a(e,t)&&(-1===be.call(Ct,t)||null!=e[t]&&isNaN(e[t])))return!1;for(r=0;r<Ct.length;++r)if(e[Ct[r]]){if(n)return!1;parseFloat(e[Ct[r]])!==W(e[Ct[r]])&&(n=!0)}return!0}(t),this._milliseconds=+p+1e3*u+6e4*l+1e3*c*60*60,this._days=+s+7*i,this._months=+o+3*n+12*r,this._data={},this._locale=st(),this._bubble()}function Tt(e){return e instanceof Dt}function Mt(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function At(e,t){N(e,0,0,(function(){var e=this.utcOffset(),r="+";return e<0&&(e=-e,r="-"),r+D(~~(e/60),2)+t+D(~~e%60,2)}))}At("Z",":"),At("ZZ",""),fe("Z",pe),fe("ZZ",pe),_e(["Z","ZZ"],(function(e,t,r){r._useUTC=!0,r._tzm=Nt(pe,e)}));var Rt=/([\+\-]|\d\d)/gi;function Nt(e,t){var r,n,o=(t||"").match(e);return null===o?null:0===(n=60*(r=((o[o.length-1]||[])+"").match(Rt)||["-",0,0])[1]+W(r[2]))?0:"+"===r[0]?n:-n}function It(e,t){var r,o;return t._isUTC?(r=t.clone(),o=(w(e)||u(e)?e.valueOf():kt(e).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+o),n.updateOffset(r,!1),r):kt(e).local()}function zt(e){return-Math.round(e._d.getTimezoneOffset())}function Lt(){return!!this.isValid()&&this._isUTC&&0===this._offset}n.updateOffset=function(){};var Ut=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,qt=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Ft(e,t){var r,n,o,i,s,c,u=e,p=null;return Tt(e)?u={ms:e._milliseconds,d:e._days,M:e._months}:l(e)||!isNaN(+e)?(u={},t?u[t]=+e:u.milliseconds=+e):(p=Ut.exec(e))?(r="-"===p[1]?-1:1,u={y:0,d:W(p[2])*r,h:W(p[3])*r,m:W(p[4])*r,s:W(p[5])*r,ms:W(Mt(1e3*p[6]))*r}):(p=qt.exec(e))?(r="-"===p[1]?-1:1,u={y:Ht(p[2],r),M:Ht(p[3],r),w:Ht(p[4],r),d:Ht(p[5],r),h:Ht(p[6],r),m:Ht(p[7],r),s:Ht(p[8],r)}):null==u?u={}:"object"==typeof u&&("from"in u||"to"in u)&&(i=kt(u.from),s=kt(u.to),o=i.isValid()&&s.isValid()?(s=It(s,i),i.isBefore(s)?c=Yt(i,s):((c=Yt(s,i)).milliseconds=-c.milliseconds,c.months=-c.months),c):{milliseconds:0,months:0},(u={}).ms=o.milliseconds,u.M=o.months),n=new Dt(u),Tt(e)&&a(e,"_locale")&&(n._locale=e._locale),Tt(e)&&a(e,"_isValid")&&(n._isValid=e._isValid),n}function Ht(e,t){var r=e&&parseFloat(e.replace(",","."));return(isNaN(r)?0:r)*t}function Yt(e,t){var r={};return r.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(r.months,"M").isAfter(t)&&--r.months,r.milliseconds=+t-+e.clone().add(r.months,"M"),r}function Vt(e,t){return function(r,n){var o;return null===n||isNaN(+n)||(x(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=r,r=n,n=o),Bt(this,Ft(r,n),e),this}}function Bt(e,t,r,o){var i=t._milliseconds,a=Mt(t._days),s=Mt(t._months);e.isValid()&&(o=null==o||o,s&&Pe(e,X(e,"Month")+s*r),a&&$(e,"Date",X(e,"Date")+a*r),i&&e._d.setTime(e._d.valueOf()+i*r),o&&n.updateOffset(e,a||s))}Ft.fn=Dt.prototype,Ft.invalid=function(){return Ft(NaN)};var Wt=Vt(1,"add"),Gt=Vt(-1,"subtract");function Xt(e){return"string"==typeof e||e instanceof String}function $t(e){return w(e)||u(e)||Xt(e)||l(e)||function(e){var t=o(e),r=!1;return t&&(r=0===e.filter((function(t){return!l(t)&&Xt(e)})).length),t&&r}(e)||function(e){var t,r,n=i(e)&&!s(e),o=!1,c=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"];for(t=0;t<c.length;t+=1)r=c[t],o=o||a(e,r);return n&&o}(e)||null==e}function Zt(e){var t,r=i(e)&&!s(e),n=!1,o=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(t=0;t<o.length;t+=1)n=n||a(e,o[t]);return r&&n}function Jt(e,t){if(e.date()<t.date())return-Jt(t,e);var r=12*(t.year()-e.year())+(t.month()-e.month()),n=e.clone().add(r,"months");return-(r+(t-n<0?(t-n)/(n-e.clone().add(r-1,"months")):(t-n)/(e.clone().add(r+1,"months")-n)))||0}function Kt(e){var t;return void 0===e?this._locale._abbr:(null!=(t=st(e))&&(this._locale=t),this)}n.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",n.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Qt=j("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));function er(){return this._locale}function tr(e,t){return(e%t+t)%t}function rr(e,t,r){return e<100&&e>=0?new Date(e+400,t,r)-126227808e5:new Date(e,t,r).valueOf()}function nr(e,t,r){return e<100&&e>=0?Date.UTC(e+400,t,r)-126227808e5:Date.UTC(e,t,r)}function or(e,t){return t.erasAbbrRegex(e)}function ir(){var e,t,r=[],n=[],o=[],i=[],a=this.eras();for(e=0,t=a.length;e<t;++e)n.push(he(a[e].name)),r.push(he(a[e].abbr)),o.push(he(a[e].narrow)),i.push(he(a[e].name)),i.push(he(a[e].abbr)),i.push(he(a[e].narrow));this._erasRegex=new RegExp("^("+i.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+n.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+o.join("|")+")","i")}function ar(e,t){N(0,[e,e.length],0,t)}function sr(e,t,r,n,o){var i;return null==e?ze(this,n,o).year:(t>(i=Le(e,n,o))&&(t=i),cr.call(this,e,t,r,n,o))}function cr(e,t,r,n,o){var i=Ie(e,t,r,n,o),a=Re(i.year,0,i.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}N("N",0,0,"eraAbbr"),N("NN",0,0,"eraAbbr"),N("NNN",0,0,"eraAbbr"),N("NNNN",0,0,"eraName"),N("NNNNN",0,0,"eraNarrow"),N("y",["y",1],"yo","eraYear"),N("y",["yy",2],0,"eraYear"),N("y",["yyy",3],0,"eraYear"),N("y",["yyyy",4],0,"eraYear"),fe("N",or),fe("NN",or),fe("NNN",or),fe("NNNN",(function(e,t){return t.erasNameRegex(e)})),fe("NNNNN",(function(e,t){return t.erasNarrowRegex(e)})),_e(["N","NN","NNN","NNNN","NNNNN"],(function(e,t,r,n){var o=r._locale.erasParse(e,n,r._strict);o?m(r).era=o:m(r).invalidEra=e})),fe("y",ce),fe("yy",ce),fe("yyy",ce),fe("yyyy",ce),fe("yo",(function(e,t){return t._eraYearOrdinalRegex||ce})),_e(["y","yy","yyy","yyyy"],0),_e(["yo"],(function(e,t,r,n){var o;r._locale._eraYearOrdinalRegex&&(o=e.match(r._locale._eraYearOrdinalRegex)),r._locale.eraYearOrdinalParse?t[0]=r._locale.eraYearOrdinalParse(e,o):t[0]=parseInt(e,10)})),N(0,["gg",2],0,(function(){return this.weekYear()%100})),N(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),ar("gggg","weekYear"),ar("ggggg","weekYear"),ar("GGGG","isoWeekYear"),ar("GGGGG","isoWeekYear"),U("weekYear","gg"),U("isoWeekYear","GG"),Y("weekYear",1),Y("isoWeekYear",1),fe("G",le),fe("g",le),fe("GG",re,K),fe("gg",re,K),fe("GGGG",ae,ee),fe("gggg",ae,ee),fe("GGGGG",se,te),fe("ggggg",se,te),ve(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,r,n){t[n.substr(0,2)]=W(e)})),ve(["gg","GG"],(function(e,t,r,o){t[o]=n.parseTwoDigitYear(e)})),N("Q",0,"Qo","quarter"),U("quarter","Q"),Y("quarter",7),fe("Q",J),_e("Q",(function(e,t){t[1]=3*(W(e)-1)})),N("D",["DD",2],"Do","date"),U("date","D"),Y("date",9),fe("D",re),fe("DD",re,K),fe("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),_e(["D","DD"],2),_e("Do",(function(e,t){t[2]=W(e.match(re)[0])}));var lr=G("Date",!0);N("DDD",["DDDD",3],"DDDo","dayOfYear"),U("dayOfYear","DDD"),Y("dayOfYear",4),fe("DDD",ie),fe("DDDD",Q),_e(["DDD","DDDD"],(function(e,t,r){r._dayOfYear=W(e)})),N("m",["mm",2],0,"minute"),U("minute","m"),Y("minute",14),fe("m",re),fe("mm",re,K),_e(["m","mm"],4);var ur=G("Minutes",!1);N("s",["ss",2],0,"second"),U("second","s"),Y("second",15),fe("s",re),fe("ss",re,K),_e(["s","ss"],5);var pr,dr,fr=G("Seconds",!1);for(N("S",0,0,(function(){return~~(this.millisecond()/100)})),N(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),N(0,["SSS",3],0,"millisecond"),N(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),N(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),N(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),N(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),N(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),N(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),U("millisecond","ms"),Y("millisecond",16),fe("S",ie,J),fe("SS",ie,K),fe("SSS",ie,Q),pr="SSSS";pr.length<=9;pr+="S")fe(pr,ce);function mr(e,t){t[6]=W(1e3*("0."+e))}for(pr="S";pr.length<=9;pr+="S")_e(pr,mr);dr=G("Milliseconds",!1),N("z",0,0,"zoneAbbr"),N("zz",0,0,"zoneName");var hr=g.prototype;function br(e){return e}hr.add=Wt,hr.calendar=function(e,t){1===arguments.length&&($t(arguments[0])?(e=arguments[0],t=void 0):Zt(arguments[0])&&(t=arguments[0],e=void 0));var r=e||kt(),o=It(r,this).startOf("day"),i=n.calendarFormat(this,o)||"sameElse",a=t&&(E(t[i])?t[i].call(this,r):t[i]);return this.format(a||this.localeData().calendar(i,this,kt(r)))},hr.clone=function(){return new g(this)},hr.diff=function(e,t,r){var n,o,i;if(!this.isValid())return NaN;if(!(n=It(e,this)).isValid())return NaN;switch(o=6e4*(n.utcOffset()-this.utcOffset()),t=q(t)){case"year":i=Jt(this,n)/12;break;case"month":i=Jt(this,n);break;case"quarter":i=Jt(this,n)/3;break;case"second":i=(this-n)/1e3;break;case"minute":i=(this-n)/6e4;break;case"hour":i=(this-n)/36e5;break;case"day":i=(this-n-o)/864e5;break;case"week":i=(this-n-o)/6048e5;break;default:i=this-n}return r?i:B(i)},hr.endOf=function(e){var t,r;if(void 0===(e=q(e))||"millisecond"===e||!this.isValid())return this;switch(r=this._isUTC?nr:rr,e){case"year":t=r(this.year()+1,0,1)-1;break;case"quarter":t=r(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=r(this.year(),this.month()+1,1)-1;break;case"week":t=r(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=r(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=36e5-tr(t+(this._isUTC?0:6e4*this.utcOffset()),36e5)-1;break;case"minute":t=this._d.valueOf(),t+=6e4-tr(t,6e4)-1;break;case"second":t=this._d.valueOf(),t+=1e3-tr(t,1e3)-1}return this._d.setTime(t),n.updateOffset(this,!0),this},hr.format=function(e){e||(e=this.isUtc()?n.defaultFormatUtc:n.defaultFormat);var t=I(this,e);return this.localeData().postformat(t)},hr.from=function(e,t){return this.isValid()&&(w(e)&&e.isValid()||kt(e).isValid())?Ft({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},hr.fromNow=function(e){return this.from(kt(),e)},hr.to=function(e,t){return this.isValid()&&(w(e)&&e.isValid()||kt(e).isValid())?Ft({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},hr.toNow=function(e){return this.to(kt(),e)},hr.get=function(e){return E(this[e=q(e)])?this[e]():this},hr.invalidAt=function(){return m(this).overflow},hr.isAfter=function(e,t){var r=w(e)?e:kt(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=q(t)||"millisecond")?this.valueOf()>r.valueOf():r.valueOf()<this.clone().startOf(t).valueOf())},hr.isBefore=function(e,t){var r=w(e)?e:kt(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=q(t)||"millisecond")?this.valueOf()<r.valueOf():this.clone().endOf(t).valueOf()<r.valueOf())},hr.isBetween=function(e,t,r,n){var o=w(e)?e:kt(e),i=w(t)?t:kt(t);return!!(this.isValid()&&o.isValid()&&i.isValid())&&(("("===(n=n||"()")[0]?this.isAfter(o,r):!this.isBefore(o,r))&&(")"===n[1]?this.isBefore(i,r):!this.isAfter(i,r)))},hr.isSame=function(e,t){var r,n=w(e)?e:kt(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=q(t)||"millisecond")?this.valueOf()===n.valueOf():(r=n.valueOf(),this.clone().startOf(t).valueOf()<=r&&r<=this.clone().endOf(t).valueOf()))},hr.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},hr.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},hr.isValid=function(){return h(this)},hr.lang=Qt,hr.locale=Kt,hr.localeData=er,hr.max=Et,hr.min=xt,hr.parsingFlags=function(){return d({},m(this))},hr.set=function(e,t){if("object"==typeof e){var r,n=function(e){var t,r=[];for(t in e)a(e,t)&&r.push({unit:t,priority:H[t]});return r.sort((function(e,t){return e.priority-t.priority})),r}(e=F(e));for(r=0;r<n.length;r++)this[n[r].unit](e[n[r].unit])}else if(E(this[e=q(e)]))return this[e](t);return this},hr.startOf=function(e){var t,r;if(void 0===(e=q(e))||"millisecond"===e||!this.isValid())return this;switch(r=this._isUTC?nr:rr,e){case"year":t=r(this.year(),0,1);break;case"quarter":t=r(this.year(),this.month()-this.month()%3,1);break;case"month":t=r(this.year(),this.month(),1);break;case"week":t=r(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=r(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=tr(t+(this._isUTC?0:6e4*this.utcOffset()),36e5);break;case"minute":t=this._d.valueOf(),t-=tr(t,6e4);break;case"second":t=this._d.valueOf(),t-=tr(t,1e3)}return this._d.setTime(t),n.updateOffset(this,!0),this},hr.subtract=Gt,hr.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},hr.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},hr.toDate=function(){return new Date(this.valueOf())},hr.toISOString=function(e){if(!this.isValid())return null;var t=!0!==e,r=t?this.clone().utc():this;return r.year()<0||r.year()>9999?I(r,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):E(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",I(r,"Z")):I(r,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},hr.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e,t,r,n="moment",o="";return this.isLocal()||(n=0===this.utcOffset()?"moment.utc":"moment.parseZone",o="Z"),e="["+n+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",r=o+'[")]',this.format(e+t+"-MM-DD[T]HH:mm:ss.SSS"+r)},"undefined"!=typeof Symbol&&null!=Symbol.for&&(hr[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),hr.toJSON=function(){return this.isValid()?this.toISOString():null},hr.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},hr.unix=function(){return Math.floor(this.valueOf()/1e3)},hr.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},hr.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},hr.eraName=function(){var e,t,r,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e){if(r=this.startOf("day").valueOf(),n[e].since<=r&&r<=n[e].until)return n[e].name;if(n[e].until<=r&&r<=n[e].since)return n[e].name}return""},hr.eraNarrow=function(){var e,t,r,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e){if(r=this.startOf("day").valueOf(),n[e].since<=r&&r<=n[e].until)return n[e].narrow;if(n[e].until<=r&&r<=n[e].since)return n[e].narrow}return""},hr.eraAbbr=function(){var e,t,r,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e){if(r=this.startOf("day").valueOf(),n[e].since<=r&&r<=n[e].until)return n[e].abbr;if(n[e].until<=r&&r<=n[e].since)return n[e].abbr}return""},hr.eraYear=function(){var e,t,r,o,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e)if(r=i[e].since<=i[e].until?1:-1,o=this.startOf("day").valueOf(),i[e].since<=o&&o<=i[e].until||i[e].until<=o&&o<=i[e].since)return(this.year()-n(i[e].since).year())*r+i[e].offset;return this.year()},hr.year=Me,hr.isLeapYear=function(){return V(this.year())},hr.weekYear=function(e){return sr.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},hr.isoWeekYear=function(e){return sr.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},hr.quarter=hr.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},hr.month=Ce,hr.daysInMonth=function(){return we(this.year(),this.month())},hr.week=hr.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},hr.isoWeek=hr.isoWeeks=function(e){var t=ze(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},hr.weeksInYear=function(){var e=this.localeData()._week;return Le(this.year(),e.dow,e.doy)},hr.weeksInWeekYear=function(){var e=this.localeData()._week;return Le(this.weekYear(),e.dow,e.doy)},hr.isoWeeksInYear=function(){return Le(this.year(),1,4)},hr.isoWeeksInISOWeekYear=function(){return Le(this.isoWeekYear(),1,4)},hr.date=lr,hr.day=hr.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=function(e,t){return"string"!=typeof e?e:isNaN(e)?"number"==typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}(e,this.localeData()),this.add(e-t,"d")):t},hr.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},hr.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=function(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7},hr.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},hr.hour=hr.hours=Ke,hr.minute=hr.minutes=ur,hr.second=hr.seconds=fr,hr.millisecond=hr.milliseconds=dr,hr.utcOffset=function(e,t,r){var o,i=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=Nt(pe,e)))return this}else Math.abs(e)<16&&!r&&(e*=60);return!this._isUTC&&t&&(o=zt(this)),this._offset=e,this._isUTC=!0,null!=o&&this.add(o,"m"),i!==e&&(!t||this._changeInProgress?Bt(this,Ft(e-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,n.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?i:zt(this)},hr.utc=function(e){return this.utcOffset(0,e)},hr.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(zt(this),"m")),this},hr.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=Nt(ue,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this},hr.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?kt(e).utcOffset():0,(this.utcOffset()-e)%60==0)},hr.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},hr.isLocal=function(){return!!this.isValid()&&!this._isUTC},hr.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},hr.isUtc=Lt,hr.isUTC=Lt,hr.zoneAbbr=function(){return this._isUTC?"UTC":""},hr.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},hr.dates=j("dates accessor is deprecated. Use date instead.",lr),hr.months=j("months accessor is deprecated. Use month instead",Ce),hr.years=j("years accessor is deprecated. Use year instead",Me),hr.zone=j("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",(function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()})),hr.isDSTShifted=j("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",(function(){if(!c(this._isDSTShifted))return this._isDSTShifted;var e,t={};return v(t,this),(t=jt(t))._a?(e=t._isUTC?f(t._a):kt(t._a),this._isDSTShifted=this.isValid()&&function(e,t,r){var n,o=Math.min(e.length,t.length),i=Math.abs(e.length-t.length),a=0;for(n=0;n<o;n++)(r&&e[n]!==t[n]||!r&&W(e[n])!==W(t[n]))&&a++;return a+i}(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}));var yr=C.prototype;function _r(e,t,r,n){var o=st(),i=f().set(n,t);return o[r](i,e)}function vr(e,t,r){if(l(e)&&(t=e,e=void 0),e=e||"",null!=t)return _r(e,t,r,"month");var n,o=[];for(n=0;n<12;n++)o[n]=_r(e,n,r,"month");return o}function gr(e,t,r,n){"boolean"==typeof e?(l(t)&&(r=t,t=void 0),t=t||""):(r=t=e,e=!1,l(t)&&(r=t,t=void 0),t=t||"");var o,i=st(),a=e?i._week.dow:0,s=[];if(null!=r)return _r(t,(r+a)%7,n,"day");for(o=0;o<7;o++)s[o]=_r(t,(o+a)%7,n,"day");return s}yr.calendar=function(e,t,r){var n=this._calendar[e]||this._calendar.sameElse;return E(n)?n.call(t,r):n},yr.longDateFormat=function(e){var t=this._longDateFormat[e],r=this._longDateFormat[e.toUpperCase()];return t||!r?t:(this._longDateFormat[e]=r.match(T).map((function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e})).join(""),this._longDateFormat[e])},yr.invalidDate=function(){return this._invalidDate},yr.ordinal=function(e){return this._ordinal.replace("%d",e)},yr.preparse=br,yr.postformat=br,yr.relativeTime=function(e,t,r,n){var o=this._relativeTime[r];return E(o)?o(e,t,r,n):o.replace(/%d/i,e)},yr.pastFuture=function(e,t){var r=this._relativeTime[e>0?"future":"past"];return E(r)?r(t):r.replace(/%s/i,t)},yr.set=function(e){var t,r;for(r in e)a(e,r)&&(E(t=e[r])?this[r]=t:this["_"+r]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},yr.eras=function(e,t){var r,o,i,a=this._eras||st("en")._eras;for(r=0,o=a.length;r<o;++r){switch(typeof a[r].since){case"string":i=n(a[r].since).startOf("day"),a[r].since=i.valueOf()}switch(typeof a[r].until){case"undefined":a[r].until=1/0;break;case"string":i=n(a[r].until).startOf("day").valueOf(),a[r].until=i.valueOf()}}return a},yr.erasParse=function(e,t,r){var n,o,i,a,s,c=this.eras();for(e=e.toUpperCase(),n=0,o=c.length;n<o;++n)if(i=c[n].name.toUpperCase(),a=c[n].abbr.toUpperCase(),s=c[n].narrow.toUpperCase(),r)switch(t){case"N":case"NN":case"NNN":if(a===e)return c[n];break;case"NNNN":if(i===e)return c[n];break;case"NNNNN":if(s===e)return c[n]}else if([i,a,s].indexOf(e)>=0)return c[n]},yr.erasConvertYear=function(e,t){var r=e.since<=e.until?1:-1;return void 0===t?n(e.since).year():n(e.since).year()+(t-e.offset)*r},yr.erasAbbrRegex=function(e){return a(this,"_erasAbbrRegex")||ir.call(this),e?this._erasAbbrRegex:this._erasRegex},yr.erasNameRegex=function(e){return a(this,"_erasNameRegex")||ir.call(this),e?this._erasNameRegex:this._erasRegex},yr.erasNarrowRegex=function(e){return a(this,"_erasNarrowRegex")||ir.call(this),e?this._erasNarrowRegex:this._erasRegex},yr.months=function(e,t){return e?o(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||Se).test(t)?"format":"standalone"][e.month()]:o(this._months)?this._months:this._months.standalone},yr.monthsShort=function(e,t){return e?o(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Se.test(t)?"format":"standalone"][e.month()]:o(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},yr.monthsParse=function(e,t,r){var n,o,i;if(this._monthsParseExact)return Ee.call(this,e,t,r);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(o=f([2e3,n]),r&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),r||this._monthsParse[n]||(i="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[n]=new RegExp(i.replace(".",""),"i")),r&&"MMMM"===t&&this._longMonthsParse[n].test(e))return n;if(r&&"MMM"===t&&this._shortMonthsParse[n].test(e))return n;if(!r&&this._monthsParse[n].test(e))return n}},yr.monthsRegex=function(e){return this._monthsParseExact?(a(this,"_monthsRegex")||De.call(this),e?this._monthsStrictRegex:this._monthsRegex):(a(this,"_monthsRegex")||(this._monthsRegex=xe),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},yr.monthsShortRegex=function(e){return this._monthsParseExact?(a(this,"_monthsRegex")||De.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(a(this,"_monthsShortRegex")||(this._monthsShortRegex=ke),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},yr.week=function(e){return ze(e,this._week.dow,this._week.doy).week},yr.firstDayOfYear=function(){return this._week.doy},yr.firstDayOfWeek=function(){return this._week.dow},yr.weekdays=function(e,t){var r=o(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?Ue(r,this._week.dow):e?r[e.day()]:r},yr.weekdaysMin=function(e){return!0===e?Ue(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin},yr.weekdaysShort=function(e){return!0===e?Ue(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort},yr.weekdaysParse=function(e,t,r){var n,o,i;if(this._weekdaysParseExact)return We.call(this,e,t,r);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;n<7;n++){if(o=f([2e3,1]).day(n),r&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(o,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(o,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(o,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[n]||(i="^"+this.weekdays(o,"")+"|^"+this.weekdaysShort(o,"")+"|^"+this.weekdaysMin(o,""),this._weekdaysParse[n]=new RegExp(i.replace(".",""),"i")),r&&"dddd"===t&&this._fullWeekdaysParse[n].test(e))return n;if(r&&"ddd"===t&&this._shortWeekdaysParse[n].test(e))return n;if(r&&"dd"===t&&this._minWeekdaysParse[n].test(e))return n;if(!r&&this._weekdaysParse[n].test(e))return n}},yr.weekdaysRegex=function(e){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Ge.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(a(this,"_weekdaysRegex")||(this._weekdaysRegex=Ye),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},yr.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Ge.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(a(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Ve),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},yr.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Ge.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(a(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Be),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},yr.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},yr.meridiem=function(e,t,r){return e>11?r?"pm":"PM":r?"am":"AM"},it("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===W(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),n.lang=j("moment.lang is deprecated. Use moment.locale instead.",it),n.langData=j("moment.langData is deprecated. Use moment.localeData instead.",st);var wr=Math.abs;function Or(e,t,r,n){var o=Ft(t,r);return e._milliseconds+=n*o._milliseconds,e._days+=n*o._days,e._months+=n*o._months,e._bubble()}function jr(e){return e<0?Math.floor(e):Math.ceil(e)}function Sr(e){return 4800*e/146097}function kr(e){return 146097*e/4800}function xr(e){return function(){return this.as(e)}}var Er=xr("ms"),Pr=xr("s"),Cr=xr("m"),Dr=xr("h"),Tr=xr("d"),Mr=xr("w"),Ar=xr("M"),Rr=xr("Q"),Nr=xr("y");function Ir(e){return function(){return this.isValid()?this._data[e]:NaN}}var zr=Ir("milliseconds"),Lr=Ir("seconds"),Ur=Ir("minutes"),qr=Ir("hours"),Fr=Ir("days"),Hr=Ir("months"),Yr=Ir("years"),Vr=Math.round,Br={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Wr(e,t,r,n,o){return o.relativeTime(t||1,!!r,e,n)}var Gr=Math.abs;function Xr(e){return(e>0)-(e<0)||+e}function $r(){if(!this.isValid())return this.localeData().invalidDate();var e,t,r,n,o,i,a,s,c=Gr(this._milliseconds)/1e3,l=Gr(this._days),u=Gr(this._months),p=this.asSeconds();return p?(e=B(c/60),t=B(e/60),c%=60,e%=60,r=B(u/12),u%=12,n=c?c.toFixed(3).replace(/\.?0+$/,""):"",o=p<0?"-":"",i=Xr(this._months)!==Xr(p)?"-":"",a=Xr(this._days)!==Xr(p)?"-":"",s=Xr(this._milliseconds)!==Xr(p)?"-":"",o+"P"+(r?i+r+"Y":"")+(u?i+u+"M":"")+(l?a+l+"D":"")+(t||e||c?"T":"")+(t?s+t+"H":"")+(e?s+e+"M":"")+(c?s+n+"S":"")):"P0D"}var Zr=Dt.prototype;return Zr.isValid=function(){return this._isValid},Zr.abs=function(){var e=this._data;return this._milliseconds=wr(this._milliseconds),this._days=wr(this._days),this._months=wr(this._months),e.milliseconds=wr(e.milliseconds),e.seconds=wr(e.seconds),e.minutes=wr(e.minutes),e.hours=wr(e.hours),e.months=wr(e.months),e.years=wr(e.years),this},Zr.add=function(e,t){return Or(this,e,t,1)},Zr.subtract=function(e,t){return Or(this,e,t,-1)},Zr.as=function(e){if(!this.isValid())return NaN;var t,r,n=this._milliseconds;if("month"===(e=q(e))||"quarter"===e||"year"===e)switch(t=this._days+n/864e5,r=this._months+Sr(t),e){case"month":return r;case"quarter":return r/3;case"year":return r/12}else switch(t=this._days+Math.round(kr(this._months)),e){case"week":return t/7+n/6048e5;case"day":return t+n/864e5;case"hour":return 24*t+n/36e5;case"minute":return 1440*t+n/6e4;case"second":return 86400*t+n/1e3;case"millisecond":return Math.floor(864e5*t)+n;default:throw new Error("Unknown unit "+e)}},Zr.asMilliseconds=Er,Zr.asSeconds=Pr,Zr.asMinutes=Cr,Zr.asHours=Dr,Zr.asDays=Tr,Zr.asWeeks=Mr,Zr.asMonths=Ar,Zr.asQuarters=Rr,Zr.asYears=Nr,Zr.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*W(this._months/12):NaN},Zr._bubble=function(){var e,t,r,n,o,i=this._milliseconds,a=this._days,s=this._months,c=this._data;return i>=0&&a>=0&&s>=0||i<=0&&a<=0&&s<=0||(i+=864e5*jr(kr(s)+a),a=0,s=0),c.milliseconds=i%1e3,e=B(i/1e3),c.seconds=e%60,t=B(e/60),c.minutes=t%60,r=B(t/60),c.hours=r%24,a+=B(r/24),o=B(Sr(a)),s+=o,a-=jr(kr(o)),n=B(s/12),s%=12,c.days=a,c.months=s,c.years=n,this},Zr.clone=function(){return Ft(this)},Zr.get=function(e){return e=q(e),this.isValid()?this[e+"s"]():NaN},Zr.milliseconds=zr,Zr.seconds=Lr,Zr.minutes=Ur,Zr.hours=qr,Zr.days=Fr,Zr.weeks=function(){return B(this.days()/7)},Zr.months=Hr,Zr.years=Yr,Zr.humanize=function(e,t){if(!this.isValid())return this.localeData().invalidDate();var r,n,o=!1,i=Br;return"object"==typeof e&&(t=e,e=!1),"boolean"==typeof e&&(o=e),"object"==typeof t&&(i=Object.assign({},Br,t),null!=t.s&&null==t.ss&&(i.ss=t.s-1)),r=this.localeData(),n=function(e,t,r,n){var o=Ft(e).abs(),i=Vr(o.as("s")),a=Vr(o.as("m")),s=Vr(o.as("h")),c=Vr(o.as("d")),l=Vr(o.as("M")),u=Vr(o.as("w")),p=Vr(o.as("y")),d=i<=r.ss&&["s",i]||i<r.s&&["ss",i]||a<=1&&["m"]||a<r.m&&["mm",a]||s<=1&&["h"]||s<r.h&&["hh",s]||c<=1&&["d"]||c<r.d&&["dd",c];return null!=r.w&&(d=d||u<=1&&["w"]||u<r.w&&["ww",u]),(d=d||l<=1&&["M"]||l<r.M&&["MM",l]||p<=1&&["y"]||["yy",p])[2]=t,d[3]=+e>0,d[4]=n,Wr.apply(null,d)}(this,!o,i,r),o&&(n=r.pastFuture(+this,n)),r.postformat(n)},Zr.toISOString=$r,Zr.toString=$r,Zr.toJSON=$r,Zr.locale=Kt,Zr.localeData=er,Zr.toIsoString=j("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",$r),Zr.lang=Qt,N("X",0,0,"unix"),N("x",0,0,"valueOf"),fe("x",le),fe("X",/[+-]?\d+(\.\d{1,3})?/),_e("X",(function(e,t,r){r._d=new Date(1e3*parseFloat(e))})),_e("x",(function(e,t,r){r._d=new Date(W(e))})),
//! moment.js
n.version="2.26.0",t=kt,n.fn=hr,n.min=function(){var e=[].slice.call(arguments,0);return Pt("isBefore",e)},n.max=function(){var e=[].slice.call(arguments,0);return Pt("isAfter",e)},n.now=function(){return Date.now?Date.now():+new Date},n.utc=f,n.unix=function(e){return kt(1e3*e)},n.months=function(e,t){return vr(e,t,"months")},n.isDate=u,n.locale=it,n.invalid=b,n.duration=Ft,n.isMoment=w,n.weekdays=function(e,t,r){return gr(e,t,r,"weekdays")},n.parseZone=function(){return kt.apply(null,arguments).parseZone()},n.localeData=st,n.isDuration=Tt,n.monthsShort=function(e,t){return vr(e,t,"monthsShort")},n.weekdaysMin=function(e,t,r){return gr(e,t,r,"weekdaysMin")},n.defineLocale=at,n.updateLocale=function(e,t){if(null!=t){var r,n,o=Qe;null!=et[e]&&null!=et[e].parentLocale?et[e].set(P(et[e]._config,t)):(null!=(n=ot(e))&&(o=n._config),t=P(o,t),null==n&&(t.abbr=e),(r=new C(t)).parentLocale=et[e],et[e]=r),it(e)}else null!=et[e]&&(null!=et[e].parentLocale?(et[e]=et[e].parentLocale,e===it()&&it(e)):null!=et[e]&&delete et[e]);return et[e]},n.locales=function(){return S(et)},n.weekdaysShort=function(e,t,r){return gr(e,t,r,"weekdaysShort")},n.normalizeUnits=q,n.relativeTimeRounding=function(e){return void 0===e?Vr:"function"==typeof e&&(Vr=e,!0)},n.relativeTimeThreshold=function(e,t){return void 0!==Br[e]&&(void 0===t?Br[e]:(Br[e]=t,"s"===e&&(Br.ss=t-1),!0))},n.calendarFormat=function(e,t){var r=e.diff(t,"days",!0);return r<-6?"sameElse":r<-1?"lastWeek":r<0?"lastDay":r<1?"sameDay":r<2?"nextDay":r<7?"nextWeek":"sameElse"},n.prototype=hr,n.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},n}()}).call(this,r("../node_modules/webpack/buildin/module.js")(e))},"../node_modules/process/browser.js":function(e,t){var r,n,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(r===setTimeout)return setTimeout(e,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:i}catch(e){r=i}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var c,l=[],u=!1,p=-1;function d(){u&&c&&(u=!1,c.length?l=c.concat(l):p=-1,l.length&&f())}function f(){if(!u){var e=s(d);u=!0;for(var t=l.length;t;){for(c=l,l=[];++p<t;)c&&c[p].run();p=-1,t=l.length}c=null,u=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function h(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];l.push(new m(e,t)),1!==l.length||u||s(f)},m.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=h,o.addListener=h,o.once=h,o.off=h,o.removeListener=h,o.removeAllListeners=h,o.emit=h,o.prependListener=h,o.prependOnceListener=h,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},"../node_modules/promise-polyfill/src/finally.js":function(e,t,r){"use strict";t.a=function(e){var t=this.constructor;return this.then((function(r){return t.resolve(e()).then((function(){return r}))}),(function(r){return t.resolve(e()).then((function(){return t.reject(r)}))}))}},"../node_modules/promise-polyfill/src/index.js":function(e,t,r){"use strict";(function(e){var t=r("../node_modules/promise-polyfill/src/finally.js"),n=setTimeout;function o(e){return Boolean(e&&void 0!==e.length)}function i(){}function a(e){if(!(this instanceof a))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],d(e,this)}function s(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,a._immediateFn((function(){var r=1===e._state?t.onFulfilled:t.onRejected;if(null!==r){var n;try{n=r(e._value)}catch(e){return void l(t.promise,e)}c(t.promise,n)}else(1===e._state?c:l)(t.promise,e._value)}))):e._deferreds.push(t)}function c(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var r=t.then;if(t instanceof a)return e._state=3,e._value=t,void u(e);if("function"==typeof r)return void d((n=r,o=t,function(){n.apply(o,arguments)}),e)}e._state=1,e._value=t,u(e)}catch(t){l(e,t)}var n,o}function l(e,t){e._state=2,e._value=t,u(e)}function u(e){2===e._state&&0===e._deferreds.length&&a._immediateFn((function(){e._handled||a._unhandledRejectionFn(e._value)}));for(var t=0,r=e._deferreds.length;t<r;t++)s(e,e._deferreds[t]);e._deferreds=null}function p(e,t,r){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=r}function d(e,t){var r=!1;try{e((function(e){r||(r=!0,c(t,e))}),(function(e){r||(r=!0,l(t,e))}))}catch(e){if(r)return;r=!0,l(t,e)}}a.prototype.catch=function(e){return this.then(null,e)},a.prototype.then=function(e,t){var r=new this.constructor(i);return s(this,new p(e,t,r)),r},a.prototype.finally=t.a,a.all=function(e){return new a((function(t,r){if(!o(e))return r(new TypeError("Promise.all accepts an array"));var n=Array.prototype.slice.call(e);if(0===n.length)return t([]);var i=n.length;function a(e,o){try{if(o&&("object"==typeof o||"function"==typeof o)){var s=o.then;if("function"==typeof s)return void s.call(o,(function(t){a(e,t)}),r)}n[e]=o,0==--i&&t(n)}catch(e){r(e)}}for(var s=0;s<n.length;s++)a(s,n[s])}))},a.resolve=function(e){return e&&"object"==typeof e&&e.constructor===a?e:new a((function(t){t(e)}))},a.reject=function(e){return new a((function(t,r){r(e)}))},a.race=function(e){return new a((function(t,r){if(!o(e))return r(new TypeError("Promise.race accepts an array"));for(var n=0,i=e.length;n<i;n++)a.resolve(e[n]).then(t,r)}))},a._immediateFn="function"==typeof e&&function(t){e(t)}||function(e){n(e,0)},a._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)}}).call(this,r("../node_modules/timers-browserify/main.js").setImmediate)},"../node_modules/prop-types/factoryWithThrowingShims.js":function(e,t,r){"use strict";var n=r("../node_modules/prop-types/lib/ReactPropTypesSecret.js");function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,r,o,i,a){if(a!==n){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var r={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return r.PropTypes=r,r}},"../node_modules/prop-types/index.js":function(e,t,r){e.exports=r("../node_modules/prop-types/factoryWithThrowingShims.js")()},"../node_modules/prop-types/lib/ReactPropTypesSecret.js":function(e,t,r){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},"../node_modules/react-lifecycles-compat/react-lifecycles-compat.es.js":function(e,t,r){"use strict";function n(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!=e&&this.setState(e)}function o(e){this.setState(function(t){var r=this.constructor.getDerivedStateFromProps(e,t);return null!=r?r:null}.bind(this))}function i(e,t){try{var r=this.props,n=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(r,n)}finally{this.props=r,this.state=n}}function a(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof e.getDerivedStateFromProps&&"function"!=typeof t.getSnapshotBeforeUpdate)return e;var r=null,a=null,s=null;if("function"==typeof t.componentWillMount?r="componentWillMount":"function"==typeof t.UNSAFE_componentWillMount&&(r="UNSAFE_componentWillMount"),"function"==typeof t.componentWillReceiveProps?a="componentWillReceiveProps":"function"==typeof t.UNSAFE_componentWillReceiveProps&&(a="UNSAFE_componentWillReceiveProps"),"function"==typeof t.componentWillUpdate?s="componentWillUpdate":"function"==typeof t.UNSAFE_componentWillUpdate&&(s="UNSAFE_componentWillUpdate"),null!==r||null!==a||null!==s){var c=e.displayName||e.name,l="function"==typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+c+" uses "+l+" but also contains the following legacy lifecycles:"+(null!==r?"\n  "+r:"")+(null!==a?"\n  "+a:"")+(null!==s?"\n  "+s:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof e.getDerivedStateFromProps&&(t.componentWillMount=n,t.componentWillReceiveProps=o),"function"==typeof t.getSnapshotBeforeUpdate){if("function"!=typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=i;var u=t.componentDidUpdate;t.componentDidUpdate=function(e,t,r){var n=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:r;u.call(this,e,t,n)}}return e}r.r(t),r.d(t,"polyfill",(function(){return a})),n.__suppressDeprecationWarning=!0,o.__suppressDeprecationWarning=!0,i.__suppressDeprecationWarning=!0},"../node_modules/react-loadable/lib/index.js":function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=r("react"),c=r("../node_modules/prop-types/index.js"),l=[],u=[];function p(e){var t=e(),r={loading:!0,loaded:null,error:null};return r.promise=t.then((function(e){return r.loading=!1,r.loaded=e,e})).catch((function(e){throw r.loading=!1,r.error=e,e})),r}function d(e){var t={loading:!1,loaded:{},error:null},r=[];try{Object.keys(e).forEach((function(n){var o=p(e[n]);o.loading?t.loading=!0:(t.loaded[n]=o.loaded,t.error=o.error),r.push(o.promise),o.promise.then((function(e){t.loaded[n]=e})).catch((function(e){t.error=e}))}))}catch(e){t.error=e}return t.promise=Promise.all(r).then((function(e){return t.loading=!1,e})).catch((function(e){throw t.loading=!1,e})),t}function f(e,t){return s.createElement((r=e)&&r.__esModule?r.default:r,t);var r}function m(e,t){var p,d;if(!t.loading)throw new Error("react-loadable requires a `loading` component");var m=Object.assign({loader:null,loading:null,delay:200,timeout:null,render:f,webpack:null,modules:null},t),h=null;function b(){return h||(h=e(m.loader)),h.promise}return l.push(b),"function"==typeof m.webpack&&u.push((function(){if(e=m.webpack,"object"===n(r.m)&&e().every((function(e){return void 0!==e&&void 0!==r.m[e]})))return b();var e})),d=p=function(t){function r(n){o(this,r);var a=i(this,t.call(this,n));return a.retry=function(){a.setState({error:null,loading:!0,timedOut:!1}),h=e(m.loader),a._loadModule()},b(),a.state={error:h.error,pastDelay:!1,timedOut:!1,loading:h.loading,loaded:h.loaded},a}return a(r,t),r.preload=function(){return b()},r.prototype.componentWillMount=function(){this._mounted=!0,this._loadModule()},r.prototype._loadModule=function(){var e=this;if(this.context.loadable&&Array.isArray(m.modules)&&m.modules.forEach((function(t){e.context.loadable.report(t)})),h.loading){"number"==typeof m.delay&&(0===m.delay?this.setState({pastDelay:!0}):this._delay=setTimeout((function(){e.setState({pastDelay:!0})}),m.delay)),"number"==typeof m.timeout&&(this._timeout=setTimeout((function(){e.setState({timedOut:!0})}),m.timeout));var t=function(){e._mounted&&(e.setState({error:h.error,loaded:h.loaded,loading:h.loading}),e._clearTimeouts())};h.promise.then((function(){t()})).catch((function(e){t()}))}},r.prototype.componentWillUnmount=function(){this._mounted=!1,this._clearTimeouts()},r.prototype._clearTimeouts=function(){clearTimeout(this._delay),clearTimeout(this._timeout)},r.prototype.render=function(){return this.state.loading||this.state.error?s.createElement(m.loading,{isLoading:this.state.loading,pastDelay:this.state.pastDelay,timedOut:this.state.timedOut,error:this.state.error,retry:this.retry}):this.state.loaded?m.render(this.state.loaded,this.props):null},r}(s.Component),p.contextTypes={loadable:c.shape({report:c.func.isRequired})},d}function h(e){return m(p,e)}h.Map=function(e){if("function"!=typeof e.render)throw new Error("LoadableMap requires a `render(loaded, props)` function");return m(d,e)};var b=function(e){function t(){return o(this,t),i(this,e.apply(this,arguments))}return a(t,e),t.prototype.getChildContext=function(){return{loadable:{report:this.props.report}}},t.prototype.render=function(){return s.Children.only(this.props.children)},t}(s.Component);function y(e){for(var t=[];e.length;){var r=e.pop();t.push(r())}return Promise.all(t).then((function(){if(e.length)return y(e)}))}b.propTypes={report:c.func.isRequired},b.childContextTypes={loadable:c.shape({report:c.func.isRequired}).isRequired},h.Capture=b,h.preloadAll=function(){return new Promise((function(e,t){y(l).then(e,t)}))},h.preloadReady=function(){return new Promise((function(e,t){y(u).then(e,e)}))},e.exports=h},"../node_modules/react-transition-group/CSSTransition.js":function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}t.default=e}(r("../node_modules/prop-types/index.js"));var n=s(r("../node_modules/dom-helpers/class/addClass.js")),o=s(r("../node_modules/dom-helpers/class/removeClass.js")),i=s(r("react")),a=s(r("../node_modules/react-transition-group/Transition.js"));r("../node_modules/react-transition-group/utils/PropTypes.js");function s(e){return e&&e.__esModule?e:{default:e}}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var l=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return(0,n.default)(e,t)}))},u=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return(0,o.default)(e,t)}))},p=function(e){var t,r;function n(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).onEnter=function(e,r){var n=t.getClassNames(r?"appear":"enter").className;t.removeClasses(e,"exit"),l(e,n),t.props.onEnter&&t.props.onEnter(e,r)},t.onEntering=function(e,r){var n=t.getClassNames(r?"appear":"enter").activeClassName;t.reflowAndAddClass(e,n),t.props.onEntering&&t.props.onEntering(e,r)},t.onEntered=function(e,r){var n=t.getClassNames("appear").doneClassName,o=t.getClassNames("enter").doneClassName,i=r?n+" "+o:o;t.removeClasses(e,r?"appear":"enter"),l(e,i),t.props.onEntered&&t.props.onEntered(e,r)},t.onExit=function(e){var r=t.getClassNames("exit").className;t.removeClasses(e,"appear"),t.removeClasses(e,"enter"),l(e,r),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var r=t.getClassNames("exit").activeClassName;t.reflowAndAddClass(e,r),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var r=t.getClassNames("exit").doneClassName;t.removeClasses(e,"exit"),l(e,r),t.props.onExited&&t.props.onExited(e)},t.getClassNames=function(e){var r=t.props.classNames,n="string"==typeof r,o=n?(n&&r?r+"-":"")+e:r[e];return{className:o,activeClassName:n?o+"-active":r[e+"Active"],doneClassName:n?o+"-done":r[e+"Done"]}},t}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var o=n.prototype;return o.removeClasses=function(e,t){var r=this.getClassNames(t),n=r.className,o=r.activeClassName,i=r.doneClassName;n&&u(e,n),o&&u(e,o),i&&u(e,i)},o.reflowAndAddClass=function(e,t){t&&(e&&e.scrollTop,l(e,t))},o.render=function(){var e=c({},this.props);return delete e.classNames,i.default.createElement(a.default,c({},e,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},n}(i.default.Component);p.defaultProps={classNames:""},p.propTypes={};var d=p;t.default=d,e.exports=t.default},"../node_modules/react-transition-group/ReplaceTransition.js":function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;a(r("../node_modules/prop-types/index.js"));var n=a(r("react")),o=r("react-dom"),i=a(r("../node_modules/react-transition-group/TransitionGroup.js"));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t,r;function a(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).handleEnter=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return t.handleLifecycle("onEnter",0,r)},t.handleEntering=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return t.handleLifecycle("onEntering",0,r)},t.handleEntered=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return t.handleLifecycle("onEntered",0,r)},t.handleExit=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return t.handleLifecycle("onExit",1,r)},t.handleExiting=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return t.handleLifecycle("onExiting",1,r)},t.handleExited=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return t.handleLifecycle("onExited",1,r)},t}r=e,(t=a).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var s=a.prototype;return s.handleLifecycle=function(e,t,r){var i,a=this.props.children,s=n.default.Children.toArray(a)[t];s.props[e]&&(i=s.props)[e].apply(i,r),this.props[e]&&this.props[e]((0,o.findDOMNode)(this))},s.render=function(){var e=this.props,t=e.children,r=e.in,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,["children","in"]),a=n.default.Children.toArray(t),s=a[0],c=a[1];return delete o.onEnter,delete o.onEntering,delete o.onEntered,delete o.onExit,delete o.onExiting,delete o.onExited,n.default.createElement(i.default,o,r?n.default.cloneElement(s,{key:"first",onEnter:this.handleEnter,onEntering:this.handleEntering,onEntered:this.handleEntered}):n.default.cloneElement(c,{key:"second",onEnter:this.handleExit,onEntering:this.handleExiting,onEntered:this.handleExited}))},a}(n.default.Component);s.propTypes={};var c=s;t.default=c,e.exports=t.default},"../node_modules/react-transition-group/Transition.js":function(e,t,r){"use strict";t.__esModule=!0,t.default=t.EXITING=t.ENTERED=t.ENTERING=t.EXITED=t.UNMOUNTED=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r("../node_modules/prop-types/index.js")),o=s(r("react")),i=s(r("react-dom")),a=r("../node_modules/react-lifecycles-compat/react-lifecycles-compat.es.js");r("../node_modules/react-transition-group/utils/PropTypes.js");function s(e){return e&&e.__esModule?e:{default:e}}t.UNMOUNTED="unmounted";t.EXITED="exited";t.ENTERING="entering";t.ENTERED="entered";t.EXITING="exiting";var c=function(e){var t,r;function n(t,r){var n;n=e.call(this,t,r)||this;var o,i=r.transitionGroup,a=i&&!i.isMounting?t.enter:t.appear;return n.appearStatus=null,t.in?a?(o="exited",n.appearStatus="entering"):o="entered":o=t.unmountOnExit||t.mountOnEnter?"unmounted":"exited",n.state={status:o},n.nextCallback=null,n}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var a=n.prototype;return a.getChildContext=function(){return{transitionGroup:null}},n.getDerivedStateFromProps=function(e,t){return e.in&&"unmounted"===t.status?{status:"exited"}:null},a.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},a.componentDidUpdate=function(e){var t=null;if(e!==this.props){var r=this.state.status;this.props.in?"entering"!==r&&"entered"!==r&&(t="entering"):"entering"!==r&&"entered"!==r||(t="exiting")}this.updateStatus(!1,t)},a.componentWillUnmount=function(){this.cancelNextCallback()},a.getTimeouts=function(){var e,t,r,n=this.props.timeout;return e=t=r=n,null!=n&&"number"!=typeof n&&(e=n.exit,t=n.enter,r=void 0!==n.appear?n.appear:t),{exit:e,enter:t,appear:r}},a.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t){this.cancelNextCallback();var r=i.default.findDOMNode(this);"entering"===t?this.performEnter(r,e):this.performExit(r)}else this.props.unmountOnExit&&"exited"===this.state.status&&this.setState({status:"unmounted"})},a.performEnter=function(e,t){var r=this,n=this.props.enter,o=this.context.transitionGroup?this.context.transitionGroup.isMounting:t,i=this.getTimeouts(),a=o?i.appear:i.enter;t||n?(this.props.onEnter(e,o),this.safeSetState({status:"entering"},(function(){r.props.onEntering(e,o),r.onTransitionEnd(e,a,(function(){r.safeSetState({status:"entered"},(function(){r.props.onEntered(e,o)}))}))}))):this.safeSetState({status:"entered"},(function(){r.props.onEntered(e)}))},a.performExit=function(e){var t=this,r=this.props.exit,n=this.getTimeouts();r?(this.props.onExit(e),this.safeSetState({status:"exiting"},(function(){t.props.onExiting(e),t.onTransitionEnd(e,n.exit,(function(){t.safeSetState({status:"exited"},(function(){t.props.onExited(e)}))}))}))):this.safeSetState({status:"exited"},(function(){t.props.onExited(e)}))},a.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},a.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},a.setNextCallback=function(e){var t=this,r=!0;return this.nextCallback=function(n){r&&(r=!1,t.nextCallback=null,e(n))},this.nextCallback.cancel=function(){r=!1},this.nextCallback},a.onTransitionEnd=function(e,t,r){this.setNextCallback(r);var n=null==t&&!this.props.addEndListener;e&&!n?(this.props.addEndListener&&this.props.addEndListener(e,this.nextCallback),null!=t&&setTimeout(this.nextCallback,t)):setTimeout(this.nextCallback,0)},a.render=function(){var e=this.state.status;if("unmounted"===e)return null;var t=this.props,r=t.children,n=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(t,["children"]);if(delete n.in,delete n.mountOnEnter,delete n.unmountOnExit,delete n.appear,delete n.enter,delete n.exit,delete n.timeout,delete n.addEndListener,delete n.onEnter,delete n.onEntering,delete n.onEntered,delete n.onExit,delete n.onExiting,delete n.onExited,"function"==typeof r)return r(e,n);var i=o.default.Children.only(r);return o.default.cloneElement(i,n)},n}(o.default.Component);function l(){}c.contextTypes={transitionGroup:n.object},c.childContextTypes={transitionGroup:function(){}},c.propTypes={},c.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:l,onEntering:l,onEntered:l,onExit:l,onExiting:l,onExited:l},c.UNMOUNTED=0,c.EXITED=1,c.ENTERING=2,c.ENTERED=3,c.EXITING=4;var u=(0,a.polyfill)(c);t.default=u},"../node_modules/react-transition-group/TransitionGroup.js":function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=s(r("../node_modules/prop-types/index.js")),o=s(r("react")),i=r("../node_modules/react-lifecycles-compat/react-lifecycles-compat.es.js"),a=r("../node_modules/react-transition-group/utils/ChildMapping.js");function s(e){return e&&e.__esModule?e:{default:e}}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var u=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},p=function(e){var t,r;function n(t,r){var n,o=(n=e.call(this,t,r)||this).handleExited.bind(l(l(n)));return n.state={handleExited:o,firstRender:!0},n}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var i=n.prototype;return i.getChildContext=function(){return{transitionGroup:{isMounting:!this.appeared}}},i.componentDidMount=function(){this.appeared=!0,this.mounted=!0},i.componentWillUnmount=function(){this.mounted=!1},n.getDerivedStateFromProps=function(e,t){var r=t.children,n=t.handleExited;return{children:t.firstRender?(0,a.getInitialChildMapping)(e,n):(0,a.getNextChildMapping)(e,r,n),firstRender:!1}},i.handleExited=function(e,t){var r=(0,a.getChildMapping)(this.props.children);e.key in r||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var r=c({},t.children);return delete r[e.key],{children:r}})))},i.render=function(){var e=this.props,t=e.component,r=e.childFactory,n=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,["component","childFactory"]),i=u(this.state.children).map(r);return delete n.appear,delete n.enter,delete n.exit,null===t?i:o.default.createElement(t,n,i)},n}(o.default.Component);p.childContextTypes={transitionGroup:n.default.object.isRequired},p.propTypes={},p.defaultProps={component:"div",childFactory:function(e){return e}};var d=(0,i.polyfill)(p);t.default=d,e.exports=t.default},"../node_modules/react-transition-group/index.js":function(e,t,r){"use strict";var n=s(r("../node_modules/react-transition-group/CSSTransition.js")),o=s(r("../node_modules/react-transition-group/ReplaceTransition.js")),i=s(r("../node_modules/react-transition-group/TransitionGroup.js")),a=s(r("../node_modules/react-transition-group/Transition.js"));function s(e){return e&&e.__esModule?e:{default:e}}e.exports={Transition:a.default,TransitionGroup:i.default,ReplaceTransition:o.default,CSSTransition:n.default}},"../node_modules/react-transition-group/utils/ChildMapping.js":function(e,t,r){"use strict";t.__esModule=!0,t.getChildMapping=o,t.mergeChildMappings=i,t.getInitialChildMapping=function(e,t){return o(e.children,(function(r){return(0,n.cloneElement)(r,{onExited:t.bind(null,r),in:!0,appear:a(r,"appear",e),enter:a(r,"enter",e),exit:a(r,"exit",e)})}))},t.getNextChildMapping=function(e,t,r){var s=o(e.children),c=i(t,s);return Object.keys(c).forEach((function(o){var i=c[o];if((0,n.isValidElement)(i)){var l=o in t,u=o in s,p=t[o],d=(0,n.isValidElement)(p)&&!p.props.in;!u||l&&!d?u||!l||d?u&&l&&(0,n.isValidElement)(p)&&(c[o]=(0,n.cloneElement)(i,{onExited:r.bind(null,i),in:p.props.in,exit:a(i,"exit",e),enter:a(i,"enter",e)})):c[o]=(0,n.cloneElement)(i,{in:!1}):c[o]=(0,n.cloneElement)(i,{onExited:r.bind(null,i),in:!0,exit:a(i,"exit",e),enter:a(i,"enter",e)})}})),c};var n=r("react");function o(e,t){var r=Object.create(null);return e&&n.Children.map(e,(function(e){return e})).forEach((function(e){r[e.key]=function(e){return t&&(0,n.isValidElement)(e)?t(e):e}(e)})),r}function i(e,t){function r(r){return r in t?t[r]:e[r]}e=e||{},t=t||{};var n,o=Object.create(null),i=[];for(var a in e)a in t?i.length&&(o[a]=i,i=[]):i.push(a);var s={};for(var c in t){if(o[c])for(n=0;n<o[c].length;n++){var l=o[c][n];s[o[c][n]]=r(l)}s[c]=r(c)}for(n=0;n<i.length;n++)s[i[n]]=r(i[n]);return s}function a(e,t,r){return null!=r[t]?r[t]:e.props[t]}},"../node_modules/react-transition-group/utils/PropTypes.js":function(e,t,r){"use strict";t.__esModule=!0,t.classNamesShape=t.timeoutsShape=void 0;var n;(n=r("../node_modules/prop-types/index.js"))&&n.__esModule;t.timeoutsShape=null;t.classNamesShape=null},"../node_modules/setimmediate/setImmediate.js":function(e,t,r){(function(e,t){!function(e,r){"use strict";if(!e.setImmediate){var n,o,i,a,s,c=1,l={},u=!1,p=e.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(e);d=d&&d.setTimeout?d:e,"[object process]"==={}.toString.call(e.process)?n=function(e){t.nextTick((function(){m(e)}))}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,r=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=r,t}}()?e.MessageChannel?((i=new MessageChannel).port1.onmessage=function(e){m(e.data)},n=function(e){i.port2.postMessage(e)}):p&&"onreadystatechange"in p.createElement("script")?(o=p.documentElement,n=function(e){var t=p.createElement("script");t.onreadystatechange=function(){m(e),t.onreadystatechange=null,o.removeChild(t),t=null},o.appendChild(t)}):n=function(e){setTimeout(m,0,e)}:(a="setImmediate$"+Math.random()+"$",s=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(a)&&m(+t.data.slice(a.length))},e.addEventListener?e.addEventListener("message",s,!1):e.attachEvent("onmessage",s),n=function(t){e.postMessage(a+t,"*")}),d.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),r=0;r<t.length;r++)t[r]=arguments[r+1];var o={callback:e,args:t};return l[c]=o,n(c),c++},d.clearImmediate=f}function f(e){delete l[e]}function m(e){if(u)setTimeout(m,0,e);else{var t=l[e];if(t){u=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(void 0,r)}}(t)}finally{f(e),u=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,r("../node_modules/webpack/buildin/global.js"),r("../node_modules/process/browser.js"))},"../node_modules/timers-browserify/main.js":function(e,t,r){(function(e){var n=void 0!==e&&e||"undefined"!=typeof self&&self||window,o=Function.prototype.apply;function i(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new i(o.call(setTimeout,n,arguments),clearTimeout)},t.setInterval=function(){return new i(o.call(setInterval,n,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(n,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},r("../node_modules/setimmediate/setImmediate.js"),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,r("../node_modules/webpack/buildin/global.js"))},"../node_modules/webpack/buildin/global.js":function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},"../node_modules/webpack/buildin/module.js":function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},"./App/Components/Animations/index.js":function(e,t,r){"use strict";r.d(t,"a",(function(){return uo})),r.d(t,"b",(function(){return mo}));var n=r("../node_modules/prop-types/index.js"),o=r.n(n),i=r("react"),a=r.n(i),s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function c(e,t){function r(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var l=function(){return(l=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function u(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r}function p(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),o=0;for(t=0;t<r;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)n[o]=i[a];return n}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var d=function(){return(d=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},f=function(e,t){return function(r){return Math.max(Math.min(r,t),e)}},m=function(e){return e%1?Number(e.toFixed(5)):e},h=/(-)?(\d[\d\.]*)/g,b=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,y=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))$/i,_={test:function(e){return"number"==typeof e},parse:parseFloat,transform:function(e){return e}},v=d(d({},_),{transform:f(0,1)}),g=d(d({},_),{default:1}),w=function(e){return{test:function(t){return"string"==typeof t&&t.endsWith(e)&&1===t.split(" ").length},parse:parseFloat,transform:function(t){return""+t+e}}},O=w("deg"),j=w("%"),S=w("px"),k=w("vh"),x=w("vw"),E=d(d({},j),{parse:function(e){return j.parse(e)/100},transform:function(e){return j.transform(100*e)}}),P=f(0,255),C=function(e){return void 0!==e.red},D=function(e){return void 0!==e.hue},T=function(e){return function(t){if("string"!=typeof t)return t;for(var r,n={},o=(r=t,r.substring(r.indexOf("(")+1,r.lastIndexOf(")"))).split(/,\s*/),i=0;i<4;i++)n[e[i]]=void 0!==o[i]?parseFloat(o[i]):1;return n}},M=d(d({},_),{transform:function(e){return Math.round(P(e))}});function A(e,t){return e.startsWith(t)&&y.test(e)}var R={test:function(e){return"string"==typeof e?A(e,"rgb"):C(e)},parse:T(["red","green","blue","alpha"]),transform:function(e){var t=e.red,r=e.green,n=e.blue,o=e.alpha,i=void 0===o?1:o;return function(e){var t=e.red,r=e.green,n=e.blue,o=e.alpha;return"rgba("+t+", "+r+", "+n+", "+(void 0===o?1:o)+")"}({red:M.transform(t),green:M.transform(r),blue:M.transform(n),alpha:m(v.transform(i))})}},N={test:function(e){return"string"==typeof e?A(e,"hsl"):D(e)},parse:T(["hue","saturation","lightness","alpha"]),transform:function(e){var t=e.hue,r=e.saturation,n=e.lightness,o=e.alpha,i=void 0===o?1:o;return function(e){var t=e.hue,r=e.saturation,n=e.lightness,o=e.alpha;return"hsla("+t+", "+r+", "+n+", "+(void 0===o?1:o)+")"}({hue:Math.round(t),saturation:j.transform(m(r)),lightness:j.transform(m(n)),alpha:m(v.transform(i))})}},I=d(d({},R),{test:function(e){return"string"==typeof e&&A(e,"#")},parse:function(e){var t="",r="",n="";return e.length>4?(t=e.substr(1,2),r=e.substr(3,2),n=e.substr(5,2)):(t=e.substr(1,1),r=e.substr(2,1),n=e.substr(3,1),t+=t,r+=r,n+=n),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:1}}}),z={test:function(e){return"string"==typeof e&&y.test(e)||C(e)||D(e)},parse:function(e){return R.test(e)?R.parse(e):N.test(e)?N.parse(e):I.test(e)?I.parse(e):e},transform:function(e){return C(e)?R.transform(e):D(e)?N.transform(e):e}},L=function(e){return"number"==typeof e?0:e},U={test:function(e){if("string"!=typeof e||!isNaN(e))return!1;var t=0,r=e.match(h),n=e.match(b);return r&&(t+=r.length),n&&(t+=n.length),t>0},parse:function(e){var t=e,r=[],n=t.match(b);n&&(t=t.replace(b,"${c}"),r.push.apply(r,n.map(z.parse)));var o=t.match(h);return o&&r.push.apply(r,o.map(_.parse)),r},createTransformer:function(e){var t=e,r=0,n=e.match(b),o=n?n.length:0;if(n)for(var i=0;i<o;i++)t=t.replace(n[i],"${c}"),r++;var a=t.match(h),s=a?a.length:0;if(a)for(i=0;i<s;i++)t=t.replace(a[i],"${n}"),r++;return function(e){for(var n=t,i=0;i<r;i++)n=n.replace(i<o?"${c}":"${n}",i<o?z.transform(e[i]):m(e[i]));return n}},getAnimatableNone:function(e){var t=U.parse(e);return U.createTransformer(e)(t.map(L))}};var q,F=0,H="undefined"!=typeof window&&void 0!==window.requestAnimationFrame?function(e){return window.requestAnimationFrame(e)}:function(e){var t=Date.now(),r=Math.max(0,16.7-(t-F));F=t+r,setTimeout((function(){return e(F)}),r)};!function(e){e.Read="read",e.Update="update",e.Render="render",e.PostRender="postRender",e.FixedUpdate="fixedUpdate"}(q||(q={}));var Y=1/60*1e3,V=!0,B=!1,W=!1,G={delta:0,timestamp:0},X=[q.Read,q.Update,q.Render,q.PostRender],$=function(e){return B=e},Z=X.reduce((function(e,t){var r,n,o,i,a,s,c,l,u,p=(r=$,n=[],o=[],i=0,a=!1,s=0,c=new WeakSet,l=new WeakSet,u={cancel:function(e){var t=o.indexOf(e);c.add(e),-1!==t&&o.splice(t,1)},process:function(e){var t,p;if(a=!0,n=(t=[o,n])[0],(o=t[1]).length=0,i=n.length)for(s=0;s<i;s++)(p=n[s])(e),!0!==l.has(p)||c.has(p)||(u.schedule(p),r(!0));a=!1},schedule:function(e,t,r){void 0===t&&(t=!1),void 0===r&&(r=!1);var s=r&&a,u=s?n:o;c.delete(e),t&&l.add(e),-1===u.indexOf(e)&&(u.push(e),s&&(i=n.length))}});return e.sync[t]=function(e,t,r){return void 0===t&&(t=!1),void 0===r&&(r=!1),B||re(),p.schedule(e,t,r),e},e.cancelSync[t]=function(e){return p.cancel(e)},e.steps[t]=p,e}),{steps:{},sync:{},cancelSync:{}}),J=Z.steps,K=Z.sync,Q=Z.cancelSync,ee=function(e){return J[e].process(G)},te=function(e){B=!1,G.delta=V?Y:Math.max(Math.min(e-G.timestamp,40),1),V||(Y=G.delta),G.timestamp=e,W=!0,X.forEach(ee),W=!1,B&&(V=!1,H(te))},re=function(){B=!0,V=!0,W||H(te)},ne=function(){return G},oe=K,ie=function(e){return function(t){return 1-e(1-t)}},ae=function(e){return function(t){return t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2}},se=ie,ce=function(e){return function(t){return t*t*((e+1)*t-e)}},le=function(e){var t=ce(e);return function(e){return(e*=2)<1?.5*t(e):.5*(2-Math.pow(2,-10*(e-1)))}},ue=function(e){return e},pe=function(e){return function(t){return Math.pow(t,e)}}(2),de=ie(pe),fe=ae(pe),me=function(e){return 1-Math.sin(Math.acos(e))},he=ie(me),be=ae(he),ye=ce(1.525),_e=ie(ye),ve=ae(ye),ge=le(1.525),we="undefined"!=typeof Float32Array,Oe=function(e,t){return 1-3*t+3*e},je=function(e,t){return 3*t-6*e},Se=function(e){return 3*e},ke=function(e,t,r){return 3*Oe(t,r)*e*e+2*je(t,r)*e+Se(t)},xe=function(e,t,r){return((Oe(t,r)*e+je(t,r))*e+Se(t))*e};function Ee(e,t,r,n){var o=we?new Float32Array(11):new Array(11),i=function(t){for(var n,i,a,s=0,c=1;10!==c&&o[c]<=t;++c)s+=.1;return--c,n=(t-o[c])/(o[c+1]-o[c]),(a=ke(i=s+.1*n,e,r))>=.001?function(t,n){for(var o=0,i=0;o<8;++o){if(0===(i=ke(n,e,r)))return n;n-=(xe(n,e,r)-t)/i}return n}(t,i):0===a?i:function(t,n,o){var i,a,s=0;do{(i=xe(a=n+(o-n)/2,e,r)-t)>0?o=a:n=a}while(Math.abs(i)>1e-7&&++s<10);return a}(t,s,s+.1)};!function(){for(var t=0;t<11;++t)o[t]=xe(.1*t,e,r)}();return function(o){return e===t&&r===n?o:0===o?0:1===o?1:xe(i(o),t,n)}}var Pe={x:0,y:0,z:0},Ce=function(e){return"number"==typeof e},De=function(e){return 180*e/Math.PI},Te=function(e,t){return void 0===t&&(t=Pe),De(Math.atan2(t.y-e.y,t.x-e.x))},Me=function(e,t){var r=!0;return void 0===t&&(t=e,r=!1),function(n){return r?n-e+t:(e=n,r=!0,t)}},Ae=function(e){return function(t,r,n){return void 0!==n?e(t,r,n):function(n){return e(t,r,n)}}},Re=Ae((function(e,t,r){return Math.min(Math.max(r,e),t)})),Ne=function(e){return e.hasOwnProperty("x")&&e.hasOwnProperty("y")},Ie=function(e){return Ne(e)&&e.hasOwnProperty("z")},ze=function(e,t){return Math.abs(e-t)},Le=function(e,t){if(void 0===t&&(t=Pe),Ce(e)&&Ce(t))return ze(e,t);if(Ne(e)&&Ne(t)){var r=ze(e.x,t.x),n=ze(e.y,t.y),o=Ie(e)&&Ie(t)?ze(e.z,t.z):0;return Math.sqrt(Math.pow(r,2)+Math.pow(n,2)+Math.pow(o,2))}return 0},Ue=function(e,t,r){var n=t-e;return 0===n?1:(r-e)/n},qe=function(e,t,r){return-r*e+r*t+e},Fe=function(){return(Fe=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},He=function(e,t,r){var n=e*e,o=t*t;return Math.sqrt(Math.max(0,r*(o-n)+n))},Ye=[I,R,N],Ve=function(e){return Ye.find((function(t){return t.test(e)}))},Be=function(e){return"'"+e+"' is not an animatable color. Use the equivalent color code instead."},We=function(e,t){var r=Ve(e),n=Ve(t);Be(e),Be(t),r.transform,n.transform;var o=r.parse(e),i=n.parse(t),a=Fe({},o),s=r===N?qe:He;return function(e){for(var t in a)"alpha"!==t&&(a[t]=s(o[t],i[t],e));return a.alpha=qe(o.alpha,i.alpha,e),r.transform(a)}},Ge=function(e,t){return function(r){return t(e(r))}},Xe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.reduce(Ge)};function $e(e,t){return Ce(e)?function(r){return qe(e,t,r)}:z.test(e)?We(e,t):Qe(e,t)}var Ze=function(e,t){var r=e.slice(),n=r.length,o=e.map((function(e,r){return $e(e,t[r])}));return function(e){for(var t=0;t<n;t++)r[t]=o[t](e);return r}},Je=function(e,t){var r=Fe({},e,t),n={};for(var o in r)void 0!==e[o]&&void 0!==t[o]&&(n[o]=$e(e[o],t[o]));return function(e){for(var t in n)r[t]=n[t](e);return r}};function Ke(e){for(var t=U.parse(e),r=t.length,n=0,o=0,i=0,a=0;a<r;a++)n||"number"==typeof t[a]?n++:void 0!==t[a].hue?i++:o++;return{parsed:t,numNumbers:n,numRGB:o,numHSL:i}}var Qe=function(e,t){var r=U.createTransformer(t),n=Ke(e),o=Ke(t);return n.numHSL===o.numHSL&&n.numRGB===o.numRGB&&(n.numNumbers,o.numNumbers),Xe(Ze(n.parsed,o.parsed),r)},et=function(e,t){return function(r){return qe(e,t,r)}};function tt(e,t,r){for(var n,o=[],i=r||("number"==typeof(n=e[0])?et:"string"==typeof n?z.test(n)?We:Qe:Array.isArray(n)?Ze:"object"==typeof n?Je:void 0),a=e.length-1,s=0;s<a;s++){var c=i(e[s],e[s+1]);if(t){var l=Array.isArray(t)?t[s]:t;c=Xe(l,c)}o.push(c)}return o}var rt,nt=function(e,t,r,n){return void 0===n&&(n=0),o=e+r*(t-e)/Math.max(n,r),void 0===i&&(i=2),i=Math.pow(10,i),Math.round(o*i)/i;var o,i},ot=function(e){return e},it=function(e){return void 0===e&&(e=ot),Ae((function(t,r,n){var o=r-n,i=-(0-t+1)*(0-e(Math.abs(o)));return o<=0?r+i:r-i}))},at=it(),st=it(Math.sqrt),ct=function(e,t){return Ce(e)?e/(1e3/t):0},lt=function(e,t){return t?e*(1e3/t):0},ut=Ae((function(e,t,r){var n=t-e;return((r-e)%n+n)%n+e})),pt=(Re(0,1),function(e){var t=e.onRead,r=e.onRender,n=e.uncachedValues,o=void 0===n?new Set:n,i=e.useCache,a=void 0===i||i;return function(e){void 0===e&&(e={});var n=u(e,[]),i={},s=[],c=!1;function l(e,t){e.startsWith("--")&&(n.hasCSSVariable=!0);var r=i[e];i[e]=t,i[e]!==r&&(-1===s.indexOf(e)&&s.push(e),c||(c=!0,oe.render(p.render)))}var p={get:function(e,r){return void 0===r&&(r=!1),!r&&a&&!o.has(e)&&void 0!==i[e]?i[e]:t(e,n)},set:function(e,t){if("string"==typeof e)l(e,t);else for(var r in e)l(r,e[r]);return this},render:function(e){return void 0===e&&(e=!1),(c||!0===e)&&(r(i,n,s),c=!1,s.length=0),this}};return p}}),dt=/([a-z])([A-Z])/g,ft=function(e){return e.replace(dt,"$1-$2").toLowerCase()},mt=new Map,ht=new Map,bt=["Webkit","Moz","O","ms",""],yt=bt.length,_t="undefined"!=typeof document,vt=function(e,t){return ht.set(e,ft(t))},gt=function(e,t){void 0===t&&(t=!1);var r=t?ht:mt;return r.has(e)||(_t?function(e){rt=rt||document.createElement("div");for(var t=0;t<yt;t++){var r=bt[t],n=""===r,o=n?e:r+e.charAt(0).toUpperCase()+e.slice(1);if(o in rt.style||n){if(n&&"clipPath"===e&&ht.has(e))return;mt.set(e,o),vt(e,(n?"":"-")+ft(o))}}}(e):function(e){vt(e,e)}(e)),r.get(e)||e},wt=["","X","Y","Z"],Ot=["translate","scale","rotate","skew","transformPerspective"].reduce((function(e,t){return wt.reduce((function(e,r){return e.push(t+r),e}),e)}),["x","y","z"]),jt=Ot.reduce((function(e,t){return e[t]=!0,e}),{});function St(e){return!0===jt[e]}function kt(e,t){return Ot.indexOf(e)-Ot.indexOf(t)}var xt=new Set(["originX","originY","originZ"]);function Et(e){return xt.has(e)}var Pt=l(l({},_),{transform:Math.round}),Ct={color:z,backgroundColor:z,outlineColor:z,fill:z,stroke:z,borderColor:z,borderTopColor:z,borderRightColor:z,borderBottomColor:z,borderLeftColor:z,borderWidth:S,borderTopWidth:S,borderRightWidth:S,borderBottomWidth:S,borderLeftWidth:S,borderRadius:S,radius:S,borderTopLeftRadius:S,borderTopRightRadius:S,borderBottomRightRadius:S,borderBottomLeftRadius:S,width:S,maxWidth:S,height:S,maxHeight:S,size:S,top:S,right:S,bottom:S,left:S,padding:S,paddingTop:S,paddingRight:S,paddingBottom:S,paddingLeft:S,margin:S,marginTop:S,marginRight:S,marginBottom:S,marginLeft:S,rotate:O,rotateX:O,rotateY:O,rotateZ:O,scale:g,scaleX:g,scaleY:g,scaleZ:g,skew:O,skewX:O,skewY:O,distance:S,translateX:S,translateY:S,translateZ:S,x:S,y:S,z:S,perspective:S,opacity:v,originX:E,originY:E,originZ:S,zIndex:Pt,fillOpacity:v,strokeOpacity:v,numOctaves:Pt},Dt=function(e){return Ct[e]},Tt=function(e,t){return t&&"number"==typeof e?t.transform(e):e},Mt=new Set(["scrollLeft","scrollTop"]),At=new Set(["scrollLeft","scrollTop","transform"]),Rt={x:"translateX",y:"translateY",z:"translateZ"};function Nt(e){return"function"==typeof e}function It(e,t,r,n,o,i,a,s){void 0===t&&(t=!0),void 0===r&&(r={}),void 0===n&&(n={}),void 0===o&&(o={}),void 0===i&&(i=[]),void 0===a&&(a=!1),void 0===s&&(s=!0);var c=!0,l=!1,u=!1;for(var p in e){var d=e[p],f=Dt(p),m=Tt(d,f);St(p)?(l=!0,n[p]=m,i.push(p),c&&(f.default&&d!==f.default||!f.default&&0!==d)&&(c=!1)):Et(p)?(o[p]=m,u=!0):At.has(p)&&Nt(m)||(r[gt(p,a)]=m)}return(l||"function"==typeof e.transform)&&(r.transform=function(e,t,r,n,o,i){void 0===i&&(i=!0);var a="",s=!1;r.sort(kt);for(var c=r.length,l=0;l<c;l++){var u=r[l];a+=(Rt[u]||u)+"("+t[u]+") ",s="z"===u||s}return!s&&o?a+="translateZ(0)":a=a.trim(),Nt(e.transform)?a=e.transform(t,n?"":a):i&&n&&(a="none"),a}(e,n,i,c,t,s)),u&&(r.transformOrigin=(o.originX||"50%")+" "+(o.originY||"50%")+" "+(o.originZ||0)),r}function zt(e){var t=void 0===e?{}:e,r=t.enableHardwareAcceleration,n=void 0===r||r,o=t.isDashCase,i=void 0===o||o,a=t.allowTransformNone,s=void 0===a||a,c={},l={},u={},p=[];return function(e){return p.length=0,It(e,n,c,l,u,p,i,s),c}}var Lt=pt({onRead:function(e,t){var r=t.element,n=t.preparseOutput,o=Dt(e);if(St(e))return o&&o.default||0;if(Mt.has(e))return r[e];var i=window.getComputedStyle(r,null).getPropertyValue(gt(e,!0))||0;return n&&o&&o.test(i)&&o.parse?o.parse(i):i},onRender:function(e,t,r){var n=t.element,o=t.buildStyles,i=t.hasCSSVariable;if(Object.assign(n.style,o(e)),i)for(var a=r.length,s=0;s<a;s++){var c=r[s];c.startsWith("--")&&n.style.setProperty(c,e[c])}-1!==r.indexOf("scrollLeft")&&(n.scrollLeft=e.scrollLeft),-1!==r.indexOf("scrollTop")&&(n.scrollTop=e.scrollTop)},uncachedValues:Mt});var Ut=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues"]),qt=function(e,t){return S.transform(e*t)},Ft={x:0,y:0,width:0,height:0};function Ht(e,t,r){return"string"==typeof e?e:S.transform(t+r*e)}var Yt={enableHardwareAcceleration:!1,isDashCase:!1};function Vt(e,t,r,n,o,i){void 0===t&&(t=Ft),void 0===n&&(n=zt(Yt)),void 0===o&&(o={style:{}}),void 0===i&&(i=!0);var a=e.attrX,s=e.attrY,c=e.originX,l=e.originY,p=e.pathLength,d=e.pathSpacing,f=void 0===d?1:d,m=e.pathOffset,h=void 0===m?0:m,b=n(u(e,["attrX","attrY","originX","originY","pathLength","pathSpacing","pathOffset"]));for(var y in b){if("transform"===y)o.style.transform=b[y];else o[i&&!Ut.has(y)?ft(y):y]=b[y]}return(void 0!==c||void 0!==l||b.transform)&&(o.style.transformOrigin=function(e,t,r){return Ht(t,e.x,e.width)+" "+Ht(r,e.y,e.height)}(t,void 0!==c?c:.5,void 0!==l?l:.5)),void 0!==a&&(o.x=a),void 0!==s&&(o.y=s),void 0!==r&&void 0!==p&&(o[i?"stroke-dashoffset":"strokeDashoffset"]=qt(-h,r),o[i?"stroke-dasharray":"strokeDasharray"]=qt(p,r)+" "+qt(f,r)),o}function Bt(e,t,r){void 0===r&&(r=!0);var n={style:{}},o=zt(Yt);return function(i){return Vt(i,e,t,o,n,r)}}var Wt=pt({onRead:function(e,t){var r=t.element;if(St(e=Ut.has(e)?e:ft(e))){var n=Dt(e);return n&&n.default||0}return r.getAttribute(e)},onRender:function(e,t){var r=t.element,n=(0,t.buildAttrs)(e);for(var o in n)"style"===o?Object.assign(r.style,n.style):r.setAttribute(o,n[o])}}),Gt=pt({useCache:!1,onRead:function(e){return"scrollTop"===e?window.pageYOffset:window.pageXOffset},onRender:function(e){var t=e.scrollTop,r=void 0===t?0:t,n=e.scrollLeft,o=void 0===n?0:n;return window.scrollTo(o,r)}}),Xt=new WeakMap,$t=function(e,t){var r,n,o,i;return e===window?r=Gt(e):!function(e){return e instanceof HTMLElement||"function"==typeof e.click}(e)?function(e){return e instanceof SVGElement||"ownerSVGElement"in e}(e)&&(o=function(e){try{return function(e){return"function"==typeof e.getBBox?e.getBBox():e.getBoundingClientRect()}(e)}catch(e){return{x:0,y:0,width:0,height:0}}}(n=e),i=function(e){return"path"===e.tagName}(n)&&n.getTotalLength?n.getTotalLength():void 0,r=Wt({element:n,buildAttrs:Bt(o,i)})):r=function(e,t){void 0===t&&(t={});var r=t.enableHardwareAcceleration,n=t.allowTransformNone,o=u(t,["enableHardwareAcceleration","allowTransformNone"]);return Lt(l({element:e,buildStyles:zt({enableHardwareAcceleration:r,allowTransformNone:n}),preparseOutput:!0},o))}(e,t),Xt.set(e,r),r};var Zt=function(e,t){return function(e,t){return Xt.has(e)?Xt.get(e):$t(e,t)}("string"==typeof e?document.querySelector(e):e,t)},Jt=function(){function e(e){void 0===e&&(e={}),this.props=e}return e.prototype.applyMiddleware=function(e){return this.create(l(l({},this.props),{middleware:this.props.middleware?p([e],this.props.middleware):[e]}))},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=1===e.length?e[0]:Xe.apply(void 0,e);return this.applyMiddleware((function(e){return function(t){return e(r(t))}}))},e.prototype.while=function(e){return this.applyMiddleware((function(t,r){return function(n){return e(n)?t(n):r()}}))},e.prototype.filter=function(e){return this.applyMiddleware((function(t){return function(r){return e(r)&&t(r)}}))},e}(),Kt=function(){return function(e,t){var r=this,n=e.middleware,o=e.onComplete;this.isActive=!0,this.update=function(e){r.observer.update&&r.updateObserver(e)},this.complete=function(){r.observer.complete&&r.isActive&&r.observer.complete(),r.onComplete&&r.onComplete(),r.isActive=!1},this.error=function(e){r.observer.error&&r.isActive&&r.observer.error(e),r.isActive=!1},this.observer=t,this.updateObserver=function(e){return t.update(e)},this.onComplete=o,t.update&&n&&n.length&&n.forEach((function(e){return r.updateObserver=e(r.updateObserver,r.complete)}))}}(),Qt=function(e,t,r){var n=t.middleware;return new Kt({middleware:n,onComplete:r},"function"==typeof e?{update:e}:e)},er=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return c(t,e),t.prototype.create=function(e){return new t(e)},t.prototype.start=function(e){void 0===e&&(e={});var t=!1,r={stop:function(){}},n=this.props,o=n.init,i=u(n,["init"]),a=o(Qt(e,i,(function(){t=!0,r.stop()})));return r=a?l(l({},r),a):r,e.registerParent&&e.registerParent(r),t&&r.stop(),r},t}(Jt),tr=function(e){return new er({init:e})},rr=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.subscribers=[],t}return c(t,e),t.prototype.complete=function(){this.subscribers.forEach((function(e){return e.complete()}))},t.prototype.error=function(e){this.subscribers.forEach((function(t){return t.error(e)}))},t.prototype.update=function(e){for(var t=0;t<this.subscribers.length;t++)this.subscribers[t].update(e)},t.prototype.subscribe=function(e){var t=this,r=Qt(e,this.props);return this.subscribers.push(r),{unsubscribe:function(){var e=t.subscribers.indexOf(r);-1!==e&&t.subscribers.splice(e,1)}}},t.prototype.stop=function(){this.parent&&this.parent.stop()},t.prototype.registerParent=function(e){this.stop(),this.parent=e},t}(Jt),nr=function(e,t){var r=1/(e-1),n=1/(2*(e-1)),o=Math.min(t,1)/n;return Math.floor((o+1)/2)*r},or=function(e){function t(t){var r,n,o=e.call(this,t)||this;return o.scheduleVelocityCheck=function(){return oe.postRender(o.velocityCheck)},o.velocityCheck=function(e){e.timestamp!==o.lastUpdated&&(o.prev=o.current)},o.prev=o.current=t.value||0,r=o.current,"string"===(n=typeof r)||"number"===n?(o.updateCurrent=function(e){return o.current=e},o.getVelocityOfCurrent=function(){return o.getSingleVelocity(o.current,o.prev)}):!function(e){return Array.isArray(e)}(o.current)?(o.updateCurrent=function(e){for(var t in o.current={},e)e.hasOwnProperty(t)&&(o.current[t]=e[t])},o.getVelocityOfCurrent=function(){return o.getMapVelocity()}):(o.updateCurrent=function(e){return o.current=p(e)},o.getVelocityOfCurrent=function(){return o.getListVelocity()}),t.initialSubscription&&o.subscribe(t.initialSubscription),o}return c(t,e),t.prototype.create=function(e){return new t(e)},t.prototype.get=function(){return this.current},t.prototype.getVelocity=function(){return this.getVelocityOfCurrent()},t.prototype.update=function(t){e.prototype.update.call(this,t),this.prev=this.current,this.updateCurrent(t);var r=ne(),n=r.delta,o=r.timestamp;this.timeDelta=n,this.lastUpdated=o,oe.postRender(this.scheduleVelocityCheck)},t.prototype.subscribe=function(t){var r=e.prototype.subscribe.call(this,t);return this.subscribers[this.subscribers.length-1].update(this.current),r},t.prototype.getSingleVelocity=function(e,t){return"number"==typeof e&&"number"==typeof t?lt(e-t,this.timeDelta):lt(parseFloat(e)-parseFloat(t),this.timeDelta)||0},t.prototype.getListVelocity=function(){var e=this;return this.current.map((function(t,r){return e.getSingleVelocity(t,e.prev[r])}))},t.prototype.getMapVelocity=function(){var e={};for(var t in this.current)this.current.hasOwnProperty(t)&&(e[t]=this.getSingleVelocity(this.current[t],this.prev[t]));return e},t}(rr),ir=function(e,t){return new or({value:e,initialSubscription:t})},ar=function(e){var t=e.getCount,r=e.getFirst,n=e.getOutput,o=e.mapApi,i=e.setProp,a=e.startActions;return function(e){return tr((function(s){var c=s.update,l=s.complete,u=s.error,p=t(e),d=n(),f=function(){return c(d)},m=0,h=a(e,(function(e,t){var r=!1;return e.start({complete:function(){r||(r=!0,++m===p&&oe.update(l))},error:u,update:function(e){i(d,t,e),oe.update(f,!1,!0)}})}));return Object.keys(r(h)).reduce((function(e,t){return e[t]=o(h,t),e}),{})}))}},sr=ar({getOutput:function(){return{}},getCount:function(e){return Object.keys(e).length},getFirst:function(e){return e[Object.keys(e)[0]]},mapApi:function(e,t){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return Object.keys(e).reduce((function(n,o){var i;return e[o][t]&&(r[0]&&void 0!==r[0][o]?n[o]=e[o][t](r[0][o]):n[o]=(i=e[o])[t].apply(i,r)),n}),{})}},setProp:function(e,t,r){return e[t]=r},startActions:function(e,t){return Object.keys(e).reduce((function(r,n){return r[n]=t(e[n],n),r}),{})}}),cr=ar({getOutput:function(){return[]},getCount:function(e){return e.length},getFirst:function(e){return e[0]},mapApi:function(e,t){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return e.map((function(e,n){if(e[t])return Array.isArray(r[0])?e[t](r[0][n]):e[t].apply(e,r)}))}},setProp:function(e,t,r){return e[t]=r},startActions:function(e,t){return e.map((function(e,r){return t(e,r)}))}}),lr=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return cr(e)},ur=[S,j,O,k,x],pr=function(e){return ur.find((function(t){return t.test(e)}))},dr=function(e,t){return e(t)},fr=function(e,t,r){var n=r[0],o=t[n].map((function(n,o){var i=r.reduce(function(e){return function(t,r){return t[r]=t[r][e],t}}(o),l({},t));return gr(n)(e,i)}));return lr.apply(void 0,o)},mr=function(e,t,r){var n=r[0],o=Object.keys(t[n]).reduce((function(o,i){var a=r.reduce(function(e){return function(t,r){return t[r]=t[r][e],t}}(i),l({},t));return o[i]=gr(t[n][i])(e,a),o}),{});return sr(o)},hr=function(e,t){var r=t.from,n=t.to,o=u(t,["from","to"]),i=pr(r)||pr(n),a=i.transform,s=i.parse;return e(l(l({},o),{from:"string"==typeof r?s(r):r,to:"string"==typeof n?s(n):n})).pipe(a)},br=function(e){return function(t,r){var n=r.from,o=r.to,i=u(r,["from","to"]);return t(l(l({},i),{from:0,to:1})).pipe(e(n,o))}},yr=br(We),_r=br(Qe),vr=function(e,t){var r=function(e){var t=Object.keys(e),r=function(t,r){return void 0!==t&&!e[r](t)};return{getVectorKeys:function(e){return t.reduce((function(t,n){return r(e[n],n)&&t.push(n),t}),[])},testVectorProps:function(e){return e&&t.some((function(t){return r(e[t],t)}))}}}(t),n=r.testVectorProps,o=r.getVectorKeys;return function(t){if(!n(t))return e(t);var r=o(t),i=t[r[0]];return gr(i)(e,t,r)}},gr=function(e){return"number"==typeof e?dr:Array.isArray(e)?fr:function(e){return Boolean(pr(e))}(e)?hr:z.test(e)?yr:U.test(e)?_r:"object"==typeof e?mr:dr},wr=function(e){return void 0===e&&(e={}),tr((function(t){var r=t.complete,n=t.update,o=e.velocity,i=void 0===o?0:o,a=e.from,s=void 0===a?0:a,c=e.power,l=void 0===c?.8:c,u=e.timeConstant,p=void 0===u?350:u,d=e.restDelta,f=void 0===d?.5:d,m=e.modifyTarget,h=0,b=l*i,y=s+b,_=void 0===m?y:m(y);_!==y&&(b=_-s);var v=oe.update((function(e){var t=e.delta;h+=t;var o=-b*Math.exp(-h/p),i=o>f||o<-f;n(i?_+o:_),i||(Q.update(v),r())}),!0);return{stop:function(){return Q.update(v)}}}))},Or=vr(wr,{from:_.test,modifyTarget:function(e){return"function"==typeof e},velocity:_.test}),jr=function(e){return void 0===e&&(e={}),tr((function(t){var r=t.update,n=t.complete,o=e.velocity,i=void 0===o?0:o,a=e.from,s=void 0===a?0:a,c=e.to,l=void 0===c?0:c,u=e.stiffness,p=void 0===u?100:u,d=e.damping,f=void 0===d?10:d,m=e.mass,h=void 0===m?1:m,b=e.restSpeed,y=void 0===b?.01:b,_=e.restDelta,v=void 0===_?.01:_,g=i?-i/1e3:0,w=0,O=l-s,j=s,S=j,k=oe.update((function(e){var t=e.delta;w+=t;var o=f/(2*Math.sqrt(p*h)),a=Math.sqrt(p/h)/1e3;if(S=j,o<1){var s=Math.exp(-o*a*w),c=a*Math.sqrt(1-o*o);j=l-s*((g+o*a*O)/c*Math.sin(c*w)+O*Math.cos(c*w))}else{s=Math.exp(-a*w);j=l-s*(O+(g+a*O)*w)}i=lt(j-S,t);var u=Math.abs(i)<=y,d=Math.abs(l-j)<=v;u&&d?(r(j=l),Q.update(k),n()):r(j)}),!0);return{stop:function(){return Q.update(k)}}}))},Sr=vr(jr,{from:_.test,to:_.test,stiffness:_.test,damping:_.test,mass:_.test,velocity:_.test}),kr=vr((function(e){var t=e.from,r=void 0===t?0:t,n=e.to,o=void 0===n?1:n,i=e.ease,a=void 0===i?ue:i,s=e.reverseEase;return void 0!==s&&s&&(a=se(a)),tr((function(e){var t=e.update;return{seek:function(e){return t(e)}}})).pipe(a,(function(e){return qe(r,o,e)}))}),{ease:function(e){return"function"==typeof e},from:_.test,to:_.test}),xr=Re(0,1),Er=function(e){return void 0===e&&(e={}),tr((function(t){var r,n=t.update,o=t.complete,i=e.duration,a=void 0===i?300:i,s=e.ease,c=void 0===s?de:s,l=e.flip,u=void 0===l?0:l,p=e.loop,d=void 0===p?0:p,f=e.yoyo,m=void 0===f?0:f,h=e.repeatDelay,b=void 0===h?0:h,y=e.from,_=void 0===y?0:y,v=e.to,g=void 0===v?1:v,w=e.elapsed,O=void 0===w?0:w,j=e.flipCount,S=void 0===j?0:j,k=e.yoyoCount,x=void 0===k?0:k,E=e.loopCount,P=void 0===E?0:E,C=kr({from:_,to:g,ease:c}).start(n),D=0,T=!1,M=function(e){var t;void 0===e&&(e=!1),C=kr({from:_=(t=[g,_])[0],to:g=t[1],ease:c,reverseEase:e}).start(n)},A=function(){D=xr(Ue(0,a,O)),C.seek(D)},R=function(){T=!0,r=oe.update((function(e){var t,n=e.delta;O+=n,A(),!(t=T&&O>a+b)||(!t||d||u||m)&&(O=a-(O-b),d&&P<d?(P++,1):u&&S<u?(S++,M(),1):m&&x<m&&(x++,M(x%2!=0),1))||(Q.update(r),o&&oe.update(o,!1,!0))}),!0)},N=function(){T=!1,r&&Q.update(r)};return R(),{isActive:function(){return T},getElapsed:function(){return Re(0,a,O)},getProgress:function(){return D},stop:function(){N()},pause:function(){return N(),this},resume:function(){return T||R(),this},seek:function(e){return O=qe(0,a,e),oe.update(A,!1,!0),this},reverse:function(){return M(),this}}}))},Pr=Re(0,1),Cr=function(e){var t=e.easings,r=e.ease,n=void 0===r?ue:r,o=e.times,i=e.values,a=u(e,["easings","ease","times","values"]);t=Array.isArray(t)?t:function(e,t){return e.map((function(){return t||de})).splice(0,e.length-1)}(i,t),o=o||function(e){var t=e.length;return e.map((function(e,r){return 0!==r?r/(t-1):0}))}(i);var s=t.map((function(e,t){return kr({from:i[t],to:i[t+1],ease:e})}));return Er(l(l({},a),{ease:n})).applyMiddleware((function(e){return function(e,t,r){var n=e.length,o=n-1,i=o-1,a=t.map((function(e){return e.start(r)}));return function(t){t<=e[0]&&a[0].seek(0),t>=e[o]&&a[i].seek(1);for(var r=1;r<n&&!(e[r]>t||r===o);r++);var s=Ue(e[r-1],e[r],t);a[r-1].seek(Pr(s))}}(o,s,e)}))},Dr=vr((function(e){return void 0===e&&(e={}),tr((function(t){var r=t.complete,n=t.update,o=e.acceleration,i=void 0===o?0:o,a=e.friction,s=void 0===a?0:a,c=e.velocity,l=void 0===c?0:c,u=e.springStrength,p=e.to,d=e.restSpeed,f=void 0===d?.001:d,m=e.from,h=void 0===m?0:m,b=oe.update((function(e){var t=e.delta,o=Math.max(t,16);(i&&(l+=ct(i,o)),s&&(l*=Math.pow(1-s,o/100)),void 0!==u&&void 0!==p)&&(l+=(p-h)*ct(u,o));h+=ct(l,o),n(h),!1!==f&&(!l||Math.abs(l)<=f)&&(Q.update(b),r())}),!0);return{set:function(e){return h=e,this},setAcceleration:function(e){return i=e,this},setFriction:function(e){return s=e,this},setSpringStrength:function(e){return u=e,this},setSpringTarget:function(e){return p=e,this},setVelocity:function(e){return l=e,this},stop:function(){return Q.update(b)}}}))}),{acceleration:_.test,friction:_.test,velocity:_.test,from:_.test,to:_.test,springStrength:_.test}),Tr=function(e,t,r){return tr((function(n){var o=n.update,i=t.split(" ").map((function(t){return e.addEventListener(t,o,r),t}));return{stop:function(){return i.forEach((function(t){return e.removeEventListener(t,o,r)}))}}}))},Mr=function(){return{clientX:0,clientY:0,pageX:0,pageY:0,x:0,y:0}},Ar=function(e,t){return void 0===t&&(t={clientX:0,clientY:0,pageX:0,pageY:0,x:0,y:0}),t.clientX=t.x=e.clientX,t.clientY=t.y=e.clientY,t.pageX=e.pageX,t.pageY=e.pageY,t},Rr=[Mr()],Nr=!1;if("undefined"!=typeof document){Tr(document,"touchstart touchmove",{passive:!0,capture:!0}).start((function(e){var t=e.touches;Nr=!0;var r=t.length;Rr.length=0;for(var n=0;n<r;n++){var o=t[n];Rr.push(Ar(o))}}))}var Ir=Mr(),zr=!1;if("undefined"!=typeof document){Tr(document,"mousedown mousemove",!0).start((function(e){zr=!0,Ar(e,Ir)}))}var Lr,Ur=function(e){return e[0]},qr=function(e){return void 0===e&&(e={}),Nr?(t=e,r=void 0===t?{}:t,n=r.preventDefault,o=void 0===n||n,i=r.scale,a=void 0===i?1:i,s=r.rotate,c=void 0===s?0:s,tr((function(e){var t=e.update,r={touches:Rr,scale:a,rotate:c},n=0,i=0,s=Rr.length>1;if(s){var l=Rr[0],u=Rr[1];n=Le(l,u),i=Te(l,u)}var p=function(){if(s){var e=Rr[0],o=Rr[1],l=Le(e,o),u=Te(e,o);r.scale=a*(l/n),r.rotate=c+(u-i)}t(r)},d=Tr(document,"touchmove",{passive:!o}).start((function(e){(o||e.touches.length>1)&&e.preventDefault(),oe.update(p)}));return Nr&&oe.update(p),{stop:function(){Q.update(p),d.stop()}}}))).pipe((function(e){return e.touches}),Ur):function(e){var t=(void 0===e?{}:e).preventDefault,r=void 0===t||t;return tr((function(e){var t=e.update,n=function(){return t(Ir)},o=Tr(document,"mousemove").start((function(e){r&&e.preventDefault(),oe.update(n)}));return zr&&oe.update(n),{stop:function(){Q.update(n),o.stop()}}}))}(e);var t,r,n,o,i,a,s,c},Fr=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return tr((function(t){var r,n=t.update,o=t.complete,i=0,a=function(){r=e[i].start({complete:function(){++i>=e.length?o():a()},update:n})};return a(),{stop:function(){return r&&r.stop()}}}))},Hr=function(e){return tr((function(t){var r=t.complete,n=setTimeout(r,e);return{stop:function(){return clearTimeout(n)}}}))},Yr=Object.freeze({__proto__:null,applyOffset:Me,clamp:Re,conditional:function(e,t){return function(r){return e(r)?t(r):r}},interpolate:function(e,t,r){var n=void 0===r?{}:r,o=n.clamp,i=void 0===o||o,a=n.ease,s=n.mixer,c=e.length;t.length,!a||!Array.isArray(a)||a.length,e[0]>e[c-1]&&(e=[].concat(e),t=[].concat(t),e.reverse(),t.reverse());var l=tt(t,a,s),u=2===c?function(e,t){var r=e[0],n=e[1],o=t[0];return function(e){return o(Ue(r,n,e))}}(e,l):function(e,t){var r=e.length,n=r-1;return function(o){var i=0,a=!1;if(o<=e[0]?a=!0:o>=e[n]&&(i=n-1,a=!0),!a){for(var s=1;s<r&&!(e[s]>o||s===n);s++);i=s-1}var c=Ue(e[i],e[i+1],o);return t[i](c)}}(e,l);return i?Xe(Re(e[0],e[c-1]),u):u},blendArray:Ze,blendColor:We,pipe:Xe,smooth:function(e){void 0===e&&(e=50);var t=0,r=0;return function(n){var o=ne().timestamp,i=o!==r?o-r:0,a=i?nt(t,n,i,e):t;return r=o,t=a,a}},snap:function(e){if("number"==typeof e)return function(t){return Math.round(t/e)*e};var t=0,r=e.length;return function(n){var o=Math.abs(e[0]-n);for(t=1;t<r;t++){var i=e[t],a=Math.abs(i-n);if(0===a)return i;if(a>o)return e[t-1];if(t===r-1)return i;o=a}}},generateStaticSpring:it,nonlinearSpring:st,linearSpring:at,wrap:ut,appendUnit:function(e){return function(t){return""+t+e}},steps:function(e,t,r){return void 0===t&&(t=0),void 0===r&&(r=1),function(n){var o=Ue(t,r,n);return qe(t,r,nr(e,o))}},transformMap:function(e){return function(t){var r=l({},t);for(var n in e)if(e.hasOwnProperty(n)){var o=e[n];r[n]=o(t[n])}return r}}}),Vr=function(e){e.transition,e.flip,e.delay,e.delayChildren,e.staggerChildren,e.staggerDirection,e.afterChildren,e.beforeChildren,e.preTransition,e.applyAtStart,e.applyAtEnd;return u(e,["transition","flip","delay","delayChildren","staggerChildren","staggerDirection","afterChildren","beforeChildren","preTransition","applyAtStart","applyAtEnd"])},Br=function(e,t){return"function"==typeof e?e(t):e},Wr=function(e,t,r,n){return e&&void 0!==e[t]?Br(e[t],n):r},Gr=function(e,t,r,n,o,i){var a;if("function"==typeof e){var s=e(n);a=Gr(s,t,r,n,o,i)}else if(e[t]||e.default){var c=e[t]||e.default;a="function"==typeof c?c(n):c}else a=e;return!1===a?i(r,n):o(r,a,n)},Xr=function(e,t,r,n,o){return Object.keys(e).forEach((function(i){var a=Br(e[i],r);t.has(i)?n(t.get(i),a):o(i,a,r)}))},$r=function(e){var t=e.state,r=e.poses,n=e.startAction,o=e.stopAction,i=e.getInstantTransition,a=e.addActionDelay,s=e.getTransitionProps,c=e.resolveTarget,u=e.transformPose,d=e.posePriority,f=e.convertTransitionDefinition,m=e.setValue,h=e.setValueNative,b=e.forceRender;return function(e,y,_){void 0===y&&(y={}),void 0===_&&(_=!0);var v=t.children,g=t.values,w=t.props,O=t.activeActions,j=t.activePoses,S=y.delay,k=void 0===S?0:S,x=v.size,E=l(l({},w),y),P=r[e],C=function(){return x&&_?function(e,t,r,n){var o=[],i=Wr(r,"delayChildren",0,n),a=Wr(r,"staggerChildren",0,n),s=Wr(r,"staggerDirection",1,n),c=(e.size-1)*a,l=1===s?function(e){return e*a}:function(e){return c-e*a};return Array.from(e).forEach((function(e,r){o.push(e.set(t,{delay:i+l(r)}))})),o}(v,e,P,E):[]},D=function(){if(!P)return[];var r=P.applyAtStart;r&&(Xr(r,g,E,m,h),b&&b(E)),u&&(P=u(P,e,t));var p=P.preTransition,y=P.transition,_=P.applyAtEnd;p&&p(E);var v=Object.keys(Vr(P)).map((function(t){var r=(j.has(t)||j.set(t,[]),j.get(t)),u=r.indexOf(e);-1!==u&&r.splice(u,1);var p=d?d.indexOf(e):0,m=p<=0?0:function(e,t,r){for(var n=0,o=r-1;o>=0;o--){var i=e.indexOf(t[o]);if(-1!==i){n=i+1;break}}return n}(r,d,p);return r.splice(m,0,e),0===m?new Promise((function(e){var r=g.get(t),u=l(l({},E),{key:t,value:r}),p=c(r,Br(P[t],u));O.has(t)&&o(O.get(t));var d=l(l({to:p},u),s(r,p,u)),m=Gr(y,t,r,d,f,i),h=k||Br(P.delay,u);h&&(m=a(h,m)),O.set(t,n(r,m,e))})):Promise.resolve()}));return _?[Promise.all(v).then((function(){Xr(_,g,E,m,h)}))]:v};if(P&&x){if(Br(P.beforeChildren,E))return Promise.all(D()).then((function(){return Promise.all(C())}));if(Br(P.afterChildren,E))return Promise.all(C()).then((function(){return Promise.all(D())}))}return Promise.all(p(D(),C()))}},Zr=function(e){return function(e){return e.includes("scale")}(e)?1:0},Jr=function(e){var t=Array.isArray(e)?e:[e];return t.push("init"),t},Kr=function(e,t,r,n,o,i){void 0===o&&(o=Zr);var a=Jr(r).filter(Boolean).find((function(r){var n=e[r];return n&&(void 0!==n[t]||n.applyAtStart&&void 0!==n.applyAtStart[t]||n.applyAtEnd&&void 0!==n.applyAtEnd[t])}));return i.set(t,[a||"init"]),a?function(e,t,r){var n=e.applyAtEnd&&void 0!==e.applyAtEnd[t]?e.applyAtEnd[t]:void 0!==e[t]?e[t]:e.applyAtStart&&void 0!==e.applyAtStart[t]?e.applyAtStart[t]:0;return Br(n,r)}(e[a],t,n):o(t,n)},Qr=function(e,t){return function(r){var n=t.poses[r];Object.keys(Vr(n)).forEach(function(e,t){var r=t.userSetValues,n=t.createValue,o=t.convertValue,i=t.readValueFromSource,a=t.initialPose,s=t.poses,c=t.activePoses,l=t.props;return function(t){if(!e.has(t)){var u;if(r&&void 0!==r[t])u=o(r[t],t,l);else{var p=Kr(s,t,a,l,i,c);u=n(p,t,l)}e.set(t,u)}}}(e,t))}},en=function(e){var t=e.poses,r=e.passive,n=new Map;return Object.keys(t).forEach(Qr(n,e)),function(e){var t=e.setValueNative,r=e.initialPose,n=e.props,o=e.poses,i=new Set,a=function(e,r){if(e[r])for(var o in e[r])i.has(o)||(i.add(o),t(o,Br(e[r][o],n),n))};Jr(r).forEach((function(e){var t=o[e];t&&(a(t,"applyAtEnd"),a(t,"applyAtStart"))}))}(e),r&&Object.keys(r).forEach(function(e,t){var r=t.passive,n=t.ancestorValues,o=t.createValue,i=t.readValue,a=t.props;return function(t){var s=r[t],c=s[0],l=s[1],u=s[2],p=u&&n.length?function(e,t,r){if(!0===t)return r[0]&&r[0].values.get(e);var n=r.find((function(e){return e.label===t}));return n&&n.values.get(e)}(c,u,n):!!e.has(c)&&e.get(c);if(p){var d=o(i(p),t,a,{passiveParentKey:c,passiveParent:p,passiveProps:l});e.set(t,d)}}}(n,e)),n},tn=function(e,t){return Object.keys(e).forEach((function(r){var n=e[r];e[r]=void 0!==n.transition?n:function(e,t,r){return l(l({},e),{transition:r.has(t)?r.get(t):r.get("default")})}(n,r,t)})),e},rn=function(e){var t=e.getDefaultProps,r=e.defaultTransitions,n=e.bindOnChange,o=e.startAction,i=e.stopAction,a=e.readValue,s=e.readValueFromSource,c=e.resolveTarget,d=e.setValue,f=e.setValueNative,m=e.createValue,h=e.convertValue,b=e.getInstantTransition,y=e.getTransitionProps,_=e.addActionDelay,v=e.selectValueToRead,g=e.convertTransitionDefinition,w=e.transformPose,O=e.posePriority,j=e.forceRender,S=e.extendAPI;return function(e){var k=e.parentValues,x=e.ancestorValues,E=void 0===x?[]:x;k&&E.unshift({values:k});var P=new Map,C=new Map,D=new Set,T=tn(function(e){e.label,e.props,e.values,e.parentValues,e.ancestorValues,e.onChange,e.passive,e.initialPose;return u(e,["label","props","values","parentValues","ancestorValues","onChange","passive","initialPose"])}(e),r),M=e.props,A=void 0===M?{}:M;t&&(A=l(l({},t(e)),A));var R=e.passive,N=e.values,I=e.initialPose,z=void 0===I?"init":I,L=en({poses:T,passive:R,ancestorValues:E,readValue:a,setValueNative:f,createValue:m,convertValue:h,readValueFromSource:s,userSetValues:N,initialPose:z,activePoses:C,props:A}),U={activeActions:P,activePoses:C,children:D,props:A,values:L},q=e.onChange;q&&Object.keys(q).forEach(n(L,q));var F=$r({state:U,poses:T,getInstantTransition:b,getTransitionProps:y,convertTransitionDefinition:g,setValue:d,setValueNative:f,startAction:o,stopAction:i,resolveTarget:c,addActionDelay:_,transformPose:w,posePriority:O,forceRender:j});return S({set:F,unset:function(e,t){var r=[];C.forEach((function(t){var n=t.indexOf(e);if(-1!==n){var o=t[0];t.splice(n,1);var i=t[0];i!==o&&-1===r.indexOf(i)&&r.push(i)}}));var n,o=r.sort((n=O,function(e,t){var r=n.indexOf(e),o=n.indexOf(t);return-1===r&&-1!==o?-1:-1!==r&&-1===o?1:r-o})).map((function(e){return F(e,t,!1)}));return D.forEach((function(t){return o.push(t.unset(e))})),Promise.all(o)},get:function(e){return e?v(L.get(e)):function(e,t){var r={};return e.forEach((function(e,n){return r[n]=t(e)})),r}(L,v)},has:function(e){return!!T[e]},setProps:function(e){return U.props=l(l({},U.props),e)},_addChild:function(t,r){var n=r(l(l({initialPose:z},t),{ancestorValues:p([{label:e.label,values:L}],E)}));return D.add(n),n},removeChild:function(e){return D.delete(e)},clearChildren:function(){D.forEach((function(e){return e.destroy()})),D.clear()},destroy:function(){P.forEach(i),D.forEach((function(e){return e.destroy()}))}},U,e)}},nn=function(){return(nn=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function on(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r}!function(e){e.width="width",e.height="height",e.left="left",e.right="right",e.top="top",e.bottom="bottom"}(Lr||(Lr={}));var an=function(e,t){return"function"==typeof e?e(t):e},sn=Yr.interpolate,cn=function(e){return function(t){var r;return function(e){void 0===e&&(e={});var t=e.x,r=e.y,n=u(e,["x","y"]);if(void 0!==t||void 0!==r){var o=Me(t||0),i=Me(r||0),a={x:0,y:0};return qr(n).pipe((function(e){return a.x=o(e.x),a.y=i(e.y),a}))}return qr(n)}((r={},r[e]="string"==typeof t?parseFloat(t):t,r)).pipe((function(t){return t[e]}))}},ln=cn("x"),un=cn("y"),pn=function(e,t,r,n){return function(o){var i=o.from,a=o.type,s=o.dimensions,c=o.dragBounds,l=e(s.measurementAsPixels(n,i,a)),u=[];if(c){var p=an(c,o);void 0!==p[t]&&u.push((function(e){return Math.max(e,s.measurementAsPixels(n,p[t],a))})),void 0!==p[r]&&u.push((function(e){return Math.min(e,s.measurementAsPixels(n,p[r],a))}))}return a===j&&u.push(sn([0,s.get(n)],[0,100],{clamp:!1}),(function(e){return e+"%"})),u.length?l.pipe.apply(l,u):l}},dn=function(e){return tr((function(t){var r=t.update,n=t.complete;r(e),n()}))},fn=function(e){var t=e.from,r=e.velocity,n=e.to;return Sr({from:t,to:n,velocity:r,stiffness:500,damping:25,restDelta:.5,restSpeed:10})},mn=function(e){var t=e.from,r=e.velocity,n=e.to;return Sr({from:t,to:n,velocity:r,stiffness:700,damping:0===n?100:35})},hn={x:fn,y:fn,z:fn,rotate:fn,rotateX:fn,rotateY:fn,rotateZ:fn,scaleX:mn,scaleY:mn,scale:mn,opacity:function(e){var t=e.from,r=e.to;return Er({from:t,to:r,ease:ue})},default:Er},bn=nn(nn({},hn),{x:pn(ln,"left","right",Lr.width),y:pn(un,"top","bottom",Lr.height)}),yn=function(e){var t=e.from;return dn(t)},_n=new Map([["default",hn],["drag",bn],["dragEnd",nn(nn({},hn),{x:yn,y:yn})]]),vn={tween:Er,spring:Sr,decay:Or,keyframes:Cr,physics:Dr},gn={linear:ue,easeIn:pe,easeOut:de,easeInOut:fe,circIn:me,circOut:he,circInOut:be,backIn:ye,backOut:_e,backInOut:ve,anticipate:ge},wn=[_,O,j,S,x,k,{test:function(e){return"auto"===e},parse:function(e){return e}}],On=function(e){return wn.find(function(e){return function(t){return t.test(e)}}(e))},jn=function(e,t){return void 0===e&&(e=0),Fr(Hr(e),t)},Sn=function(e){var t=e.transformPose,r=e.addListenerToValue,n=e.extendAPI,o=e.readValueFromSource,i=e.posePriority,a=e.setValueNative;return rn({bindOnChange:function(e,t){return function(r){e.has(r)&&e.get(r).raw.subscribe(t[r])}},readValue:function(e){return e.raw.get()},setValue:function(e,t){return e.raw.update(t)},createValue:function(e,t,n,o){var i=n.elementStyler,a=void 0===o?{}:o,s=a.passiveParent,c=a.passiveProps,l=s?function(e,t,r){var n=ir(r(e));return t.raw.subscribe((function(e){return n.update(r(e))})),{raw:n}}(e,s,c):function(e){var t=On(e);return{raw:ir(e),type:t}}(e);return l.raw.subscribe(r(t,i)),l},convertValue:function(e,t,n){var o=n.elementStyler;return e.subscribe(r(t,o)),{raw:e,type:On(e.get())}},getTransitionProps:function(e,t){var r=e.raw,n=e.type;return{from:r.get(),velocity:r.getVelocity(),to:t,type:n}},resolveTarget:function(e,t){return t},selectValueToRead:function(e){return e.raw},startAction:function(e,t,r){var n=e.raw,o={update:function(e){return n.update(e)},complete:r};return t.start(o)},stopAction:function(e){return e.stop()},getInstantTransition:function(e,t){var r=t.to;return dn(r)},convertTransitionDefinition:function(e,t,r){if(function(e){return void 0!==e.start}(t))return t;var n=t.delay,o=t.min,i=t.max,a=t.round,s=function(e,t,r){var n,o=r.from,i=r.to,a=r.velocity,s=t.type,c=void 0===s?"tween":s,l=t.ease,u=on(t,["type","ease"]);if(vn[c],"tween"===c&&"function"!=typeof l)if("string"==typeof l)n=gn[l];else if(Array.isArray(l)&&"number"==typeof l[0]){l.length,n=Ee(l[0],l[1],l[2],l[3])}n=n||l;var p="keyframes"!==c?{from:o,to:i,velocity:a,ease:n}:{ease:n};return vn[c](nn(nn({},p),u))}(0,on(t,["delay","min","max","round"]),r),c=[];return n&&(s=jn(n,s)),void 0!==o&&c.push((function(e){return Math.max(e,o)})),void 0!==i&&c.push((function(e){return Math.min(e,i)})),a&&c.push(Math.round),c.length?s.pipe.apply(s,c):s},setValueNative:a,addActionDelay:jn,defaultTransitions:_n,transformPose:t,readValueFromSource:o,posePriority:i,extendAPI:n})},kn=function(e){var t=!1,r={width:0,height:0,top:0,left:0,bottom:0,right:0};return{get:function(e){return e?r[e]:r},measure:function(){return r=e.getBoundingClientRect(),t=!0,r},measurementAsPixels:function(e,t,n){return n===j?("string"==typeof t?parseFloat(t):t)/100*r[e]:t},has:function(){return t}}},xn=function(e){var t=e.startEvents,r=e.endEvents,n=e.startPose,o=e.endPose,i=e.startCallback,a=e.endCallback,s=e.useDocumentToEnd,c=e.preventScroll;return function(e,l,u,p){var d=n+"Start",f=n+"End",m=n+"Move";if(c){var h=Tr(e,"touchmove",{passive:!1}).start((function(e){e.preventDefault()}));l.set(m,h)}var b=Tr(e,t).start((function(t){u.unset(o),u.set(n),i&&p[i]&&p[i](t);var c=Tr(s?document.documentElement:e,r+(s?" mouseenter":"")).start((function(e){s&&"mouseenter"===e.type&&1===e.buttons||(l.get(f).stop(),u.unset(n),u.set(o),a&&p[a]&&p[a](e))}));l.set(f,c)}));l.set(d,b)}},En={draggable:xn({startEvents:"mousedown touchstart",endEvents:"mouseup touchend",startPose:"drag",endPose:"dragEnd",startCallback:"onDragStart",endCallback:"onDragEnd",useDocumentToEnd:!0,preventScroll:!0}),hoverable:xn({startEvents:"mouseenter",endEvents:"mouseleave",startPose:"hover",endPose:"hoverEnd"}),focusable:xn({startEvents:"focus",endEvents:"blur",startPose:"focus",endPose:"blur"}),pressable:xn({startEvents:"mousedown touchstart",endEvents:"mouseup touchend",startPose:"press",endPose:"pressEnd",startCallback:"onPressStart",endCallback:"onPressEnd",useDocumentToEnd:!0})},Pn=Object.keys(En),Cn=function(e){var t=e.top,r=e.right,n=e.bottom;return{x:(e.left+r)/2,y:(t+n)/2}},Dn=["width","height","top","left","bottom","right"],Tn=new Set(Dn),Mn=function(e){return Tn.has(e)},An=function(e,t,r){var n=e.values,o=e.props;if(n.has(t)){var i=n.get(t).raw;i.update(r),i.update(r)}else n.set(t,{raw:ir(r,(function(e){return o.elementStyler.set(t,e)}))})},Rn=function(e,t){var r=e.props,n=r.dimensions,o=r.element,i=r.elementStyler;if(!n.has())return{};var a=n.get(),s=function(e){var t=e.style.transform;e.style.transform="";var r=e.getBoundingClientRect();return e.style.transform=t,r}(o),c=a.left===s.left?0:a.right===s.right?"100%":"50%",l=a.top===s.top?0:a.bottom===s.bottom?"100%":"50%";i.set({originX:c,originY:l}),a.width!==s.width&&(An(e,"scaleX",a.width/s.width),t.scaleX=1),a.height!==s.height&&(An(e,"scaleY",a.height/s.height),t.scaleY=1);var u=Cn(a),p=Cn(s);return"50%"===c&&(An(e,"x",u.x-p.x),t.x=0),"50%"===l&&(An(e,"y",u.y-p.y),t.y=0),i.render(),t},Nn=function(e,t){return r=t,Object.keys(r).some(Mn)?function(e,t){var r=e.props,n=r.dimensions,o=r.elementStyler;n.measure();t.width,t.height,t.top,t.left,t.bottom,t.right,t.position;var i=on(t,["width","height","top","left","bottom","right","position"]),a=Dn.concat("position").reduce((function(r,n){return void 0!==t[n]&&(r[n]=an(t[n],e.props)),r}),{});return o.set(a).render(),Rn(e,i)}(e,t):Rn(e,t);var r},In=function(e,t){return parseFloat(e.split(", ")[t])},zn=function(e,t){return function(r,n,o){var i=o.transform;if(!i||"none"===i)return 0;var a=i.match(/^matrix3d\((.+)\)$/);return a?In(a[1],t):In(i.match(/^matrix\((.+)\)$/)[1],e)}},Ln={width:function(e,t){return t.width},height:function(e,t){return t.height},top:function(e,t,r){var n=r.top;return parseFloat(n)},left:function(e,t,r){var n=r.left;return parseFloat(n)},bottom:function(e,t,r){var n=t.height,o=r.top;return parseFloat(o)+n},right:function(e,t,r){var n=t.width,o=r.left;return parseFloat(o)+n},x:zn(4,13),y:zn(5,14)},Un=function(e){return void 0!==Ln[e]},qn=function(e){return function(t){return t.elementStyler.get(e)}},Fn=function(e,t){var r=t.onDragStart,n=t.onDragEnd,o=t.onPressStart,i=t.onPressEnd,a=t.draggable,s=t.hoverable,c=t.focusable,l=t.pressable,u=t.dragBounds,p=on(t,["onDragStart","onDragEnd","onPressStart","onPressEnd","draggable","hoverable","focusable","pressable","dragBounds"]),d=nn(nn({flip:{}},p),{props:nn(nn({},p.props),{onDragStart:r,onDragEnd:n,onPressStart:o,onPressEnd:i,dragBounds:u,draggable:a,hoverable:s,focusable:c,pressable:l,element:e,elementStyler:Zt(e,{preparseOutput:!1}),dimensions:kn(e)})});if(a){var f=function(e){var t={preTransition:function(e){return e.dimensions.measure()}},r={};return!0!==e&&"x"!==e||(t.x=r.x=qn("x")),!0!==e&&"y"!==e||(t.y=r.y=qn("y")),{drag:t,dragEnd:r}}(a),m=f.drag,h=f.dragEnd;d.drag=nn(nn({},m),d.drag),d.dragEnd=nn(nn({},h),d.dragEnd)}return d},Hn=Sn({posePriority:["drag","press","focus","hover"],transformPose:function(e,t,r){var n,o=e.flip,i=on(e,["flip"]);return function(e,t,r){return r.props.element instanceof HTMLElement&&(!0===e||"flip"===t)}(o,t,r)?Nn(r,i):(n=i,Object.keys(n).some(Un)?function(e,t){var r=e.values,n=e.props,o=n.element,i=n.elementStyler,a=Object.keys(t).filter(Un),s=[],c=getComputedStyle(o),l=!1;if(a.forEach((function(o){var i=r.get(o),a=On(i.raw.get()),c=an(t[o],n);a!==On(c)&&(s.push(o),l||(l=!0,t.applyAtEnd=t.applyAtEnd?nn({},t.applyAtEnd):{}),t.applyAtEnd[o]=t.applyAtEnd[o]||t[o],An(e,o,c))})),!s.length)return t;var u=o.getBoundingClientRect(),p={top:c.top,left:c.left,bottom:c.bottom,right:c.right,transform:c.transform};i.render();var d=o.getBoundingClientRect();return s.forEach((function(r){An(e,r,Ln[r](o,u,p)),t[r]=Ln[r](o,d,c)})),i.render(),t}(r,i):i)},forceRender:function(e){e.elementStyler.render()},addListenerToValue:function(e,t){return function(r){return t.set(e,r)}},readValueFromSource:function(e,t){var r=t.elementStyler,n=t.dragBounds,o=r.get(e);if(n&&("x"===e||"y"===e)){var i="x"===e?n.left||n.right:n.top||n.bottom;if(i)o=On(i).transform(o)}return isNaN(o)?o:parseFloat(o)},setValueNative:function(e,t,r){return r.elementStyler.set(e,t)},extendAPI:function(e,t,r){var n=t.props,o=t.activeActions,i=n.dimensions.measure,a=nn(nn({},e),{addChild:function(t,r){return e._addChild(Fn(t,r),Hn)},measure:i,flip:function(t){return t&&(i(),t()),e.set("flip")}});return n.elementStyler.render(),function(e,t,r,n){var o=n.props;Pn.forEach((function(n){o[n]&&En[n](e,t,r,o)}))}(n.element,o,a,r),a}}),Yn=function(e,t){return Hn(Fn(e,t))};var Vn=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|default|defer|dir|disabled|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|itemProp|itemScope|itemType|itemID|itemRef|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Bn=function(e){var t={};return function(r){return void 0===t[r]&&(t[r]=e(r)),t[r]}}((function(e){return Vn.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),Wn=Object(i.createContext)({}),Gn=Wn.Consumer,Xn=Wn.Provider,$n=function(e,t){return Array.isArray(e)?-1!==e.indexOf(t):e===t},Zn=function(){return!0},Jn=function(e){e.elementType,e.poseConfig,e.onValueChange,e.innerRef,e._pose,e.pose,e.initialPose,e.poseKey,e.onPoseComplete,e.getParentPoseConfig,e.registerChild,e.onUnmount,e.getInitialPoseFromParent,e.popFromFlow,e.values,e.parentValues,e.onDragStart,e.onDragEnd,e.onPressStart,e.onPressEnd;return u(e,["elementType","poseConfig","onValueChange","innerRef","_pose","pose","initialPose","poseKey","onPoseComplete","getParentPoseConfig","registerChild","onUnmount","getInitialPoseFromParent","popFromFlow","values","parentValues","onDragStart","onDragEnd","onPressStart","onPressEnd"])},Kn=function(e){function t(t){var r=e.call(this,t)||this;r.children=new Set,r.childrenHandlers={registerChild:function(e){r.children.add(e),r.poser&&r.flushChildren()},onUnmount:function(e){return r.poser.removeChild(e)},getParentPoseConfig:function(){return r.poseConfig},getInitialPoseFromParent:function(){return r.getInitialPose()}},r.setRef=function(e){null===e||e instanceof Element&&r.ref,r.ref=e;var t=r.props.innerRef;t&&("function"==typeof t?t(e):t.current=e)},r.shouldForwardProp="string"==typeof r.props.elementType?Bn:Zn;var n=r.props.poseConfig;return r.poseConfig="function"==typeof n?n(Jn(t)):n,r}return c(t,e),t.prototype.getInitialPose=function(){var e=this.props,t=e.getInitialPoseFromParent,r=e.pose,n=e._pose,o=e.initialPose;if(o)return o;var i=t&&t(),a=(Array.isArray(i)?i:[i]).concat(r,n).filter(Boolean);return a.length>0?a:void 0},t.prototype.getFirstPose=function(){var e=this.props,t=e.initialPose,r=e.pose,n=e._pose;if(t){var o=(Array.isArray(r)?r:[r]).concat(n).filter(Boolean);return 1===o.length?o[0]:o}},t.prototype.getSetProps=function(){var e,t=Jn(this.props);return this.props.popFromFlow&&this.ref&&this.ref instanceof HTMLElement?this.popStyle?t.style=this.popStyle:(t.style=l(l({},t.style),{position:"absolute",top:(e=this.ref).offsetTop,left:e.offsetLeft,width:e.offsetWidth,height:e.offsetHeight}),this.popStyle=t.style):this.popStyle=null,t},t.prototype.componentDidMount=function(){var e=this;this.ref,Element;var t,r=this.props,n=r.onValueChange,o=r.registerChild,i=r.values,a=r.parentValues,s=r.onDragStart,c=r.onDragEnd,u=r.onPressStart,p=r.onPressEnd,d=l(l({},this.poseConfig),{initialPose:this.getInitialPose(),values:i||this.poseConfig.values,parentValues:a?(t=a,Object.keys(t).reduce((function(e,r){return e.set(r,{raw:t[r]}),e}),new Map)):void 0,props:this.getSetProps(),onDragStart:s,onDragEnd:c,onPressStart:u,onPressEnd:p,onChange:n});o?o({element:this.ref,poseConfig:d,onRegistered:function(t){return e.initPoser(t)}}):this.initPoser(Yn(this.ref,d))},t.prototype.getSnapshotBeforeUpdate=function(){var e=this.props,t=e.pose,r=e._pose;return($n(t,"flip")||$n(r,"flip"))&&this.poser.measure(),null},t.prototype.componentDidUpdate=function(e){var t=this.props,r=t.pose,n=t._pose,o=t.poseKey;this.poser.setProps(this.getSetProps()),(o!==e.poseKey||function(e,t){if(e===t)return!1;var r=Array.isArray(e),n=Array.isArray(t);if(r!==n||!r&&!n)return!0;if(r&&n){var o=e.length;if(o!==t.length)return!0;for(var i=0;i<o;i++)if(e[i]!==t[i])return!0}return!1}(e.pose,r)||"flip"===r)&&this.setPose(r),n===e._pose&&"flip"!==n||this.setPose(n)},t.prototype.componentWillUnmount=function(){if(this.poser){var e=this.props.onUnmount;e&&e(this.poser),this.poser.destroy()}},t.prototype.initPoser=function(e){this.poser=e,this.flushChildren();var t=this.getFirstPose();t&&this.setPose(t)},t.prototype.setPose=function(e){var t=this,r=this.props.onPoseComplete,n=Array.isArray(e)?e:[e];Promise.all(n.map((function(e){return e&&t.poser.set(e)}))).then((function(){return r&&r(e)}))},t.prototype.flushChildren=function(){var e=this;this.children.forEach((function(t){var r=t.element,n=t.poseConfig;return(0,t.onRegistered)(e.poser.addChild(r,n))})),this.children.clear()},t.prototype.render=function(){var e,t=this.props.elementType;return a.a.createElement(Xn,{value:this.childrenHandlers},Object(i.createElement)(t,(e=this.shouldForwardProp,[this.getSetProps(),{ref:this.setRef}].reduce((function(t,r){for(var n in r)e(n)&&(t[n]=r[n]);return t}),{}))))},t}(i.PureComponent),Qn=new Map,eo=function(e){var t=function(t){return void 0===t&&(t={}),Object(i.forwardRef)((function(r,n){var o=r.withParent,i=void 0===o||o,s=u(r,["withParent"]);return s.innerRef,!i||s.parentValues?a.a.createElement(Kn,l({poseConfig:t,innerRef:n,elementType:e},s)):a.a.createElement(Gn,null,(function(r){return a.a.createElement(Kn,l({poseConfig:t,elementType:e,innerRef:n},s,r))}))}))};return Qn.set(e,t),t},to=function(e){return t=e,Qn.has(t)?Qn.get(t):eo(t);var t};["a","article","aside","audio","b","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dialog","div","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","i","iframe","img","input","label","legend","li","nav","object","ol","option","p","param","picture","pre","progress","q","section","select","span","strong","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","ul","video","circle","clipPath","defs","ellipse","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].reduce((function(e,t){return e[t]=eo(t),e}),to);var ro=function(e){return e&&e.key,("number"==typeof e.key?e.key.toString():e.key).replace(".$","")},no=function(e,t){return Object(i.createElement)(e.type,l(l({key:e.key,ref:e.ref},t),e.props))},oo=function(e,t){var r=function(e,t){var r=t.displayedChildren,n=t.finishedLeaving,o=t.hasInitialized,a=t.indexedChildren,s=t.scheduleChildRemoval,c=e.children,l=e.preEnterPose,p=e.enterPose,d=e.exitPose,f=e.animateOnMount,m=(e.enterAfterExit,e.flipMove),h=(e.onRest,u(e,["children","preEnterPose","enterPose","exitPose","animateOnMount","enterAfterExit","flipMove","onRest"])),b=io(c),y={displayedChildren:[]};var _=r.map(ro),v=b.map(ro),g=0!==Object.keys(h).length,w=new Set(v.filter((function(e){return n.hasOwnProperty(e)||-1===_.indexOf(e)})));w.forEach((function(e){return delete n[e]}));var O=[],j={};_.forEach((function(e){if(!w.has(e)){var t=n.hasOwnProperty(e);(t||-1===v.indexOf(e))&&(O.push(e),t||(n[e]=!1,j[e]=!0))}}));var S=new Set(_.filter((function(e,t){return!w.has(e)||-1===O.indexOf(e)})));return b.forEach((function(e){var t={};w.has(e.key)?((o||f)&&(t.initialPose=l),t._pose=p):S.has(e.key)&&m?t._pose=[p,"flip"]:t._pose=p;var r=Object(i.cloneElement)(e,t);a[e.key]=r,y.displayedChildren.push(g?no(r,h):r)})),O.forEach((function(e){var t=a[e],r=j[e]?Object(i.cloneElement)(t,{_pose:d,onPoseComplete:function(r){r===d&&s(e);var n=t.props.onPoseComplete;n&&n(r)},popFromFlow:m}):t,n=_.indexOf(e);a[t.key]=r,y.displayedChildren.splice(n,0,g?no(r,h):r)})),y}(e,t);return r.hasInitialized=!0,r},io=function(e){var t=[];return i.Children.forEach(e,(function(e){return e&&t.push(e)})),t},ao=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={displayedChildren:[],finishedLeaving:{},hasInitialized:!1,indexedChildren:{},scheduleChildRemoval:function(e){return t.removeChild(e)}},t}return c(t,e),t.prototype.removeChild=function(e){var t=this.state,r=t.displayedChildren,n=t.finishedLeaving,o=this.props,i=o.enterAfterExit,a=o.onRest;if(n.hasOwnProperty(e)&&(n[e]=!0,Object.keys(n).every((function(e){return n[e]})))){var s=r.filter((function(e){return!n.hasOwnProperty(e.key)})),c=i?l({finishedLeaving:{}},oo(l(l({},this.props),{enterAfterExit:!1}),l(l({},this.state),{displayedChildren:s}))):{finishedLeaving:{},displayedChildren:s};this.setState(c,a)}},t.prototype.shouldComponentUpdate=function(e,t){return this.state!==t},t.prototype.render=function(){return this.state.displayedChildren},t.defaultProps={flipMove:!1,enterAfterExit:!1,preEnterPose:"exit",enterPose:"enter",exitPose:"exit"},t.getDerivedStateFromProps=oo,t}(i.Component),so=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){return Object(i.createElement)(ao,l({},this.props))},t.defaultProps={flipMove:!0},t}(i.Component),co=to,lo=co.div({enter:{y:0,opacity:1,transition:{y:{type:"spring",stiffness:500,damping:15},default:{duration:300}}},exit:{y:35,opacity:0,transition:{duration:0}}}),uo=function(e){var t=e.children,r=e.className,n=e.is_visible,o=e.keyname;return n?i.createElement(so,null,i.createElement(lo,{className:r,key:o},t)):null};uo.propTypes={children:o.a.node,is_visible:o.a.bool,keyname:o.a.string};var po=co.div({enter:{y:0,opacity:1,transition:{duration:200}},exit:{y:-20,opacity:0,transition:{duration:100}}}),fo=co.div({enter:{y:0,opacity:1,transition:{duration:200}},exit:{y:20,opacity:0,transition:{duration:100}}}),mo=function(e){var t=e.children,r=e.className,n=e.keyname,o=e.is_visible;return"bottom"===e.type?i.createElement(so,{flipMove:!1},o&&i.createElement(fo,{className:r,key:n},t)):i.createElement(so,{flipMove:!1},o&&i.createElement(po,{className:r,key:n},t))};mo.propTypes={children:o.a.node,is_visible:o.a.bool,keyname:o.a.string,type:o.a.string}},"./App/Components/Elements/ContentLoader/index.js":function(e,t,r){"use strict";r.d(t,"a",(function(){return f})),r.d(t,"b",(function(){return m})),r.d(t,"c",(function(){return v}));var n=r("react"),o=function(){return(o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var i=function(){return Math.random().toString(36).substring(2)},a=function(e){var t=e.rtl,r=e.speed,a=e.interval,s=e.style,c=e.width,l=e.height,u=e.baseUrl,p=e.gradientRatio,d=e.animate,f=e.ariaLabel,m=e.children,h=e.className,b=e.uniquekey,y=e.primaryColor,_=e.primaryOpacity,v=e.secondaryColor,g=e.secondaryOpacity,w=e.preserveAspectRatio,O=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r}(e,["rtl","speed","interval","style","width","height","baseUrl","gradientRatio","animate","ariaLabel","children","className","uniquekey","primaryColor","primaryOpacity","secondaryColor","secondaryOpacity","preserveAspectRatio"]),j=b?b+"-idClip":i(),S=b?b+"-idGradient":i(),k=t?{transform:"scaleX(-1)"}:{},x="0; "+a+"; 1",E=r+"s";return Object(n.createElement)("svg",o({role:"img",style:o(o({},s),k),className:h,"aria-label":f||null,viewBox:"0 0 "+c+" "+l,preserveAspectRatio:w},O),f?Object(n.createElement)("title",null,f):null,Object(n.createElement)("rect",{x:"0",y:"0",width:c,height:l,clipPath:"url("+u+"#"+j+")",style:{fill:"url("+u+"#"+S+")"}}),Object(n.createElement)("defs",null,Object(n.createElement)("clipPath",{id:j},m),Object(n.createElement)("linearGradient",{id:S},Object(n.createElement)("stop",{offset:"0%",stopColor:y,stopOpacity:_},d&&Object(n.createElement)("animate",{attributeName:"offset",values:-p+"; "+-p+"; 1",keyTimes:x,dur:E,repeatCount:"indefinite"})),Object(n.createElement)("stop",{offset:"50%",stopColor:v,stopOpacity:g},d&&Object(n.createElement)("animate",{attributeName:"offset",values:-p/2+"; "+-p/2+"; "+(1+p/2),keyTimes:x,dur:E,repeatCount:"indefinite"})),Object(n.createElement)("stop",{offset:"100%",stopColor:y,stopOpacity:_},d&&Object(n.createElement)("animate",{attributeName:"offset",values:"0; 0; "+(1+p),keyTimes:x,dur:E,repeatCount:"indefinite"})))))},s={animate:!0,ariaLabel:"Loading interface...",baseUrl:"",gradientRatio:2,height:130,interval:.25,preserveAspectRatio:"none",primaryColor:"#f0f0f0",primaryOpacity:1,rtl:!1,secondaryColor:"#e0e0e0",secondaryOpacity:1,speed:2,style:{},width:400},c=function(e){return Object(n.createElement)("rect",{x:"0",y:"0",rx:"5",ry:"5",width:e.width,height:e.height})},l=function(e){var t=o(o({},s),e);return Object(n.createElement)(a,o({},t),e.children||Object(n.createElement)(c,o({},t)))},u=l,p=r("../node_modules/prop-types/index.js"),d=r.n(p),f=function(e){var t=e.speed;return n.createElement(u,{height:173,width:218,speed:t,primaryColor:"var(--general-section-1)",secondaryColor:"var(--general-hover)"},n.createElement("rect",{x:"43",y:"19",rx:"0",ry:"0",width:"56",height:"8"}),n.createElement("rect",{x:"147",y:"19",rx:"0",ry:"0",width:"56",height:"8"}),n.createElement("rect",{x:"12",y:"50",rx:"0",ry:"0",width:"44",height:"8"}),n.createElement("rect",{x:"13",y:"68",rx:"0",ry:"0",width:"192",height:"8"}),n.createElement("rect",{x:"5",y:"89",rx:"0",ry:"0",width:"208",height:"1"}),n.createElement("rect",{x:"12",y:"104",rx:"0",ry:"0",width:"44",height:"8"}),n.createElement("rect",{x:"12",y:"9",rx:"0",ry:"0",width:"24",height:"24"}),n.createElement("rect",{x:"116",y:"11",rx:"0",ry:"0",width:"24",height:"24"}),n.createElement("rect",{x:"12",y:"118",rx:"0",ry:"0",width:"88",height:"8"}),n.createElement("rect",{x:"116",y:"104",rx:"0",ry:"0",width:"44",height:"8"}),n.createElement("rect",{x:"116",y:"118",rx:"0",ry:"0",width:"88",height:"8"}),n.createElement("rect",{x:"12",y:"139",rx:"0",ry:"0",width:"44",height:"8"}),n.createElement("rect",{x:"12",y:"153",rx:"0",ry:"0",width:"88",height:"8"}),n.createElement("rect",{x:"116",y:"139",rx:"0",ry:"0",width:"44",height:"8"}),n.createElement("rect",{x:"116",y:"153",rx:"0",ry:"0",width:"88",height:"8"}))};f.propTypes={speed:d.a.number};var m=function(e){var t=e.speed;return n.createElement(u,{height:64,width:992,speed:t,primaryColor:"var(--general-hover)",secondaryColor:"var(--general-active)"},n.createElement("rect",{x:"16",y:"16",rx:"4",ry:"4",width:"32",height:"32"}),n.createElement("rect",{x:"52",y:"16",rx:"4",ry:"4",width:"32",height:"32"}),n.createElement("rect",{x:"132",y:"28",rx:"4",ry:"4",width:"101",height:"8"}),n.createElement("rect",{x:"273",y:"28",rx:"4",ry:"4",width:"120",height:"8"}),n.createElement("rect",{x:"460",y:"28",rx:"4",ry:"4",width:"46",height:"8"}),n.createElement("rect",{x:"593",y:"28",rx:"4",ry:"4",width:"46",height:"8"}),n.createElement("rect",{x:"726",y:"28",rx:"4",ry:"4",width:"64",height:"8"}),n.createElement("rect",{x:"906",y:"28",rx:"4",ry:"4",width:"64",height:"8"}))};m.propTypes={speed:d.a.number};var h=r("@deriv/components/lib/desktop-wrapper"),b=r.n(h),y=(r("@deriv/components/lib/desktop-wrapper.css"),r("@deriv/components/lib/mobile-wrapper")),_=r.n(y),v=(r("@deriv/components/lib/mobile-wrapper.css"),function(e){var t=e.speed;return n.createElement(n.Fragment,null,n.createElement(_.a,null,n.createElement(u,{height:214,width:344,speed:t,primaryColor:"var(--general-section-1)",secondaryColor:"var(--general-hover)"},n.createElement("rect",{x:"148",y:"24",rx:"3",ry:"3",width:"40",height:"4"}),n.createElement("rect",{x:"8",y:"40",rx:"4",ry:"4",width:"328",height:"40"}),n.createElement("rect",{x:"8",y:"88",rx:"4",ry:"4",width:"328",height:"40"}),n.createElement("rect",{x:"8",y:"136",rx:"4",ry:"4",width:"160",height:"70"}),n.createElement("rect",{x:"176",y:"136",rx:"4",ry:"4",width:"160",height:"70"}))),n.createElement(b.a,null,n.createElement(u,{height:548,width:240,speed:t,primaryColor:"var(--general-section-1)",secondaryColor:"var(--general-hover)"},n.createElement("rect",{x:"0",y:"0",rx:"4",ry:"4",width:"240",height:"76"}),n.createElement("rect",{x:"0",y:"84",rx:"4",ry:"4",width:"240",height:"132"}),n.createElement("rect",{x:"0",y:"224",rx:"4",ry:"4",width:"240",height:"120"}),n.createElement("rect",{x:"0",y:"352",rx:"4",ry:"4",width:"240",height:"194"}))))});v.propTypes={speed:d.a.number}},"./App/Components/Elements/PositionsDrawer/PositionsDrawerCard/multiplier-close-actions.jsx":function(e,t,r){"use strict";var n=r("../node_modules/classnames/index.js"),o=r.n(n),i=r("../node_modules/prop-types/index.js"),a=r.n(i),s=r("react"),c=r("@deriv/components/lib/button"),l=r.n(c),u=(r("@deriv/components/lib/button.css"),r("@deriv/translations")),p=r("./App/Containers/remaining-time.jsx"),d=r("./Stores/Modules/Contract/Helpers/logic.js"),f=function(e){var t=e.className,r=e.onClickCancel,n=e.onClickSell,i=e.contract_info,a=e.is_sell_requested,c=i.contract_id,f=i.cancellation,m=(f=void 0===f?{}:f).date_expiry,h=i.profit,b=Object(d.p)(i);return s.createElement(s.Fragment,null,s.createElement(l.a,{id:"dt_drawer_card_".concat(c,"_button"),className:o()(t,{"dc-btn--loading":a}),is_disabled:a||+h<0&&b,text:Object(u.localize)("Close"),onClick:function(e){n(c),e.stopPropagation(),e.preventDefault()},secondary:!0}),b&&s.createElement(l.a,{id:"dt_drawer_card_".concat(c,"_cancel_button"),className:"dc-btn--cancel",is_disabled:+h>=0,onClick:function(e){r(c),e.stopPropagation(),e.preventDefault()},secondary:!0},Object(u.localize)("Cancel"),m&&s.createElement(p.a,{end_time:m,format:"mm:ss"})))};f.propTypes={contract_info:a.a.object,is_sell_requested:a.a.bool,onClickCancel:a.a.func,onClickSell:a.a.func},t.a=f},"./App/Components/Elements/PositionsDrawer/ProgressSlider/index.js":function(e,t,r){"use strict";var n=r("./App/Components/Elements/PositionsDrawer/ProgressSlider/positions-progress-slider.jsx");r.d(t,"a",(function(){return n.a}))},"./App/Components/Elements/PositionsDrawer/ProgressSlider/positions-progress-slider.jsx":function(e,t,r){"use strict";var n=r("../node_modules/classnames/index.js"),o=r.n(n),i=r("../node_modules/prop-types/index.js"),a=r.n(i),s=r("react"),c=r("./Stores/connect.js"),l=r("@deriv/translations");function u(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var d=function(e){var t=e.current_tick,r=e.ticks_count,n=u(Array(r).keys());return s.createElement("div",{className:"progress-slider__ticks"},s.createElement("span",{className:"progress-slider__ticks-caption"},s.createElement(l.Localize,{i18n_default_text:"Tick {{current_tick}}",values:{current_tick:t.toString()}})),s.createElement("div",{className:"progress-slider__ticks-wrapper"},n.map((function(e){return s.createElement("div",{key:e,className:o()("progress-slider__ticks-step",{"progress-slider__ticks-step--marked":e+1<=parseInt(t)})})}))))};d.propTypes={current_tick:a.a.number,ticks_count:a.a.number};var f=d,m=r("./App/Components/Elements/PositionsDrawer/helpers/index.js"),h=r("./App/Containers/remaining-time.jsx"),b=function(e){var t=e.className,r=e.current_tick,n=e.is_loading,i=e.start_time,a=e.expiry_time,c=e.server_time,l=e.ticks_count,u=Object(m.c)(c,i,a);return s.createElement("div",{className:o()("progress-slider",t)},l?s.createElement(f,{current_tick:r,ticks_count:l}):s.createElement(s.Fragment,null,s.createElement("span",{className:"positions-drawer-card__remaining-time"},s.createElement(h.a,{end_time:a})),n||u<1?s.createElement("div",{className:"progress-slider__infinite-loader"},s.createElement("div",{className:"progress-slider__infinite-loader--indeterminate"})):s.createElement("div",{className:"progress-slider__track"},s.createElement("div",{className:o()("progress-slider__line",{"progress-slider__line--green":u>=50,"progress-slider__line--orange":u<50&&u>=20,"progress-slider__line--red":u<20}),style:{width:"".concat(u,"%")}}))))};b.propTypes={className:a.a.string,current_tick:a.a.number,expiry_time:a.a.oneOfType([a.a.number,a.a.string]),is_loading:a.a.bool,server_time:a.a.object,start_time:a.a.oneOfType([a.a.number,a.a.string]),ticks_count:a.a.number};t.a=Object(c.b)((function(e){return{server_time:e.common.server_time}}))(b)},"./App/Components/Elements/PositionsDrawer/ProgressSliderMobile/index.js":function(e,t,r){"use strict";r.d(t,"a",(function(){return v}));var n=r("../node_modules/classnames/index.js"),o=r.n(n),i=r("../node_modules/prop-types/index.js"),a=r.n(i),s=r("react"),c=r("@deriv/components/lib/circular-progress"),l=r.n(c),u=(r("@deriv/components/lib/circular-progress.css"),r("./Stores/connect.js")),p=r("@deriv/components/lib/tick-progress"),d=r.n(p),f=(r("@deriv/components/lib/tick-progress.css"),r("@deriv/translations")),m=function(e){var t=e.current_tick,r=e.ticks_count;return s.createElement("div",{className:"progress-slider__ticks"},s.createElement("span",{className:"progress-slider__ticks-caption"},s.createElement(f.Localize,{i18n_default_text:"Tick {{current_tick}}",values:{current_tick:t.toString()}})),s.createElement(d.a,{columns:5,rows:r>5?2:1,size:r,value:t}))};m.propTypes={current_tick:a.a.number,ticks_count:a.a.number};var h=m,b=r("./App/Components/Elements/PositionsDrawer/helpers/index.js"),y=r("./App/Containers/remaining-time.jsx"),_=function(e){var t=e.className,r=e.current_tick,n=e.is_loading,i=e.start_time,a=e.expiry_time,c=e.server_time,u=e.ticks_count,p=Object(b.c)(c,i,a);return s.createElement("div",{className:o()("positions-progress-slider-mobile",t)},u?s.createElement(h,{current_tick:r,ticks_count:u}):s.createElement(s.Fragment,null,s.createElement("span",{className:"positions-modal-card__remaining-time"},s.createElement(y.a,{end_time:a})),n||p<1?s.createElement("div",{className:"positions-progress-slider-mobile__infinite-loader"},s.createElement("div",{className:"positions-progress-slider-mobile__infinite-loader--indeterminate"})):s.createElement(l.a,{className:"positions-modal-card__timer",danger_limit:20,icon:"IcClockOutline",progress:p,warning_limit:50})))};_.propTypes={className:a.a.string,current_tick:a.a.number,expiry_time:a.a.oneOfType([a.a.number,a.a.string]),is_loading:a.a.bool,server_time:a.a.object,start_time:a.a.oneOfType([a.a.number,a.a.string]),ticks_count:a.a.number};var v=Object(u.b)((function(e){return{server_time:e.common.server_time}}))(_)},"./App/Components/Elements/PositionsDrawer/contract-type-cell.jsx":function(e,t,r){"use strict";var n=r("react"),o=r("../node_modules/prop-types/index.js"),i=r.n(o),a=r("@deriv/components/lib/icon-trade-types"),s=r.n(a),c=(r("@deriv/components/lib/icon-trade-types.css"),r("./Constants/contract.js")),l=function(e){var t=e.multiplier,r=e.type,o=e.is_high_low;return n.createElement("div",{className:"contract-type"},n.createElement("div",{className:"contract-type__type-wrapper"},n.createElement(s.a,{type:o?"".concat(r.toLowerCase(),"_barrier"):r.toLowerCase(),className:"category-type",size:24})),n.createElement("div",{className:"contract-type__type-label"},n.createElement("div",null,Object(c.b)(r,o)||""),t&&n.createElement("div",{className:"contract-type__type-label-multiplier"},"x",t)))};l.propTypes={type:i.a.string},t.a=l},"./App/Components/Elements/PositionsDrawer/helpers/index.js":function(e,t,r){"use strict";r.d(t,"c",(function(){return a})),r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return c})),r.d(t,"d",(function(){return l}));var n=r("../node_modules/moment/moment.js"),o=r.n(n),i=r("@deriv/translations"),a=function(e,t,r){var n=o.a.duration(o.a.unix(r).diff(o.a.unix(t))),i=o.a.duration(o.a.unix(r).diff(e)).asMilliseconds()/n.asMilliseconds()*100;return i<.5?i=0:i>100&&(i=100),Math.round(i)},s=function(e){return l(e.contract_type)?Object(i.localize)("Target"):Object(i.localize)("Barrier")},c=function(e){return l(e.contract_type)?u(e)[e.contract_type]:function(e,t){if(!e||isNaN(e))return e;var r=String(t?(+e).toFixed(t):e),n=r.indexOf(".");return r.replace(/\d(?=(?:\d{3})+(?:\.|$))/g,(function(e,t){return n<=0||t<n?"".concat(e,","):e}))}(e.barrier)},l=function(e){return/digit/.test(e.toLowerCase())},u=function(e){return{DIGITDIFF:Object(i.localize)("Not {{barrier}}",{barrier:e.barrier}),DIGITEVEN:Object(i.localize)("Even"),DIGITMATCH:Object(i.localize)("Equals {{barrier}}",{barrier:e.barrier}),DIGITODD:Object(i.localize)("Odd"),DIGITOVER:Object(i.localize)("Over {{barrier}}",{barrier:e.barrier}),DIGITUNDER:Object(i.localize)("Under {{barrier}}",{barrier:e.barrier})}}},"./App/Components/Elements/PositionsDrawer/result-overlay.jsx":function(e,t,r){"use strict";r.d(t,"a",(function(){return w}));var n=r("../node_modules/classnames/index.js"),o=r.n(n),i=r("../node_modules/prop-types/index.js"),a=r.n(i),s=r("react"),c=r("../node_modules/react-transition-group/index.js"),l=r("react-router-dom"),u=r("@deriv/components/lib/icon"),p=r.n(u),d=(r("@deriv/components/lib/icon.css"),r("./App/Components/Routes/helpers.js")),f=r("@deriv/translations");function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=g(e);if(t){var o=g(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return v(this,r)}}function v(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var w=function(e){var t=e.is_contract_won;return s.createElement("span",{className:o()("result__caption",{"result__caption--won":t,"result__caption--lost":!t})},t?s.createElement(s.Fragment,null,Object(f.localize)("won"),s.createElement(p.a,{icon:"IcCheckmarkCircle",className:"result__icon",color:"green"})):s.createElement(s.Fragment,null,Object(f.localize)("lost"),s.createElement(p.a,{icon:"IcCrossCircle",className:"result__icon",color:"red"})))},O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(a,e);var t,r,n,i=_(a);function a(){var e;h(this,a);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=i.call.apply(i,[this].concat(r))).handleClick=function(t){e.props.is_unsupported&&(t.preventDefault(),e.props.onClick())},e}return t=a,(r=[{key:"render",value:function(){var e=this.props,t=e.contract_id,r=e.is_multiplier,n=e.is_visible,i=e.onClickRemove,a="won"===e.result;return s.createElement(s.Fragment,null,s.createElement(c.CSSTransition,{in:n,timeout:250,classNames:{enter:"positions-drawer-card__result--enter",enterDone:"positions-drawer-card__result--enter-done",exit:"positions-drawer-card__result--exit"},unmountOnExit:!0},s.createElement("div",{id:"dt_drawer_".concat(t,"_result"),className:o()("positions-drawer-card__result",{"positions-drawer-card__result--won":a,"positions-drawer-card__result--lost":!a,"positions-drawer-card__result--lg":r})},s.createElement("span",{id:"dt_drawer_".concat(t,"_result_close_icon"),className:"result__close-btn",onClick:function(){return i(t)}}),s.createElement(l.NavLink,{className:"result__caption-wrapper",to:Object(d.b)(t),onClick:this.handleClick},s.createElement(w,{is_contract_won:a})))))}}])&&b(t.prototype,r),n&&b(t,n),a}(s.PureComponent);O.propTypes={contract_id:a.a.oneOfType([a.a.number,a.a.string]),is_unsupported:a.a.bool,is_visible:a.a.bool,onClick:a.a.func,onClickRemove:a.a.func,result:a.a.string},t.b=O},"./App/Components/Elements/PositionsDrawer/toggle-positions-drawer-dialog.jsx":function(e,t,r){"use strict";var n=r("react"),o=r("../node_modules/prop-types/index.js"),i=r.n(o),a=r("@deriv/components/lib/icon"),s=r.n(a),c=(r("@deriv/components/lib/icon.css"),r("@deriv/components/lib/popover")),l=r.n(c),u=(r("@deriv/components/lib/popover.css"),r("@deriv/translations")),p=r("./Stores/connect.js"),d=r("./Modules/Trading/Components/Elements/popover-message-checkbox.jsx"),f=r("react-dom"),m=r.n(f),h=r("../node_modules/react-transition-group/index.js");function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=w(e);if(t){var o=w(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return g(this,r)}}function g(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(a,e);var t,r,o,i=v(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).handleClickOutside=function(e){t.ref&&t.ref.current&&t.props.is_visible&&(t.ref.current.contains(e.target)?e.stopPropagation():t.props.toggle_ref.current.contains(e.target)||t.props.toggleDialog())},t.ref=n.createRef(),t}return t=a,(r=[{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this.handleClickOutside,!0)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.handleClickOutside,!0)}},{key:"render",value:function(){var e=this.props,t=e.children,r=e.is_visible,o=e.left,i=e.top,a=n.createElement(h.CSSTransition,{in:r,classNames:{enter:"positions-drawer-dialog--enter",enterDone:"positions-drawer-dialog--enter-done",exit:"positions-drawer-dialog--exit"},timeout:150,unmountOnExit:!0},n.createElement("div",{ref:this.ref,className:"positions-drawer-dialog",style:{top:i,left:"calc(".concat(o,"px + 32px)")}},t));return m.a.createPortal(a,document.getElementById("deriv_app"))}}])&&y(t.prototype,r),o&&y(t,o),a}(n.Component);O.propTypes={children:i.a.oneOfType([i.a.string,i.a.arrayOf(i.a.node),i.a.node]),is_visible:i.a.bool,left:i.a.number,toggle_ref:i.a.object,toggleDialog:i.a.func,top:i.a.number};var j=O,S=r("@deriv/components/lib/button"),k=r.n(S),x=(r("@deriv/components/lib/button.css"),r("./App/Components/Form/InputField/input-with-checkbox.jsx")),E=r("./Stores/Modules/Contract/Helpers/limit-orders.js"),P=r("./Stores/Modules/Contract/Helpers/logic.js");function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function D(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function M(e,t){return(M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function A(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=N(e);if(t){var o=N(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return R(this,r)}}function R(e,t){return!t||"object"!==C(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var I=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M(e,t)}(a,e);var t,r,o,i=A(a);function a(){var e;D(this,a);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=i.call.apply(i,[this].concat(r))).isValid=function(e){return!(null==e)},e.onChange=function(t){var r=t.target,n=r.name,o=r.value;"function"==typeof e.props.onChange&&e.props.onChange({name:n,value:o},e.props.contract_id)},e.onClick=function(){e.props.updateLimitOrder(e.props.contract_id),e.props.toggleDialog()},e}return t=a,(r=[{key:"componentWillUnmount",value:function(){this.props.clearContractUpdateConfigValues(this.props.contract_id)}},{key:"render",value:function(){var e=this.contract_info,t=e.buy_price,r=e.currency,o=e.is_valid_to_cancel,i=Object(P.b)(this.contract_info),a=this.contract_update_config,s=a.has_contract_update_stop_loss,c=a.has_contract_update_take_profit,l=a.contract_update_stop_loss,p=a.contract_update_take_profit,d=n.createElement(x.a,{classNameInlinePrefix:"trade-container__currency",currency:r,error_messages:this.error_messages.take_profit,is_single_currency:!0,is_negative_disabled:!0,defaultChecked:c,label:Object(u.localize)("Take profit"),name:"contract_update_take_profit",onChange:this.onChange,error_message_alignment:"right",value:p,is_disabled:!!o}),f=n.createElement(x.a,{classNameInlinePrefix:"trade-container__currency",currency:r,defaultChecked:s,error_messages:this.error_messages.stop_loss,is_single_currency:!0,is_negative_disabled:!0,label:Object(u.localize)("Stop loss"),max_value:t-i,name:"contract_update_stop_loss",onChange:this.onChange,error_message_alignment:"right",value:l,is_disabled:!!o});return n.createElement(n.Fragment,null,n.createElement("div",{className:"positions-drawer-dialog__input"},d),n.createElement("div",{className:"positions-drawer-dialog__input"},f),n.createElement("div",{className:"positions-drawer-dialog__button"},n.createElement(k.a,{text:Object(u.localize)("Apply"),onClick:this.onClick,primary:!0,is_disabled:this.has_validation_errors||!this.is_valid_contract_update})))}},{key:"contract",get:function(){return this.props.getContractById(this.props.contract_id)}},{key:"contract_info",get:function(){return this.contract.contract_info}},{key:"contract_update_config",get:function(){return this.contract.contract_update_config}},{key:"limit_order",get:function(){var e=Object(E.b)(this.contract_info.limit_order);return{current_stop_loss:e.stop_loss,current_take_profit:e.take_profit}}},{key:"is_valid_contract_update",get:function(){var e=this.contract_update_config,t=e.has_contract_update_take_profit,r=e.has_contract_update_stop_loss,n=e.contract_update_take_profit,o=e.contract_update_stop_loss,i=this.limit_order,a=i.current_take_profit,s=i.current_stop_loss,c=t?n>0:this.isValid(a),l=r?o>0:this.isValid(s);return!(this.contract_info.is_valid_to_cancel||!c&&!l)}},{key:"error_messages",get:function(){var e=this.contract_update_config,t=e.has_contract_update_stop_loss,r=e.has_contract_update_take_profit,n=this.props.validation_errors,o=n.contract_update_stop_loss,i=n.contract_update_take_profit;return{take_profit:r?i:void 0,stop_loss:t?o:void 0}}},{key:"has_validation_errors",get:function(){var e=this;return Object.keys(this.error_messages).some((function(t){var r;return null===(r=e.error_messages[t])||void 0===r?void 0:r.length}))}}])&&T(t.prototype,r),o&&T(t,o),a}(n.Component);I.propTypes={contract_id:i.a.number,currency:i.a.string,getContractById:i.a.func,resetContractUpdate:i.a.func,toggleDialog:i.a.func,validation_errors:i.a.object};var z=Object(p.b)((function(e){var t=e.modules;return{clearContractUpdateConfigValues:t.contract_trade.clearContractUpdateConfigValues,getContractById:t.contract_trade.getContractById,onChange:t.contract_trade.onChange,updateLimitOrder:t.contract_trade.updateLimitOrder,validation_errors:t.contract_trade.validation_errors}}))(I);function L(e){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function U(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function q(e,t){return(q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function F(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Y(e);if(t){var o=Y(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return H(this,r)}}function H(e,t){return!t||"object"!==L(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Y(e){return(Y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var V=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&q(e,t)}(a,e);var t,r,o,i=F(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).toggleDialog=function(){t.props.is_valid_to_cancel||t.setState((function(e){return{is_visible:!e.is_visible}}),(function(){if(t.state.is_visible&&t.toggle_ref&&t.toggle_ref.current&&t.dialog_ref&&t.dialog_ref.current){var e=t.toggle_ref.current.getBoundingClientRect(),r=t.dialog_ref.current.ref.current.getBoundingClientRect(),n=document.body.getBoundingClientRect(),o=e.top,i=e.right;e.top+r.height>n.height&&(o-=r.height-e.height),t.setState({top:o,left:i-16})}}))},t.state={is_visible:!1,top:0,left:0},t.toggle_ref=n.createRef(),t.dialog_ref=n.createRef(),t}return t=a,(r=[{key:"render",value:function(){var e=this.props,t=e.is_valid_to_cancel,r=e.should_show_cancellation_warning,o=e.toggleCancellationWarning,i=n.createElement(s.a,{className:"positions-drawer-dialog-toggle__icon",icon:"IcEdit",color:t&&"disabled",size:16});return n.createElement(n.Fragment,null,n.createElement("div",{ref:this.toggle_ref,className:"positions-drawer-dialog-toggle",onClick:this.toggleDialog},t?n.createElement(l.a,{alignment:"right",classNameBubble:"trade-container__popover",is_bubble_hover_enabled:!0,margin:2,zIndex:2,message:n.createElement(d.a,{defaultChecked:!r,message:Object(u.localize)("Take profit and/or stop loss are not available while deal cancellation is active."),name:"should_show_cancellation_warning",onChange:function(){return o()}})},n.createElement("div",{className:"positions-drawer-dialog-toggle__wrapper"},i)):i),n.createElement(j,{ref:this.dialog_ref,is_visible:this.state.is_visible,left:this.state.left,top:this.state.top,toggle_ref:this.toggle_ref,toggleDialog:this.toggleDialog},n.createElement(z,{contract_id:this.props.contract_id,toggleDialog:this.toggleDialog})))}}])&&U(t.prototype,r),o&&U(t,o),a}(n.Component);i.a.TogglePositionsDrawerDialog={is_valid_to_cancel:i.a.bool,contract_id:i.a.string};t.a=Object(p.b)((function(e){var t=e.ui;return{toggleCancellationWarning:t.toggleCancellationWarning,should_show_cancellation_warning:t.should_show_cancellation_warning}}))(V)},"./App/Components/Elements/chart-loader.jsx":function(e,t,r){"use strict";var n=r("../node_modules/prop-types/index.js"),o=r.n(n),i=r("react"),a=r("../node_modules/classnames/index.js"),s=r.n(a),c=function(e){var t=e.className,r=e.id,n=e.is_fullscreen,o=void 0===n||n,a=e.is_slow_loading,c=e.status,l=e.theme,u=l?"barspinner-".concat(l):"barspinner-light";return i.createElement("div",{className:s()("initial-loader",{"initial-loader--fullscreen":o},t)},i.createElement("div",{id:r,className:s()("initial-loader__barspinner","barspinner",u)},Array.from(new Array(5)).map((function(e,t){return i.createElement("div",{key:t,className:"initial-loader__barspinner--rect barspinner__rect barspinner__rect--".concat(t+1," rect").concat(t+1)})}))),a&&c.map((function(e,t){return i.createElement("h3",{className:"initial-loader__text",key:t},e)})))};c.propTypes={id:o.a.oneOfType([o.a.string,o.a.number]),is_slow_loading:o.a.bool,status:o.a.array,theme:o.a.string};var l=c,u=function(e){var t=e.is_dark;return e.is_visible?i.createElement("div",{className:"chart-container__loader"},i.createElement(l,{theme:t?"dark":"light"})):null};u.propTypes={is_dark:o.a.bool,is_visible:o.a.bool};t.a=u},"./App/Components/Elements/tooltip.jsx":function(e,t,r){"use strict";var n=r("../node_modules/classnames/index.js"),o=r.n(n),i=r("../node_modules/prop-types/index.js"),a=r.n(i),s=r("react"),c=r("@deriv/components/lib/icon"),l=r.n(c);r("@deriv/components/lib/icon.css");function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=b(e);if(t){var o=b(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return h(this,r)}}function h(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(a,e);var t,r,n,i=m(a);function a(){var e;p(this,a);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=i.call.apply(i,[this].concat(r))).state={show_tooltip_balloon_icon:!1},e.onMouseEnter=function(){e.setState({show_tooltip_balloon_icon:!0})},e.onMouseLeave=function(){e.setState({show_tooltip_balloon_icon:!1})},e}return t=a,(r=[{key:"render",value:function(){var e=this.props,t=e.alignment,r=e.children,n=e.className,i=e.classNameIcon,a=e.has_error,c=e.icon,u=e.message,p=o()(i,c);return s.createElement("span",{className:o()(n,"dc-tooltip",{"dc-tooltip--error":a}),"data-tooltip":u||void 0,"data-tooltip-pos":t},"info"===c&&s.createElement(s.Fragment,null,s.createElement(l.a,{icon:"IcInfoOutline",className:p,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave}),s.createElement(l.a,{icon:"IcInfoBlue",className:o()("".concat(i,"-balloon-icon"),"dc-tooltip__balloon-icon",{"dc-tooltip__balloon-icon--show":this.state.show_tooltip_balloon_icon})})),"question"===c&&s.createElement(l.a,{icon:"IcUnknown",className:p}),"dot"===c&&s.createElement(l.a,{icon:"IcCircle",className:p,size:4}),r)}}])&&d(t.prototype,r),n&&d(t,n),a}(s.PureComponent);y.propTypes={alignment:a.a.string,children:a.a.node,className:a.a.string,classNameIcon:a.a.string,has_error:a.a.bool,icon:a.a.string,message:a.a.string},t.a=y},"./App/Components/Form/InputField/input-field.jsx":function(e,t,r){"use strict";var n=r("../node_modules/classnames/index.js"),o=r.n(n),i=r("mobx-react"),a=r("../node_modules/prop-types/index.js"),s=r.n(a),c=r("react"),l=r("@deriv/shared/utils/currency"),u=r.n(l),p=r("./App/Components/Elements/tooltip.jsx"),d=r("./Stores/connect.js"),f=r("@deriv/components/lib/button"),m=r.n(f),h=(r("@deriv/components/lib/button.css"),r("@deriv/components/lib/icon")),b=r.n(h),y=(r("@deriv/components/lib/icon.css"),r("@deriv/translations"));function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var v=function(e){var t=e.decrementValue,r=e.id,n=e.incrementValue,o=e.max_is_disabled,i=e.min_is_disabled,a=e.is_incrementable_on_long_press,s=e.onLongPressEnd,l=c.useRef(),u=c.useRef(),p=c.useRef(),d=function(e){return function(t){u.current=setTimeout((function(){p.current=!0;var r=1;e(t,r),l.current=setInterval((function(){e(t,++r)}),50)}),300)}},f=function(){clearInterval(l.current),clearTimeout(u.current),s&&p.current&&s(),p.current=!1},h=function(e){return a?{onContextMenu:function(e){return e.preventDefault()},onTouchStart:d(e),onTouchEnd:f,onMouseDown:d(e),onMouseUp:f}:{}};return c.createElement(c.Fragment,null,c.createElement(m.a,_({id:"".concat(r,"_add"),className:"input-wrapper__button input-wrapper__button--increment",is_disabled:o,onClick:n,tabIndex:"-1","aria-label":Object(y.localize)("Increment value")},h(n)),c.createElement(b.a,{icon:"IcAdd",className:"input-wrapper__icon input-wrapper__icon--plus",color:o?"disabled":void 0})),c.createElement(m.a,_({id:"".concat(r,"_sub"),className:"input-wrapper__button input-wrapper__button--decrement",is_disabled:i,onClick:t,tabIndex:"-1","aria-label":Object(y.localize)("Decrement value")},h(t)),c.createElement(b.a,{icon:"IcMinus",className:"input-wrapper__icon input-wrapper__icon--minus",color:i?"disabled":void 0})))};v.propTypes={decrementValue:s.a.func,id:s.a.string,incrementValue:s.a.func,onLongPressEnd:s.a.func,is_incrementable_on_long_press:s.a.bool,max_is_disabled:s.a.oneOfType([s.a.number,s.a.bool]),min_is_disabled:s.a.oneOfType([s.a.number,s.a.bool])};var g=v,w=function(e){var t=e.ariaLabel,r=e.changeValue,n=e.checked,i=e.className,a=e.classNameInlinePrefix,s=e.current_focus,l=e.data_value,u=e.data_tip,p=e.display_value,d=e.fractional_digits,f=e.id,m=e.inline_prefix,h=e.is_autocomplete_disabled,b=e.is_disabled,y=e.is_hj_whitelisted,_=e.is_incrementable,v=e.is_read_only,g=e.max_length,w=e.name,O=e.onClick,j=e.onKeyPressed,S=e.placeholder,k=e.required,x=e.setCurrentFocus,E=e.type,P=c.createRef();c.useEffect((function(){s===w&&P.current.focus()}),[s,w]);return c.createElement(c.Fragment,null,!!m&&c.createElement("div",{className:a},c.createElement("span",{className:o()(a?"".concat(a,"--symbol"):"","symbols","symbols--".concat(m.toLowerCase()),{disabled:!!b})})),c.createElement("input",{autoComplete:h?"off":void 0,checked:n,className:o()(i),"data-for":"error_tooltip_".concat(w),"data-hj-whitelist":y,"data-tip":u,"data-value":l,disabled:b,id:f,maxLength:d?g+d+1:g,name:w,onBlur:function(){return x(null)},onChange:function(e){if(-1!==navigator.userAgent.indexOf("Safari")&&"checkbox"!==E){var t=e.target.selectionStart;r(e,(function(e){e.target.selectionEnd=t}))}else r(e)},onClick:O,onFocus:function(){return x(w)},onKeyDown:_?j:void 0,placeholder:S||void 0,readOnly:v,ref:P,required:k||void 0,type:"number"===E?"text":E,value:p||"","aria-label":t}))};w.propTypes={ariaLabel:s.a.string,changeValue:s.a.func,checked:s.a.oneOfType([s.a.number,s.a.string]),className:s.a.string,classNameInlinePrefix:s.a.string,current_focus:s.a.string,data_tip:s.a.string,data_value:s.a.oneOfType([s.a.number,s.a.string]),display_value:s.a.oneOfType([s.a.number,s.a.string]),fractional_digits:s.a.number,id:s.a.string,inline_prefix:s.a.string,is_autocomplete_disabled:s.a.bool,is_disabled:s.a.string,is_hj_whitelisted:s.a.bool,is_incrementable:s.a.bool,is_read_only:s.a.bool,max_length:s.a.number,name:s.a.string,onClick:s.a.func,onKeyPressed:s.a.func,placeholder:s.a.string,required:s.a.bool,setCurrentFocus:s.a.func,type:s.a.string,value:s.a.oneOfType([s.a.number,s.a.string])};var O=w;function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=C(e);if(t){var o=C(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return P(this,r)}}function P(e,t){return!t||"object"!==j(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var D=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(a,e);var t,r,n,i=E(a);function a(){var e;S(this,a);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=i.call.apply(i,[this].concat(r))).state={},e}return t=a,(r=[{key:"render",value:function(){var e=this,t=this.props,r=t.ariaLabel,n=t.checked,i=t.className,a=t.classNameInlinePrefix,s=t.classNameInput,l=t.classNamePrefix,d=t.currency,f=t.current_focus,m=t.data_tip,h=t.data_value,b=t.error_messages,y=t.error_message_alignment,_=t.fractional_digits,v=t.helper,w=t.id,j=t.inline_prefix,S=t.is_autocomplete_disabled,k=t.is_disabled,x=t.is_float,E=t.is_hj_whitelisted,P=void 0!==E&&E,C=t.is_incrementable,D=t.is_incrementable_on_long_press,T=t.is_negative_disabled,M=t.is_read_only,A=void 0!==M&&M,R=t.is_signed,N=void 0!==R&&R,I=t.is_unit_at_right,z=void 0!==I&&I,L=t.label,U=t.max_length,q=t.max_value,F=t.min_value,H=t.name,Y=t.format,V=t.onChange,B=t.onClick,W=t.onClickInputWrapper,G=t.placeholder,X=t.prefix,$=t.required,Z=t.setCurrentFocus,J=t.type,K=t.unit,Q=t.value,ee=this.state.local_value,te=this.props.icon,re=b&&!!b.length,ne=!0,oe=q&&(+Q>=+q||+ee>=+q),ie=F&&(+Q<=+F||+ee<=+F),ae=function(e){var t="string"==typeof e?e.split("."):e.toString().split(".");return t&&t.length>1?t[1].length:0},se=function(e){var t=e;return F&&(t=Math.max(t,F)),q&&(t=Math.min(t,q)),t},ce=function(t,r){if(!oe){var n,o=e.state.local_value||Q,i=o?ae(o):0,a=!!d&&u.a.isCryptocurrency(d);if(r){var s=Math.min(r,Math.max(r,10))/10,c=Q*s/100,l=parseFloat(+(o||0))+Math.abs(c);n=parseFloat(se(l)).toFixed(i)}else if(a||!d&&x){var p=parseFloat(+(o||0))+parseFloat(1*Math.pow(10,0-i));n=parseFloat(p).toFixed(i)}else n=parseFloat(+(o||0)+1).toFixed(i);pe(n,!!r)}},le=function(t){var r,n=e.state.local_value||Q,o=n?ae(n):0,i=!!d&&u.a.isCryptocurrency(d);if(t){var a=Math.min(t,Math.max(t,10))/10,s=Q*a/100,c=parseFloat(+(n||0))-Math.abs(s);r=parseFloat(se(c)).toFixed(o)}else if(i||!d&&x){var l=parseFloat(+(n||0))-parseFloat(1*Math.pow(10,0-o));r=parseFloat(l).toFixed(o)}else r=parseFloat(+(n||0)-1).toFixed(o);return r},ue=function(e,t){if(Q&&!ie){var r=le(t);T&&r<0||pe(r,!!t)}},pe=function(t,r){var n=Y?Y(t):t;r?e.setState({local_value:n}):V({target:{value:n,name:H}})},de=ee||Q;K&&(de=z?"".concat(Q," ").concat(K):"".concat(K," ").concat(Q));var fe=C&&("number"===J||"tel"===J),me=c.createElement(O,{ariaLabel:r,changeValue:function(e,t){if(K&&(e.target.value=e.target.value.replace(K,"").trim()),e.target.value!==Q||"checkbox"===J){if("number"===J||"tel"===J){var r=!e.target.value||""===e.target.value||"  "===e.target.value,n=N?"^([+-.0-9])":"^",o=new RegExp("".concat(n,"(\\d*)?").concat(x?"(\\.\\d+)?":"","$")).test(e.target.value),i=x&&new RegExp("".concat(n,"(\\.|\\d+\\.)?$")).test(e.target.value),a=new RegExp("".concat(n,"(\\d+)?\\.(\\d+)?[0]+$")).test(e.target.value),s=/e/.test("".concat(+e.target.value));if(U&&_&&(ne=new RegExp("".concat(n,"(\\d{0,").concat(U,"})(\\.\\d{0,").concat(_,"})?$")).test(e.target.value)),(o||r)&&ne)e.target.value=r||N||a||s||"tel"===J?e.target.value:+e.target.value;else if(!i)return void(e.target.value=Q)}V(e),t&&t(e)}},checked:n,current_focus:f,className:o()(fe?"input-wrapper__input":"",j?"input--has-inline-prefix":"","input",{"input--error":re},s),classNameInlinePrefix:a,data_tip:m,data_value:h,display_value:de,fractional_digits:_,has_error:re,id:w,inline_prefix:j,is_autocomplete_disabled:S,is_disabled:k,is_hj_whitelisted:P,is_incrementable:fe,is_read_only:A,max_length:U,name:H,onClick:B,onKeyPressed:function(e){38===e.keyCode&&ce(),40===e.keyCode&&ue()},placeholder:G,required:$,setCurrentFocus:Z,type:J}),he=c.createElement(g,{id:w,max_is_disabled:oe||!!k,incrementValue:ce,min_is_disabled:ie||T&&le()<0||!!k,decrementValue:ue,onLongPressEnd:function(){var t=e.state.local_value,r=Y?Y(t):t;V({target:{value:r,name:H}}),e.setState({local_value:void 0})},is_incrementable_on_long_press:D}),be=c.createElement(p.a,{className:o()("trade-container__tooltip",{"dc-tooltip--with-label":L}),alignment:y||"left",message:re?b[0]:null,has_error:re},!!L&&c.createElement("label",{htmlFor:H,className:"input-field__label"},L),!!v&&c.createElement("span",{className:"input-field__helper"},v),fe?c.createElement("div",{className:o()("input-wrapper",{"input-wrapper--disabled":!!k})},he,me):me);return c.createElement(c.Fragment,null,!!X&&c.createElement("div",{className:l},c.createElement("span",{className:o()("".concat(l,"--symbol"),"symbols","symbols--".concat(X.toLowerCase()))})),c.createElement("div",{className:o()("input-field",i),onClick:W},this.props.icon&&c.createElement(te,{onClick:B}),be))}}])&&k(t.prototype,r),n&&k(t,n),a}(c.Component);D.propTypes={ariaLabel:s.a.string,checked:s.a.oneOfType([s.a.number,s.a.string]),className:s.a.string,classNameInlinePrefix:s.a.string,classNameInput:s.a.string,classNamePrefix:s.a.string,currency:s.a.string,current_focus:s.a.string,error_messages:i.PropTypes.arrayOrObservableArray,error_message_alignment:s.a.string,fractional_digits:s.a.number,helper:s.a.string,icon:s.a.oneOfType([s.a.func,s.a.node]),id:s.a.string,inline_prefix:s.a.string,is_autocomplete_disabled:s.a.bool,is_disabled:s.a.string,is_float:s.a.bool,is_hj_whitelisted:s.a.bool,is_incrementable:s.a.bool,is_incrementable_on_long_press:s.a.bool,is_negative_disabled:s.a.bool,is_read_only:s.a.bool,is_signed:s.a.bool,is_unit_at_right:s.a.bool,label:s.a.string,max_length:s.a.number,name:s.a.string,onChange:s.a.func,onClick:s.a.func,onClickInputWrapper:s.a.func,placeholder:s.a.string,prefix:s.a.string,required:s.a.bool,setCurrentFocus:s.a.func,type:s.a.string,unit:s.a.string,value:s.a.oneOfType([s.a.number,s.a.string])};t.a=Object(d.b)((function(e){var t=e.ui;return{current_focus:t.current_focus,setCurrentFocus:t.setCurrentFocus}}))(D)},"./App/Components/Form/InputField/input-with-checkbox.jsx":function(e,t,r){"use strict";var n=r("../node_modules/prop-types/index.js"),o=r.n(n),i=r("mobx-react"),a=r("react"),s=r("@deriv/components/lib/checkbox"),c=r.n(s),l=(r("@deriv/components/lib/checkbox.css"),r("@deriv/components/lib/popover")),u=r.n(l),p=(r("@deriv/components/lib/popover.css"),r("@deriv/shared/utils/currency")),d=r.n(p),f=r("./App/Components/Form/InputField/input-field.jsx");function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var b=function(e){var t=e.classNameInlinePrefix,r=e.classNameInput,n=e.className,o=e.currency,i=e.defaultChecked,s=e.error_messages,l=e.is_disabled,p=e.is_single_currency,h=e.is_negative_disabled,b=e.is_input_hidden,y=e.label,_=e.name,v=e.max_value,g=e.onChange,w=e.checkbox_tooltip_label,O=e.error_message_alignment,j=e.tooltip_label,S=e.value,k=a.useRef(),x=a.useRef(),E=m(a.useState(i),2),P=E[0],C=E[1],D="has_".concat(_);a.useEffect((function(){C(i)}),[i]);var T=function(){setTimeout((function(){x.current.nextSibling.querySelector("input.input-wrapper__input").focus()}))},M=a.createElement(f.a,{className:n,classNameInlinePrefix:t,classNameInput:r,currency:o,error_messages:s,error_message_alignment:O,is_disabled:l?"disabled":void 0,fractional_digits:d.a.getDecimalPlaces(o),id:"dt_".concat(_,"_input"),inline_prefix:p?o:null,is_autocomplete_disabled:!0,is_float:!0,is_hj_whitelisted:!0,is_incrementable:!0,is_negative_disabled:h,max_length:10,max_value:v,name:_,onChange:g,onClickInputWrapper:l?void 0:function(){P||(C(!0),g({target:{name:D,value:!0}}),T())},type:"tel",value:S}),A=a.createElement(c.a,{className:"".concat(_,"-checkbox__input"),ref:k,id:"dt_".concat(_,"-checkbox_input"),onChange:function(e){var t=!P;g({target:{name:e.target.name,value:t}}),t&&T()},name:D,label:y,classNameLabel:"".concat(_,"-checkbox__label"),defaultChecked:i,disabled:l});return a.createElement(a.Fragment,null,a.createElement("div",{ref:x,className:"input-wrapper--inline"},w?a.createElement(u.a,{alignment:"left",classNameBubble:"trade-container__popover",is_bubble_hover_enabled:!0,margin:2,message:w,relative_render:!0},A):a.createElement(a.Fragment,null,A),j&&a.createElement(u.a,{alignment:"left",icon:"info",id:"dt_".concat(_,"-checkbox__tooltip"),message:j,margin:210,relative_render:!0})),!b&&M)};b.propTypes={checkbox_tooltip_label:o.a.oneOfType([o.a.node,o.a.object,o.a.string]),className:o.a.string,classNameInlinePrefix:o.a.string,classNameInput:o.a.string,classNamePrefix:o.a.string,currency:o.a.string,defaultChecked:o.a.bool,error_messages:i.PropTypes.arrayOrObservableArray,is_negative_disabled:o.a.bool,is_single_currency:o.a.bool,is_input_hidden:o.a.bool,label:o.a.string,max_value:o.a.number,name:o.a.string,onChange:o.a.func,tooltip_label:o.a.string,error_message_alignment:o.a.string,value:o.a.oneOfType([o.a.number,o.a.string])},t.a=b},"./App/Components/Routes/helpers.js":function(e,t,r){"use strict";r.d(t,"c",(function(){return a})),r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return c}));var n=r("react-router"),o=r("@deriv/shared/utils/routes"),i=r.n(o),a=function(e){return/^\//.test(e)?e:"/".concat(e||"")},s=function e(t,r){var o;return r.some((function(r){var i;try{i=Object(n.matchPath)(t,r)}catch(e){if(/undefined/.test(e.message))return}return i?(o=r,!0):!!r.routes&&(o=e(t,r.routes))})),o},c=function(e){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(t).reduce((function(e,r){return e.replace(":".concat(r),t[r])}),e)}(i.a.contract,{contract_id:e})}},"./App/Constants/app-config.js":function(e,t,r){"use strict";r.r(t),r.d(t,"website_domain",(function(){return n})),r.d(t,"website_name",(function(){return o})),r.d(t,"default_title",(function(){return i}));var n="Deriv.app",o="Deriv",i=o},"./App/Containers/remaining-time.jsx":function(e,t,r){"use strict";var n=r("../node_modules/prop-types/index.js"),o=r.n(n),i=r("react"),a=r("@deriv/translations"),s=r("./Stores/connect.js"),c=r("@deriv/shared/utils/date"),l=function(e){var t=e.end_time,r=void 0===t?null:t,n=e.start_time,o=e.format;if(!+r||n.unix()>+r)return"";var s=Object(c.formatDuration)(Object(c.getDiffDuration)(n.unix(),r),o),l=s.days,u=s.timestamp,p=u;return l>0&&(p="".concat(l," ").concat(l>1?Object(a.localize)("days"):Object(a.localize)("day")," ").concat(u)),!/^00:00$/.test(p)&&i.createElement("div",{className:"remaining-time"},p)};l.propTypes={end_time:o.a.oneOfType([o.a.number,o.a.string]),start_time:o.a.object},t.a=Object(s.b)((function(e){return{start_time:e.common.server_time}}))(l)},"./Constants/contract.js":function(e,t,r){"use strict";r.d(t,"d",(function(){return s})),r.d(t,"f",(function(){return c})),r.d(t,"e",(function(){return l})),r.d(t,"a",(function(){return u})),r.d(t,"b",(function(){return p})),r.d(t,"c",(function(){return d}));var n=r("@deriv/translations");function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s=function(){return{FRXAUDCAD:Object(n.localize)("AUD/CAD"),FRXAUDCHF:Object(n.localize)("AUD/CHF"),FRXAUDJPY:Object(n.localize)("AUD/JPY"),FRXAUDNZD:Object(n.localize)("AUD/NZD"),FRXAUDPLN:Object(n.localize)("AUD/PLN"),FRXAUDUSD:Object(n.localize)("AUD/USD"),FRXBROUSD:Object(n.localize)("Oil/USD"),FRXEURAUD:Object(n.localize)("EUR/AUD"),FRXEURCAD:Object(n.localize)("EUR/CAD"),FRXEURCHF:Object(n.localize)("EUR/CHF"),FRXEURGBP:Object(n.localize)("EUR/GBP"),FRXEURJPY:Object(n.localize)("EUR/JPY"),FRXEURNZD:Object(n.localize)("EUR/NZD"),FRXEURUSD:Object(n.localize)("EUR/USD"),FRXGBPAUD:Object(n.localize)("GBP/AUD"),FRXGBPCAD:Object(n.localize)("GBP/CAD"),FRXGBPCHF:Object(n.localize)("GBP/CHF"),FRXGBPJPY:Object(n.localize)("GBP/JPY"),FRXGBPNOK:Object(n.localize)("GBP/NOK"),FRXGBPUSD:Object(n.localize)("GBP/USD"),FRXNZDJPY:Object(n.localize)("NZD/JPY"),FRXNZDUSD:Object(n.localize)("NZD/USD"),FRXUSDCAD:Object(n.localize)("USD/CAD"),FRXUSDCHF:Object(n.localize)("USD/CHF"),FRXUSDJPY:Object(n.localize)("USD/JPY"),FRXUSDNOK:Object(n.localize)("USD/NOK"),FRXUSDPLN:Object(n.localize)("USD/PLN"),FRXUSDSEK:Object(n.localize)("USD/SEK"),FRXXAGUSD:Object(n.localize)("Silver/USD"),FRXXAUUSD:Object(n.localize)("Gold/USD"),FRXXPDUSD:Object(n.localize)("Palladium/USD"),FRXXPTUSD:Object(n.localize)("Platinum/USD"),OTC_AEX:Object(n.localize)("Dutch Index"),OTC_AS51:Object(n.localize)("Australian Index"),OTC_DJI:Object(n.localize)("Wall Street Index"),OTC_FCHI:Object(n.localize)("French Index"),OTC_FTSE:Object(n.localize)("UK Index"),OTC_GDAXI:Object(n.localize)("German Index"),OTC_HSI:Object(n.localize)("Hong Kong Index"),OTC_IBEX35:Object(n.localize)("Spanish Index"),OTC_N225:Object(n.localize)("Japanese Index"),OTC_NDX:Object(n.localize)("US Tech Index"),OTC_SPC:Object(n.localize)("US Index"),OTC_SSMI:Object(n.localize)("Swiss Index"),OTC_SX5E:Object(n.localize)("Euro 50 Index"),R_10:Object(n.localize)("Volatility 10 Index"),R_25:Object(n.localize)("Volatility 25 Index"),R_50:Object(n.localize)("Volatility 50 Index"),R_75:Object(n.localize)("Volatility 75 Index"),R_100:Object(n.localize)("Volatility 100 Index"),RDBEAR:Object(n.localize)("Bear Market Index"),RDBULL:Object(n.localize)("Bull Market Index"),WLDAUD:Object(n.localize)("AUD Index"),WLDEUR:Object(n.localize)("EUR Index"),WLDGBP:Object(n.localize)("GBP Index"),WLDUSD:Object(n.localize)("USD Index"),"1HZ10V":Object(n.localize)("Volatility 10 (1s) Index"),"1HZ100V":Object(n.localize)("Volatility 100 (1s) Index")}},c=function(){return{EXPIRYMISS:{name:Object(n.localize)("Ends Outside"),position:"top"},EXPIRYRANGE:{name:Object(n.localize)("Ends Between"),position:"bottom"},RANGE:{name:Object(n.localize)("Stays Between"),position:"top"},UPORDOWN:{name:Object(n.localize)("Goes Outside"),position:"bottom"},RESETCALL:{name:Object(n.localize)("Reset Call"),position:"top"},RESETPUT:{name:Object(n.localize)("Reset Put"),position:"bottom"},TICKHIGH:{name:Object(n.localize)("High Tick"),position:"top"},TICKLOW:{name:Object(n.localize)("Low Tick"),position:"bottom"},ASIANU:{name:Object(n.localize)("Asian Up"),position:"top"},ASIAND:{name:Object(n.localize)("Asian Down"),position:"bottom"},LBFLOATCALL:{name:Object(n.localize)("Close-to-Low"),position:"top"},LBFLOATPUT:{name:Object(n.localize)("High-to-Close"),position:"top"},LBHIGHLOW:{name:Object(n.localize)("High-to-Low"),position:"top"},CALLSPREAD:{name:Object(n.localize)("Spread Up"),position:"top"},PUTSPREAD:{name:Object(n.localize)("Spread Down"),position:"bottom"},RUNHIGH:{name:Object(n.localize)("Only Ups"),position:"top"},RUNLOW:{name:Object(n.localize)("Only Downs"),position:"bottom"}}},l=function(e){return{CALL:{name:e?Object(n.localize)("Higher"):Object(n.localize)("Rise"),position:"top"},PUT:{name:e?Object(n.localize)("Lower"):Object(n.localize)("Fall"),position:"bottom"},CALLE:{name:Object(n.localize)("Rise"),position:"top"},PUTE:{name:Object(n.localize)("Fall"),position:"bottom"},DIGITMATCH:{name:Object(n.localize)("Matches"),position:"top"},DIGITDIFF:{name:Object(n.localize)("Differs"),position:"bottom"},DIGITEVEN:{name:Object(n.localize)("Even"),position:"top"},DIGITODD:{name:Object(n.localize)("Odd"),position:"bottom"},DIGITOVER:{name:Object(n.localize)("Over"),position:"top"},DIGITUNDER:{name:Object(n.localize)("Under"),position:"bottom"},ONETOUCH:{name:Object(n.localize)("Touch"),position:"top"},NOTOUCH:{name:Object(n.localize)("No Touch"),position:"bottom"},MULTUP:{name:Object(n.localize)("Up"),position:"top"},MULTDOWN:{name:Object(n.localize)("Down"),position:"bottom"}}},u=function(e){return i(i({},l(e)),c())},p=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return u(t)[e]?u(t)[e.toUpperCase()].name:""},d=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return u(t)[e]?u(t)[e.toUpperCase()].position:"top"}},"./Constants/index.js":function(e,t,r){"use strict";r.d(t,"b",(function(){return n.d})),r.d(t,"d",(function(){return n.f})),r.d(t,"c",(function(){return n.e})),r.d(t,"a",(function(){return n.a}));var n=r("./Constants/contract.js")},"./Modules/Contract/Components/Digits/index.js":function(e,t,r){"use strict";r.d(t,"a",(function(){return re}));var n=r("../node_modules/classnames/index.js"),o=r.n(n),i=r("../node_modules/prop-types/index.js"),a=r.n(i),s=r("react"),c=r("mobx"),l=r("@deriv/components/lib/desktop-wrapper"),u=r.n(l),p=(r("@deriv/components/lib/desktop-wrapper.css"),r("@deriv/components/lib/mobile-wrapper")),d=r.n(p),f=(r("@deriv/components/lib/mobile-wrapper.css"),r("@deriv/components/lib/popover")),m=r.n(f),h=(r("@deriv/components/lib/popover.css"),r("@deriv/shared/utils/screen")),b=r("@deriv/translations"),y=r("./Stores/Modules/Contract/Helpers/logic.js"),_=r("./App/Components/Animations/index.js"),v=r("./Constants/index.js"),g=function(e){var t=e.current_spot,r=e.is_selected_winning,n=e.is_lost,i=e.is_won;return s.createElement(s.Fragment,null,s.createElement("span",{className:"digits__digit-spot-value"},t.slice(0,-1)),s.createElement("span",{className:o()("digits__digit-spot-last",{"digits__digit-spot-last--selected-win":r,"digits__digit-spot-last--win":i,"digits__digit-spot-last--loss":n})},t.slice(-1)))};g.propTypes={current_spot:a.a.string,is_lost:a.a.bool,is_won:a.a.bool};var w=g,O=r("mobx-react"),j=function(e){var t=e.is_latest,r=e.is_lost,n=e.is_selected,i=e.is_won,a=e.percentage,c=e.value,l=a&&!isNaN(a)?parseFloat(a).toFixed(1):null;return s.createElement(s.Fragment,null,s.createElement("span",{className:o()("digits__digit-value",{"digits__digit-value--latest":t,"digits__digit-value--selected":n,"digits__digit-value--win":i&&t,"digits__digit-value--loss":r&&t})},s.createElement("i",{className:o()("digits__digit-display-value",{"digits__digit-display-value--no-stats":!l})},c),!!l&&s.createElement("i",{className:"digits__digit-display-percentage"},l,"%")))};j.propTypes={is_latest:a.a.bool,is_lost:a.a.bool,is_selected:a.a.bool,is_trade_page:a.a.bool,is_won:a.a.bool,value:a.a.number};var S=j,k=function(e){var t=e.is_max,r=e.is_min,n=e.is_selected,i=e.percentage,a=(i-10)/4;a=((a=Math.min(Math.max(a,-1),1))+1)/2*.85+.15;var c=339.292,l=(20*i-102)/3/100;return l=Math.max(Math.min(l,.66),.06),s.createElement("div",{className:o()("digits__pie-container",{"digits__pie-container--selected":n})},s.createElement("svg",{className:"digits__pie-progress",width:"120",height:"120",viewBox:"0 0 120 120"},s.createElement("circle",{className:"progress__bg",cx:"60",cy:"60",r:"54",fill:"none",stroke:"#E8EEFC",strokeWidth:"12"}),i&&s.createElement("circle",{className:o()("progress__value",{"progress__value--is-max":t,"progress__value--is-min":r}),cx:"60",cy:"60",r:"54",fill:"none",strokeOpacity:t||r?1:a,strokeWidth:"12",strokeDasharray:[c*l,c*(1-l)],strokeDashoffset:c*((l+1)/2)})))};k.propTypes={is_max:a.a.bool,is_min:a.a.bool,percentage:a.a.number};var x=k,E=function(e){var t=e.barrier,r=e.is_digit_contract,n=e.has_entry_spot,i=e.is_lost,a=e.is_max,c=e.is_min,l=e.is_won,p=e.onSelect,d=e.latest_digit,f=e.selected_digit,m=e.status,b=e.stats,y=e.value,v=e.onLastDigitSpot,g=d.digit,O=d.spot,j=y===g,k=y===t,E=g===t,P=b?100*b/1e3:null;s.useEffect((function(){v&&v({spot:O,is_lost:i,is_selected_winning:E,is_latest:j,is_won:l})}),[d,O,t,y]);var C=Object(h.isMobile)()&&"function"==typeof p&&!m,D=Object(h.isMobile)()&&y===f&&!m;return s.createElement("div",{className:o()("digits__digit",{"digits__digit--latest":j,"digits__digit--win":l&&j,"digits__digit--loss":i&&j,"digits__digit--is-selectable":C,"digits__digit--is-selected":D}),onClick:function(){C&&p(y)}},s.createElement(x,{is_min:c,is_max:a,is_selected:k,percentage:P}),s.createElement(u.a,null,s.createElement(_.a,{is_visible:!!(r&&j&&O&&m&&n),className:"digits__digit-spot",keyname:"digits__digit-spot"},s.createElement(w,{current_spot:O,is_lost:i,is_selected_winning:E,is_visible:!(!j||!O),is_won:l}))),s.createElement(S,{is_latest:j,is_lost:i,is_selected:k,is_won:l,percentage:P,value:y}))};E.propTypes={barrier:a.a.number,has_entry_spot:a.a.bool,is_lost:a.a.bool,is_won:a.a.bool,latest_digit:a.a.object,value:a.a.number};var P=Object(O.observer)(E),C=r("@deriv/components/lib/icon"),D=r.n(C),T=(r("@deriv/components/lib/icon.css"),function(e){var t=e.is_lost,r=e.is_trade_page,n=e.is_won,i=e.position;return s.createElement(s.Fragment,null,!!i&&s.createElement("span",{className:"digits__pointer",style:{transform:"translate3d(calc(".concat(i.left,"px), ").concat(i.top,"px, 0px)")}},s.createElement(D.a,{icon:"IcProfit",className:o()("digits__icon",{"digits__icon--win":n&&!r,"digits__icon--loss":t&&!r}),color:n?"green":"red",custom_color:n||t?void 0:"var(--brand-orange)"})))});T.propTypes={is_lost:a.a.bool,is_won:a.a.bool,position:a.a.object};var M=T;function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R(e){return function(e){if(Array.isArray(e))return N(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return N(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return N(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function I(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function z(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function L(e,t){return(L=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function U(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=F(e);if(t){var o=F(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return q(this,r)}}function q(e,t){return!t||"object"!==A(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function F(e){return(F=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var H=Array.from(Array(10).keys()),Y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&L(e,t)}(a,e);var t,r,n,i=U(a);function a(){var e;I(this,a);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=i.call.apply(i,[this].concat(r))).digit_offset={0:{left:6,top:0},1:{left:6+1*e.props.dimension,top:0},2:{left:6+2*e.props.dimension,top:0},3:{left:6+3*e.props.dimension,top:0},4:{left:6+4*e.props.dimension,top:0},5:{left:6+5*e.props.dimension,top:0},6:{left:6+6*e.props.dimension,top:0},7:{left:6+7*e.props.dimension,top:0},8:{left:6+8*e.props.dimension,top:0},9:{left:6+9*e.props.dimension,top:0}},e.digit_offset_mobile={0:{left:6,top:-60},1:{left:6+1*e.props.dimension,top:-60},2:{left:6+2*e.props.dimension,top:-60},3:{left:6+3*e.props.dimension,top:-60},4:{left:6+4*e.props.dimension,top:-60},5:{left:6+0*e.props.dimension,top:8},6:{left:6+1*e.props.dimension,top:8},7:{left:6+2*e.props.dimension,top:8},8:{left:6+3*e.props.dimension,top:8},9:{left:6+4*e.props.dimension,top:8}},e.handleSelect=function(t){e.is_selectable_digit_type&&t!==e.props.selected_digit&&"function"==typeof e.props.onDigitChange&&e.props.onDigitChange({target:{name:"last_digit",value:t}})},e.getBarrier=function(t){var r=e.props,n=r.barrier,o=r.contract_type,i={DIGITMATCH:function(e){return e===n},DIGITDIFF:function(e){return e!==n&&!isNaN(n)},DIGITOVER:function(e){return e>n},DIGITUNDER:function(e){return e<n},DIGITODD:function(e){return e%2},DIGITEVEN:function(e){return!(e%2)}};return o&&i[o]&&i[o](t)?t:null},e}return t=a,(r=[{key:"render",value:function(){var e=this,t=this.props,r=t.digits,n=t.digits_info,i=t.is_digit_contract,a=t.has_entry_spot,c=t.is_ended,l=t.is_trade_page,u=t.tick,p=t.selected_digit,d=t.status,f=Object.keys(n).sort().map((function(e){return n[e]})).slice(-1)[0]||{},m=c&&"won"===d&&i,h=c&&"lost"===d&&i,b=r?Math.min.apply(Math,R(r)):null,y=r?Math.max.apply(Math,R(r)):null,_=u?+u.pip_size:null,v=u&&u.ask?u.ask.toFixed(_):null,g=v?+v.split("").pop():null,w=u?this.offset[g]:this.offset[f.digit],O=m||h?f:{digit:g,spot:v};return s.createElement("div",{ref:function(t){return e.node=t},className:o()("digits",{"digits--trade":l})},H.map((function(t){return s.createElement(P,{barrier:e.getBarrier(t),has_entry_spot:a,is_digit_contract:i,is_lost:h,is_trade_page:l,is_won:m,key:t,is_max:r?r[t]===y:null,is_min:r?r[t]===b:null,stats:r?r[t]:null,status:d,latest_digit:l?O:f,value:t,onLastDigitSpot:e.props.onLastDigitSpot,onSelect:e.is_selectable_digit_type?e.handleSelect:null,selected_digit:!!e.is_selectable_digit_type&&p})})),s.createElement(M,{is_lost:h,is_trade_page:l,is_won:m,position:w}))}},{key:"offset",get:function(){return Object(h.isMobile)()?this.digit_offset_mobile:this.digit_offset}},{key:"is_selectable_digit_type",get:function(){return!!Object(h.isMobile)()&&"even_odd"!==this.props.trade_type}}])&&z(t.prototype,r),n&&z(t,n),a}(s.Component);Y.propTypes={barrier:a.a.number,contract_type:a.a.string,digits_info:a.a.object,is_ended:a.a.bool,status:a.a.string,trade_type:a.a.string,onDigitChange:a.a.func,selected_digit:a.a.number};var V=Object(O.observer)(Y);r("./sass/app/modules/contract/digits.scss");function B(e){return(B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function W(){return(W=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function G(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function X(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function $(e,t){return($=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=K(e);if(t){var o=K(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return J(this,r)}}function J(e,t){return!t||"object"!==B(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function K(e){return(K=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Q(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var ee=function(e){var t=e.contract_info,r=e.digits_array,n=e.digits_info,o=e.display_status,i=e.is_digit_contract,a=e.is_ended,l=e.is_trade_page,u=e.onDigitChange,p=e.selected_digit,d=e.trade_type,f=Q(e,["contract_info","digits_array","digits_info","display_status","is_digit_contract","is_ended","is_trade_page","onDigitChange","selected_digit","trade_type"]),m=t.date_start,b=f.tick,_=!l||!!b,v=!!l&&Object(y.l)(t,b),g=!v&&_?o:null;if(m&&!v){b=null;var w=t.tick_stream;if(w&&w.length){var O=Object(c.toJS)(w.slice(-1)[0]);b={ask:O.tick,bid:O.tick,epoch:O.epoch,pip_size:O.tick_display_value.split(".")[1].length,current_tick:w.length}}}return s.useEffect((function(){f.onChangeStatus&&f.onChangeStatus({status:g,current_tick:b?b.current_tick:null})}),[b,l,o]),s.createElement(V,{dimension:Object(h.isMobile)()?64:52,has_entry_spot:!!t.entry_tick,barrier:!v&&_?+t.barrier:null,contract_type:!v&&_?t.contract_type:null,digits:r,digits_info:!v&&_?n:{},is_digit_contract:i,is_ended:a,is_trade_page:l,status:g,tick:b,trade_type:d,onDigitChange:u,selected_digit:p,onLastDigitSpot:f.onLastDigitSpot})},te=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$(e,t)}(a,e);var t,r,n,i=Z(a);function a(){var e;G(this,a);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=i.call.apply(i,[this].concat(r))).state={mounted:!1},e.onChangeStatus=function(t){var r=t.status,n=t.current_tick;e.setState({status:r,current_tick:n})},e.onLastDigitSpot=function(t){var r=t.spot,n=t.is_lost,o=t.is_selected_winning,i=t.is_latest,a=t.is_won;e.setState({spot:r,is_lost:n,is_selected_winning:o,is_latest:i,is_won:a})},e}return t=a,(r=[{key:"componentDidMount",value:function(){this.setState({mounted:!0})}},{key:"render",value:function(){var e=this.props,t=e.contract_info,r=e.digits_array,n=e.is_digit_contract,i=e.is_trade_page,a=this.state,c=a.status,l=a.spot,p=a.is_lost,f=a.is_selected_winning,h=a.is_latest,y=a.is_won,v=a.current_tick;return s.createElement(s.Fragment,null,s.createElement(u.a,null,s.createElement(_.b,{is_visible:(r||n)&&this.state.mounted,className:"digits__container",keyname:"digits",type:"bottom"},i&&s.createElement("div",{className:"digits__tooltip-container"},s.createElement(m.a,{alignment:"top",classNameBubble:"digits__tooltip-bubble",icon:"info",id:"dt_last_digits_info_tooltip",margin:4,message:this.popover_message})),s.createElement(ee,this.props))),s.createElement(d.a,null,s.createElement("div",{className:"digits__container"},s.createElement(_.a,{is_visible:!!(n&&c&&l&&t.entry_tick),className:o()("digits__digit-spot",{"digits__digit-spot--is-trading":i}),keyname:"digits__digit-spot"},i&&s.createElement("span",{className:"digits__digit-spot-value"},s.createElement(b.Localize,{i18n_default_text:"Tick {{current_tick}} - ",values:{current_tick:v}})),s.createElement(w,{current_spot:l,is_lost:p,is_selected_winning:f,is_visible:!(!h||!l),is_won:y})),s.createElement(ee,W({},this.props,{onChangeStatus:this.onChangeStatus,onLastDigitSpot:this.onLastDigitSpot})))))}},{key:"popover_message",get:function(){var e=this.props,t=e.contract_info,r=e.is_trade_page,n=e.underlying,o=r?n:t.underlying;return Object(b.localize)("Last digit stats for latest 1000 ticks for {{underlying_name}}",{underlying_name:Object(v.b)()[o.toUpperCase()]})}}])&&X(t.prototype,r),n&&X(t,n),a}(s.PureComponent);te.propTypes={contract_info:a.a.object,digits_info:a.a.object,display_status:a.a.string,is_digit_contract:a.a.bool,is_ended:a.a.bool,is_trade_page:a.a.bool,trade_type:a.a.string,onDigitChange:a.a.func,selected_digit:a.a.number};var re=te},"./Modules/Reports/Helpers/market-underlying.js":function(e,t,r){"use strict";r.d(t,"b",(function(){return o})),r.d(t,"c",(function(){return i})),r.d(t,"d",(function(){return a})),r.d(t,"a",(function(){return s}));var n=r("./Constants/index.js"),o=function(e){var t={category:"",underlying:""},r=new RegExp("^([A-Z]+)_((OTC_[A-Z0-9]+)|R_[\\d]{2,3}|[A-Z]+)_").exec(e);return null!==r&&(t.category=r[1].toLowerCase(),t.underlying=r[2]),t},i=function(e){return e?Object(n.b)()[e.toUpperCase()]:null},a=function(e){return e?Object(n.a)()[e.toUpperCase()].name:null},s=function(e){var t=new RegExp("ticks|tick|seconds|minutes|minute|hour|hours").exec(e);if(null!==t){var r=t[0],n=r[0].toUpperCase()+r.slice(1);return n.endsWith("s")?n:"".concat(n,"s")}return"Days"}},"./Modules/Reports/Helpers/shortcode.js":function(e,t){var r,n={extractInfoFromShortcode:r=function(e){var t={category:"",underlying:"",barrier_1:""},r=new RegExp("^([A-Z]+)_((1HZ[0-9-V]+)|(OTC_[A-Z0-9]+)|R_[\\d]{2,3}|[A-Z]+)").exec(e);return null!==r&&(t.category=r[1].toLowerCase(),t.underlying=r[2],/^(CALL|PUT)$/i.test(t.category)&&(t.barrier_1=e.split("_").slice(-2)[0])),t},isHighLow:function(e){var t=e.shortcode,n=void 0===t?"":t,o=e.shortcode_info,i=void 0===o?"":o,a=n?r(n):i;return!(!a||!a.barrier_1||/^S0P$/.test(a.barrier_1))},isMultiplier:function(e){var t=e.shortcode,n=void 0===t?"":t,o=e.shortcode_info,i=void 0===o?"":o,a=n?r(n):i;return!(!a||!a.category)&&/^mult(up|down)$/.test(a.category)}};e.exports=n},"./Modules/SmartChart/Components/bottom-widgets.jsx":function(e,t,r){"use strict";var n=r("../node_modules/prop-types/index.js"),o=r.n(n),i=r("react"),a=function(e){var t=e.Digits;return i.createElement("div",{className:"bottom-widgets"},t)};a.propTypes={Digits:o.a.node},t.a=a},"./Modules/SmartChart/Components/top-widgets.jsx":function(e,t,r){"use strict";var n=r("../node_modules/prop-types/index.js"),o=r.n(n),i=r("react"),a=r("react-dom"),s=r.n(a),c=r("@deriv/components/lib/desktop-wrapper"),l=r.n(c),u=(r("@deriv/components/lib/desktop-wrapper.css"),r("@deriv/components/lib/mobile-wrapper")),p=r.n(u),d=(r("@deriv/components/lib/mobile-wrapper.css"),r("@deriv/translations")),f=r("./Stores/connect.js"),m=r("./Modules/SmartChart/index.js"),h=r("./Stores/Modules/Contract/Helpers/logic.js"),b=r("./Stores/Modules/Contract/Helpers/digits.js"),y=Object(f.b)((function(e){var t=e.modules;return{granularity:t.contract_trade.granularity,markers_array:t.contract_trade.markers_array}}))((function(e){var t=e.markers_array,r=e.granularity,n=t[t.length-1];if(!n||!n.contract_info.tick_stream)return null;if(Object(h.m)(n.contract_info)||0!==r)return null;var o=n.contract_info,a=o.contract_type,s=o.tick_stream,c=o.tick_count,l=Object(b.b)(a)?s.length:Math.max(s.length-1,0);return i.createElement("span",{className:"recent-trade-info"},Object(d.localize)("Tick")," ",l,"/",c)})),_=function(e){var t=e.InfoBox,r=e.is_mobile,n=e.is_title_enabled,o=void 0===n||n,a=e.onSymbolChange,c=e.y_axis_width,u=e.theme,d=e.is_digits_widget_active,f=i.createElement(m.c,{enabled:o,onChange:a,searchInputClassName:"data-hj-whitelist",isNestedList:r,portalNodeId:r?"deriv_app":void 0}),h=s.a.createPortal(i.createElement("div",{className:"smartcharts-".concat(u)},i.createElement("div",{className:"top-widgets-portal",style:{width:"calc(100% - ".concat(c?c+5:0,"px)")}},f,!d&&i.createElement(y,null))),document.getElementById("app_contents"));return i.createElement(i.Fragment,null,t,i.createElement(p.a,null,h),i.createElement(l.a,null,f),i.createElement(m.a,null))};_.propTypes={InfoBox:o.a.node,is_mobile:o.a.bool,is_title_enabled:o.a.bool,onSymbolChange:o.a.func},t.a=_},"./Modules/SmartChart/index.js":function(e,t,r){"use strict";r.d(t,"h",(function(){return s})),r.d(t,"a",(function(){return c})),r.d(t,"c",(function(){return l})),r.d(t,"b",(function(){return u})),r.d(t,"d",(function(){return p})),r.d(t,"g",(function(){return d})),r.d(t,"i",(function(){return f})),r.d(t,"k",(function(){return m})),r.d(t,"j",(function(){return h})),r.d(t,"e",(function(){return b})),r.d(t,"f",(function(){return y}));var n=r("react"),o=r("@deriv/shared/utils/url"),i=Promise.resolve().then(r.t.bind(null,"@deriv/deriv-charts",7));i.then((function(e){(0,e.setSmartChartsPublicPath)(Object(o.getUrlBase)("/js/smartcharts/"))}));var a=function(e){return function(){return i.then((function(t){return{default:t[e]}}))}},s=n.lazy(a("SmartChart")),c=n.lazy(a("AssetInformation")),l=n.lazy(a("ChartTitle")),u=(a("ChartSize"),n.lazy(a("ChartMode"))),p=(a("Comparison"),n.lazy(a("DrawTools"))),d=n.lazy(a("Share")),f=n.lazy(a("StudyLegend")),m=n.lazy(a("Views")),h=n.lazy(a("ToolbarWidget")),b=n.lazy(a("FastMarker")),y=n.lazy(a("RawMarker"))},"./Modules/Trading/Components/Elements/popover-message-checkbox.jsx":function(e,t,r){"use strict";var n=r("../node_modules/prop-types/index.js"),o=r.n(n),i=r("@deriv/components/lib/checkbox"),a=r.n(i),s=(r("@deriv/components/lib/checkbox.css"),r("react")),c=r("@deriv/translations"),l=function(e){var t=e.defaultChecked,r=e.onChange,n=e.message,o=e.name;return s.createElement(s.Fragment,null,n,s.createElement(a.a,{defaultChecked:t,onChange:r,name:o,label:Object(c.localize)("Don't show this again")}))};l.propTypes={defaultChecked:o.a.bool,message:o.a.string,name:o.a.string,onChange:o.a.func},t.a=l},"./Modules/Trading/Containers/toast-error-popup.jsx":function(e,t,r){"use strict";r.d(t,"a",(function(){return _}));var n=r("../node_modules/classnames/index.js"),o=r.n(n),i=r("../node_modules/prop-types/index.js"),a=r.n(i),s=r("@deriv/components/lib/mobile-wrapper"),c=r.n(s),l=(r("@deriv/components/lib/mobile-wrapper.css"),r("@deriv/components/lib/toast-error")),u=r.n(l),p=(r("@deriv/components/lib/toast-error.css"),r("react")),d=r("react-dom"),f=r.n(d),m=r("./Stores/connect.js");function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}t.b=Object(m.b)((function(e){var t=e.ui;return{should_show_toast_error:t.should_show_toast_error,setToastErrorVisibility:t.setToastErrorVisibility,mobile_toast_error:t.mobile_toast_error,mobile_toast_timeout:t.mobile_toast_timeout}}))((function(e){var t=e.className,r=e.portal_id,n=e.should_show_toast_error,o=e.setToastErrorVisibility,i=e.mobile_toast_error,a=e.mobile_toast_timeout;return document.getElementById(r)?f.a.createPortal(p.createElement(u.a,{className:t,is_open:n,onClose:function(){return o(!1)},timeout:a},i),document.getElementById(r)):null}));var y=function(e){var t=e.status,r=e.portal_id,n=e.message;if(!document.getElementById(r)||!n)return null;var i=h(p.useState(!1),2),a=i[0],s=i[1];return a||"online"===t?a&&"online"===t&&setTimeout((function(){s(!1)}),1500):s(!0),f.a.createPortal(p.createElement(c.a,null,p.createElement(u.a,{className:o()({"dc-toast-error--blinker":"blinker"===t}),is_open:a,timeout:0},n)),document.getElementById(r))};y.propTypes={portal_id:a.a.string,status:a.a.string,message:a.a.string};var _=Object(m.b)((function(e){var t=e.common;return{is_positions_drawer_on:e.ui.is_positions_drawer_on,network_status:t.network_status}}))((function(e){var t=e.is_positions_drawer_on,r=e.network_status;return p.createElement(y,{portal_id:t?"modal_root":"deriv_app",message:r.tooltip,status:r.class})}))},"./Modules/Trading/Helpers/digits.js":function(e,t,r){"use strict";r.d(t,"b",(function(){return i})),r.d(t,"a",(function(){return a}));var n=["even_odd","match_diff","over_under"],o=["DIGITDIFF","DIGITMATCH","DIGITOVER","DIGITUNDER","DIGITEVEN","DIGITODD"],i=function(e){return n.includes(e)},a=function(e){return o.includes(e)}},"./Services/ws-methods.js":function(e,t,r){"use strict";var n;r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o}));var o=function(e){n=e}},"./Stores/Modules/Contract/Helpers/digits.js":function(e,t,r){"use strict";r.d(t,"b",(function(){return a})),r.d(t,"a",(function(){return s}));var n=r("./Stores/Modules/Contract/Helpers/logic.js");function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=function(e){return/digit/i.test(e)},s=function(e,t){var r=t.tick_stream,a=Object(n.i)(r),s=a.tick_display_value,l=a.epoch;return s&&l?function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},l in e?{}:c(s,l)):{}},c=function(e,t){return i({},+t,{digit:+"".concat(e).slice(-1),spot:e})}},"./Stores/Modules/Contract/Helpers/limit-orders.js":function(e,t,r){"use strict";r.d(t,"c",(function(){return c})),r.d(t,"b",(function(){return l})),r.d(t,"a",(function(){return u}));var n=r("./Stores/Modules/Contract/Helpers/multiplier.js"),o=r("./Stores/Modules/SmartChart/Constants/barriers.js"),i=r("./Stores/Modules/SmartChart/chart-barrier-store.js"),a=r("./Stores/Modules/SmartChart/Helpers/barriers.js"),s={STOP_OUT:"stop_out",TAKE_PROFIT:"take_profit",STOP_LOSS:"stop_loss"},c=function(e){var t=e.barriers,r=e.contract_type,c=e.contract_info,l=void 0===c?{}:c;if(e.is_over&&function(e,t){return Object(n.a)(e)&&t.limit_order}(r,l)){var u=Object.values(s),p=Object.keys(l.limit_order).some((function(e){return e===s.STOP_LOSS&&l.limit_order[e].value}));u.forEach((function(e){var r=l.limit_order[e];if(r&&r.value){var n=t.find((function(t){return t.key===e}));if(n){if(n.high===+r.value)return;n.onChange({high:r.value})}else{var c={key:e,title:"".concat(r.display_name),color:e===s.TAKE_PROFIT?o.a.GREEN:o.a.ORANGE,draggable:!1,lineStyle:e===s.STOP_OUT?o.b.DOTTED:o.b.SOLID,hidePriceLines:p&&e===s.STOP_OUT,hideOffscreenLine:!0,showOffscreenArrows:!0,isSingleBarrier:!0,opacityOnOverlap:e===s.STOP_OUT&&.15};n=new i.a(r.value),Object.assign(n,c),t.push(n)}}else Object(a.c)(t,e)}))}else{Object.values(s).forEach((function(e){return Object(a.c)(t,e)}))}},l=function(e){var t=e.stop_loss,r=(t=void 0===t?{}:t).order_amount,n=e.take_profit;return{stop_loss:r,take_profit:(n=void 0===n?{}:n).order_amount}},u=function(e){var t=e.has_contract_update_stop_loss,r=e.has_contract_update_take_profit,n=e.contract_update_stop_loss,o=e.contract_update_take_profit,i={};return i.take_profit=r?+o:null,i.stop_loss=t?+n:null,i}},"./Stores/Modules/Contract/Helpers/logic.js":function(e,t,r){"use strict";r.d(t,"c",(function(){return u})),r.d(t,"d",(function(){return f})),r.d(t,"f",(function(){return b})),r.d(t,"l",(function(){return y})),r.d(t,"h",(function(){return v})),r.d(t,"b",(function(){return g})),r.d(t,"i",(function(){return w})),r.d(t,"m",(function(){return O})),r.d(t,"n",(function(){return j})),r.d(t,"o",(function(){return S})),r.d(t,"p",(function(){return k})),r.d(t,"k",(function(){return x})),r.d(t,"q",(function(){return E})),r.d(t,"g",(function(){return P})),r.d(t,"j",(function(){return C})),r.d(t,"a",(function(){return D})),r.d(t,"e",(function(){return T}));var n=r("../node_modules/moment/moment.js"),o=r.n(n),i=r("@deriv/shared/utils/object"),a=r.n(i),s=r("./_common/base/server_time.js"),c=r.n(s),l=r("./Stores/Modules/Contract/Helpers/limit-orders.js"),u=function(e){if(a.a.isEmptyObject(e))return null;var t=e.date_start,r=P(e),n=m(t,r||null),o=f(t,r||null);return{chart_type:e.tick_count?"mountain":o,granularity:e.tick_count?0:n,end_epoch:r,start_epoch:t,scroll_to_epoch:e.purchase_time}},p=[[1,0],[2,120],[6,600],[24,900],[120,3600],[720,14400]],d=function(e){return e||c.a.get().unix()},f=function(e,t){return o.a.duration(o.a.unix(d(t)).diff(o.a.unix(e))).asHours()<=1?"mountain":"candle"},m=function(e,t){return h(d(t)-e)},h=function(e){return(p.find((function(t){return e<=3600*t[0]}))||[null,86400])[1]},b=function(e){var t="purchased";return O(e)&&(t=e.profit>=0?"won":"lost"),t},y=function(e,t){if(a.a.isEmptyObject(t)||a.a.isEmptyObject(e))return!1;var r=P(e);return!(!r||!t.epoch)&&o.a.duration(o.a.unix(t.epoch).diff(o.a.unix(r))).asSeconds()>=2},_=function(e){return+(e.sell_price||e.bid_price)},v=function(e){return _(e)&&O(e)?_(e):+e.bid_price||null},g=function(e){var t=e.cancellation,r=(t=void 0===t?{}:t).ask_price;return void 0===r?0:r},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e[e.length-1]||{}},O=function(e){return!!(e.status&&"open"!==e.status||e.is_expired||e.is_settleable)},j=function(e){return"cancelled"===e.status},S=function(e){return"sold"===e.status},k=function(e){return!!e.is_valid_to_cancel},x=function(e){return!!(e.cancellation.date_expiry<c.a.get().unix())},E=function(e){return!O(e)&&!S(e)&&1==+e.is_valid_to_sell},P=function(e){var t=e.exit_tick_time,r=e.date_expiry,n=e.is_expired,o=e.is_path_dependent,i=e.sell_time,a=e.status,s=e.tick_count;if(n&&"open"!==a||S(e)||j(e))return S(e)?i>r?r:i:!s&&i>r||r>t&&!+o?r:t},C=function(e){var t=e.contract_trade,r=t.contract_id,n=t.getContractById(r).contract_info;return n.bid_price-n.buy_price},D=function(e){var t=e.contract_trade,r=t.contract_id;return t.getContractById(r).contract_info.buy_price},T=function(e){var t=e.contract_update,r=e.limit_order,n=Object(l.b)(r||t),o=n.stop_loss,i=n.take_profit;return{contract_update_stop_loss:o?Math.abs(o).toString():"",contract_update_take_profit:i?i.toString():"",has_contract_update_stop_loss:!!o,has_contract_update_take_profit:!!i}}},"./Stores/Modules/Contract/Helpers/multiplier.js":function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n=function(e){return/MULT/i.test(e)}},"./Stores/Modules/MT5/Helpers/mt5-config.js":function(e,t,r){"use strict";r.d(t,"c",(function(){return o})),r.d(t,"b",(function(){return i})),r.d(t,"a",(function(){return a}));var n=r("@deriv/translations"),o=function(){var e={account_type:"",leverage:500,short_title:Object(n.localize)("Synthetic")},t={account_type:"financial",leverage:1e3,short_title:Object(n.localize)("Financial")},r={account_type:"financial_stp",leverage:100,short_title:Object(n.localize)("Financial STP")};return{demo:{synthetic:{mt5_account_type:e.account_type,leverage:e.leverage,title:Object(n.localize)("Demo Synthetic"),short_title:e.short_title},financial:{mt5_account_type:t.account_type,leverage:t.leverage,title:Object(n.localize)("Demo Financial"),short_title:t.short_title},financial_stp:{mt5_account_type:r.account_type,leverage:r.leverage,title:Object(n.localize)("Demo Financial STP"),short_title:r.short_title}},real:{synthetic:{mt5_account_type:e.account_type,leverage:e.leverage,title:Object(n.localize)("Real Synthetic"),short_title:e.short_title},financial:{mt5_account_type:t.account_type,leverage:t.leverage,title:Object(n.localize)("Real Financial"),short_title:t.short_title},financial_stp:{mt5_account_type:r.account_type,leverage:r.leverage,title:Object(n.localize)("Real Financial STP"),short_title:r.short_title}}}},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t={real_svg:{type:"synthetic",category:"real"},real_svg_standard:{type:"financial",category:"real"},real_vanuatu_standard:{type:"financial",category:"real"},real_labuan_advanced:{type:"financial_stp",category:"real"},demo_svg:{type:"synthetic",category:"demo"},demo_svg_standard:{type:"financial",category:"demo"},demo_vanuatu_standard:{type:"financial",category:"demo"},demo_labuan_advanced:{type:"financial_stp",category:"demo"}};return void 0!==e?t[e]&&t[e].type?t[e]:{type:"",category:""}:t},a=function(e){var t=e.category,r=e.type;return{real:{synthetic:{account_type:"gaming"},financial:{account_type:"financial",mt5_account_type:"standard"},financial_stp:{account_type:"financial",mt5_account_type:"advanced"}},demo:{synthetic:{account_type:"demo"},financial:{account_type:"demo",mt5_account_type:"standard"},financial_stp:{account_type:"demo",mt5_account_type:"advanced"}}}[t][r]}},"./Stores/Modules/MT5/mt5-store.js":function(e,t,r){"use strict";r.d(t,"a",(function(){return le}));var n,o,i,a,s,c,l,u,p,d,f,m,h,b,y,_,v,g,w,O,j,S,k,x,E,P,C,D,T,M,A,R,N,I,z,L,U,q,F,H,Y=r("mobx"),V=r("./Services/ws-methods.js"),B=r("./Stores/base-store.js"),W=r("./Stores/Modules/MT5/Helpers/mt5-config.js");function G(e){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function X(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function $(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){X(i,n,o,a,s,"next",e)}function s(e){X(i,n,o,a,s,"throw",e)}a(void 0)}))}}function Z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function J(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(r),!0).forEach((function(t){K(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function K(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ee(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ee(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function te(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function re(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ne(e,t){return(ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function oe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=se(e);if(t){var o=se(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return ie(this,r)}}function ie(e,t){return!t||"object"!==G(t)&&"function"!=typeof t?ae(e):t}function ae(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function se(e){return(se=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ce(e,t,r,n,o){var i={};return Object.keys(n).forEach((function(e){i[e]=n[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var le=(n=Y.action.bound,o=Y.action.bound,i=Y.action.bound,a=Y.action.bound,s=Y.action.bound,c=Y.action.bound,l=Y.action.bound,u=Y.action.bound,p=Y.action.bound,d=Y.action.bound,f=Y.action.bound,m=Y.action.bound,h=Y.action.bound,b=Y.action.bound,y=Y.action.bound,_=Y.action.bound,v=Y.action.bound,g=Y.action.bound,w=Y.action.bound,O=Y.action.bound,j=Y.action.bound,S=Y.action.bound,k=Y.action.bound,x=Y.action.bound,E=Y.action.bound,P=Y.action.bound,H=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ne(e,t)}(c,e);var t,r,n,o,i,a,s=oe(c);function c(e){var t,r=e.root_store;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),te(t=s.call(this,{root_store:r}),"is_compare_accounts_visible",D,ae(t)),te(t,"account_type",T,ae(t)),te(t,"new_account_response",M,ae(t)),te(t,"map_type",A,ae(t)),te(t,"has_mt5_error",R,ae(t)),te(t,"error_message",N,ae(t)),te(t,"is_mt5_success_dialog_enabled",I,ae(t)),te(t,"is_mt5_financial_stp_modal_open",z,ae(t)),te(t,"is_mt5_password_modal_enabled",L,ae(t)),te(t,"is_mt5_reset_password_modal_enabled",U,ae(t)),te(t,"is_mt5_pending_dialog_open",q,ae(t)),te(t,"current_account",F,ae(t)),t}return t=c,r=[{key:"onMount",value:function(){this.checkShouldOpenAccount(),this.onRealAccountSignupEnd(this.realAccountSignupEndListener),this.root_store.ui.is_mt5_page=!0}},{key:"onUnmount",value:function(){this.disposeRealAccountSignupEnd(),this.root_store.ui.is_mt5_page=!1}},{key:"checkShouldOpenAccount",value:function(){var e=sessionStorage.getItem("open_mt5_account_type");if(e){var t=Q(e.split("."),2),r=t[0],n=t[1];this.createMT5Account({category:r,type:n}),sessionStorage.removeItem("open_mt5_account_type")}}},{key:"realAccountSignupEndListener",value:function(){var e=JSON.parse(sessionStorage.getItem("post_real_account_signup"));return e&&e.category&&e.type&&(sessionStorage.removeItem("post_real_account_signup"),this.enableMt5PasswordModal()),Promise.resolve()}},{key:"clearMt5Error",value:function(){this.error_message="",this.has_mt5_error=!1,this.is_mt5_password_modal_enabled=!1}},{key:"createMT5Account",value:function(e){var t=e.category,r=e.type;this.setAccountType({category:t,type:r}),"real"===t?this.realMt5Signup():this.demoMt5Signup()}},{key:"demoMt5Signup",value:function(){this.enableMt5PasswordModal()}},{key:"disableMt5PasswordModal",value:function(){this.is_mt5_password_modal_enabled=!1}},{key:"enableMt5PasswordModal",value:function(){this.is_mt5_password_modal_enabled=!0}},{key:"getLoginDetails",value:function(e){var t=e.category,r="";switch(e.type){case"synthetic":r="svg";break;case"financial":r="svg_standard";break;default:r="labuan_advanced"}var n="".concat(t,"\\").concat(r);return this.current_list.filter((function(e){return e.group===n}))}},{key:"getName",value:function(){var e=(this.root_store.client.account_settings&&this.root_store.client.account_settings).first_name,t=this.mt5_companies[this.account_type.category][this.account_type.type].title;return e?[e,t].join(" "):t}},{key:"openAccount",value:function(e){var t=this.getName(),r=this.mt5_companies[this.account_type.category][this.account_type.type].leverage,n=Object(W.a)(this.account_type);return V.a.mt5NewAccount(J({mainPassword:e,email:this.root_store.client.email_address,leverage:r,name:t},n))}},{key:"beginRealSignupForMt5",value:function(){sessionStorage.setItem("post_real_account_signup",JSON.stringify(this.account_type)),this.root_store.ui.openRealAccountSignup()}},{key:"realMt5Signup",value:function(){switch(this.account_type.type){case"financial":this.enableMt5PasswordModal();break;case"financial_stp":this.root_store.client.fetchResidenceList(),this.root_store.client.fetchStatesList(),this.root_store.client.fetchAccountSettings(),this.enableMt5FinancialStpModal();break;case"synthetic":this.enableMt5PasswordModal();break;default:throw new Error("Cannot determine mt5 account signup.")}}},{key:"enableMt5FinancialStpModal",value:function(){"real"===this.account_type.category&&"financial_stp"===this.account_type.type&&(this.is_mt5_financial_stp_modal_open=!0)}},{key:"setAccountType",value:function(e){this.account_type=e}},{key:"setCurrentAccount",value:function(e,t){this.current_account=J(J({},t),e)}},{key:"setError",value:function(e,t){this.has_mt5_error=e,this.error_message=t?t.message:""}},{key:"setMt5Account",value:function(e){this.new_account_response=e}},{key:"setMt5SuccessDialog",value:function(e){this.is_mt5_success_dialog_enabled=!!e}},{key:"storeProofOfAddress",value:function(e,t,r){var n=this,o=r.setStatus;return new Promise((function(r,i){o({msg:""}),n.setState({is_btn_loading:!0}),V.a.setSettings(t).then((function(t){t.error?(o({msg:t.error.message}),i(t)):(n.root_store.fetchAccountSettings(),e.current.upload().then((function(e){e.warning?(o({msg:e.message}),i(e)):V.a.authorized.storage.getAccountStatus().then((function(e){var t=e.error,n=e.get_account_status;t&&i(t);var o=n.authentication.identity,a=!(o&&"none"===o.status);r({identity:o,has_poi:a})}))})))}))}))}},{key:"submitMt5Password",value:(a=$(regeneratorRuntime.mark((function e(t,r){var n,o=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.openAccount(t);case 2:(n=e.sent).error?(this.setError(!0,n.error),console.warn("API Error: ",n)):(V.a.authorized.storage.mt5LoginList().then(this.root_store.client.responseMt5LoginList),V.a.transferBetweenAccounts(),Object(Y.runInAction)((function(){o.setMt5Account(n.mt5_new_account),o.is_mt5_password_modal_enabled=!1,o.has_mt5_error=!1,setTimeout((function(){return o.setMt5SuccessDialog(!0)}),300)}))),r(!1);case 5:case"end":return e.stop()}}),e,this)}))),function(e,t){return a.apply(this,arguments)})},{key:"toggleCompareAccountsModal",value:function(){this.is_compare_accounts_visible=!this.is_compare_accounts_visible}},{key:"disableMt5FinancialStpModal",value:function(){this.is_mt5_financial_stp_modal_open=!1}},{key:"topUpVirtual",value:(i=$(regeneratorRuntime.mark((function e(){var t,r,n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V.a.authorized.mt5Deposit({to_mt5:this.current_account.login});case 2:if((t=e.sent).error){e.next=11;break}return e.next=6,V.a.authorized.mt5LoginList().then(this.root_store.client.responseMt5LoginList);case 6:r=this.root_store.client.mt5_login_list.find((function(e){return e.login===n.current_account.login})).balance,Object(Y.runInAction)((function(){n.root_store.ui.is_top_up_virtual_open=!1,n.current_account.balance=r})),setTimeout((function(){Object(Y.runInAction)((function(){n.root_store.ui.is_top_up_virtual_success=!0}))}),250),e.next=12;break;case 11:console.error(t);case 12:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"closeMT5PendingDialog",value:function(){this.is_mt5_pending_dialog_open=!1}},{key:"openPendingDialog",value:function(){var e=this;setTimeout(Object(Y.runInAction)((function(){e.is_mt5_pending_dialog_open=!0})),300)}},{key:"sendVerifyEmail",value:function(){return V.a.verifyEmail(this.root_store.client.email,"mt5_password_reset")}},{key:"setMt5PasswordResetModal",value:function(e){this.is_mt5_reset_password_modal_enabled=!!e}},{key:"has_mt5_account",get:function(){return this.current_list.length>0}},{key:"account_title",get:function(){return this.account_type.category?Object(W.c)()[this.account_type.category][this.account_type.type].title:""}},{key:"current_list",get:function(){var e=[];return this.root_store.client.mt5_login_list.forEach((function(t){var r=Object(W.b)(t.group),n=r.type,o=r.category;e["".concat(o,".").concat(n)]=Object.assign({},t)})),e}},{key:"mt5_companies",get:function(){return Object(W.c)()}}],n=[{key:"changePassword",value:(o=$(regeneratorRuntime.mark((function e(t){var r,n,o,i,a,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.login,n=t.old_password,o=t.new_password,i=t.password_type,e.next=3,V.a.authorized.mt5PasswordChange(r,n,o,i);case 3:return a=e.sent,s=a.error,e.abrupt("return",null==s?void 0:s.message);case 6:case"end":return e.stop()}}),e)}))),function(e){return o.apply(this,arguments)})}],r&&re(t.prototype,r),n&&re(t,n),c}(B.a),D=ce((C=H).prototype,"is_compare_accounts_visible",[Y.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),T=ce(C.prototype,"account_type",[Y.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{category:void 0,type:void 0}}}),M=ce(C.prototype,"new_account_response",[Y.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),A=ce(C.prototype,"map_type",[Y.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),R=ce(C.prototype,"has_mt5_error",[Y.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),N=ce(C.prototype,"error_message",[Y.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),I=ce(C.prototype,"is_mt5_success_dialog_enabled",[Y.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),z=ce(C.prototype,"is_mt5_financial_stp_modal_open",[Y.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),L=ce(C.prototype,"is_mt5_password_modal_enabled",[Y.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),U=ce(C.prototype,"is_mt5_reset_password_modal_enabled",[Y.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),q=ce(C.prototype,"is_mt5_pending_dialog_open",[Y.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),F=ce(C.prototype,"current_account",[Y.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),ce(C.prototype,"has_mt5_account",[Y.computed],Object.getOwnPropertyDescriptor(C.prototype,"has_mt5_account"),C.prototype),ce(C.prototype,"account_title",[Y.computed],Object.getOwnPropertyDescriptor(C.prototype,"account_title"),C.prototype),ce(C.prototype,"current_list",[Y.computed],Object.getOwnPropertyDescriptor(C.prototype,"current_list"),C.prototype),ce(C.prototype,"onMount",[n],Object.getOwnPropertyDescriptor(C.prototype,"onMount"),C.prototype),ce(C.prototype,"onUnmount",[o],Object.getOwnPropertyDescriptor(C.prototype,"onUnmount"),C.prototype),ce(C.prototype,"realAccountSignupEndListener",[i],Object.getOwnPropertyDescriptor(C.prototype,"realAccountSignupEndListener"),C.prototype),ce(C.prototype,"clearMt5Error",[a],Object.getOwnPropertyDescriptor(C.prototype,"clearMt5Error"),C.prototype),ce(C.prototype,"createMT5Account",[s],Object.getOwnPropertyDescriptor(C.prototype,"createMT5Account"),C.prototype),ce(C.prototype,"disableMt5PasswordModal",[c],Object.getOwnPropertyDescriptor(C.prototype,"disableMt5PasswordModal"),C.prototype),ce(C.prototype,"enableMt5PasswordModal",[l],Object.getOwnPropertyDescriptor(C.prototype,"enableMt5PasswordModal"),C.prototype),ce(C.prototype,"getLoginDetails",[u],Object.getOwnPropertyDescriptor(C.prototype,"getLoginDetails"),C.prototype),ce(C.prototype,"getName",[p],Object.getOwnPropertyDescriptor(C.prototype,"getName"),C.prototype),ce(C.prototype,"openAccount",[d],Object.getOwnPropertyDescriptor(C.prototype,"openAccount"),C.prototype),ce(C.prototype,"beginRealSignupForMt5",[f],Object.getOwnPropertyDescriptor(C.prototype,"beginRealSignupForMt5"),C.prototype),ce(C.prototype,"enableMt5FinancialStpModal",[m],Object.getOwnPropertyDescriptor(C.prototype,"enableMt5FinancialStpModal"),C.prototype),ce(C.prototype,"setAccountType",[h],Object.getOwnPropertyDescriptor(C.prototype,"setAccountType"),C.prototype),ce(C.prototype,"setCurrentAccount",[b],Object.getOwnPropertyDescriptor(C.prototype,"setCurrentAccount"),C.prototype),ce(C.prototype,"setError",[y],Object.getOwnPropertyDescriptor(C.prototype,"setError"),C.prototype),ce(C.prototype,"setMt5Account",[_],Object.getOwnPropertyDescriptor(C.prototype,"setMt5Account"),C.prototype),ce(C.prototype,"setMt5SuccessDialog",[v],Object.getOwnPropertyDescriptor(C.prototype,"setMt5SuccessDialog"),C.prototype),ce(C.prototype,"storeProofOfAddress",[g],Object.getOwnPropertyDescriptor(C.prototype,"storeProofOfAddress"),C.prototype),ce(C.prototype,"submitMt5Password",[w],Object.getOwnPropertyDescriptor(C.prototype,"submitMt5Password"),C.prototype),ce(C.prototype,"toggleCompareAccountsModal",[O],Object.getOwnPropertyDescriptor(C.prototype,"toggleCompareAccountsModal"),C.prototype),ce(C.prototype,"disableMt5FinancialStpModal",[j],Object.getOwnPropertyDescriptor(C.prototype,"disableMt5FinancialStpModal"),C.prototype),ce(C.prototype,"topUpVirtual",[S],Object.getOwnPropertyDescriptor(C.prototype,"topUpVirtual"),C.prototype),ce(C.prototype,"closeMT5PendingDialog",[k],Object.getOwnPropertyDescriptor(C.prototype,"closeMT5PendingDialog"),C.prototype),ce(C.prototype,"openPendingDialog",[x],Object.getOwnPropertyDescriptor(C.prototype,"openPendingDialog"),C.prototype),ce(C.prototype,"sendVerifyEmail",[E],Object.getOwnPropertyDescriptor(C.prototype,"sendVerifyEmail"),C.prototype),ce(C.prototype,"setMt5PasswordResetModal",[P],Object.getOwnPropertyDescriptor(C.prototype,"setMt5PasswordResetModal"),C.prototype),C)},"./Stores/Modules/Portfolio/Helpers/details.js":function(e,t,r){"use strict";r.d(t,"a",(function(){return c})),r.d(t,"e",(function(){return u})),r.d(t,"d",(function(){return p})),r.d(t,"b",(function(){return d})),r.d(t,"c",(function(){return f}));var n=r("@deriv/shared/utils/object"),o=r.n(n),i=r("@deriv/translations"),a=r("@deriv/shared/utils/date"),s=r("./Stores/Modules/Contract/Helpers/digits.js"),c=function(e){var t=o.a.unique(e.tick_stream,"epoch"),r=Object(s.b)(e.contract_type)?t.length:t.length-1;return!r||r<0?0:r},l=function(e){return e%1!=0},u=function(){return{d:{name_plural:Object(i.localize)("days"),name_singular:Object(i.localize)("day")},h:{name_plural:Object(i.localize)("hours"),name_singular:Object(i.localize)("hour")},m:{name_plural:Object(i.localize)("minutes"),name_singular:Object(i.localize)("minute")},s:{name:Object(i.localize)("seconds")}}},p=function(e){var t=u(),r=e.asMilliseconds()/1e3;if(r){if(r>=864e5)return r/864e5<=2?t.d.name_singular:t.d.name_plural;if(r>=36e5&&r<864e5)return l(r/36e5)?"":36e5===r?t.h.name_singular:t.h.name_plural;if(r>=6e4&&r<36e5)return l(r/6e4)?"":6e4===r?t.m.name_singular:t.m.name_plural;if(r>=1e3&&r<6e4)return t.s.name}return t.s.name},d=function(e){return Object(a.getDiffDuration)(Object(a.epochToMoment)(e.purchase_time||e.date_start),Object(a.epochToMoment)(e.date_expiry))},f=function(e){return e.tick_count?e.tick_count:function(e){var t=e.asMilliseconds()/1e3;if(t>=864e5){var r=t/864e5;return Math.floor(r)}if(t>=36e5&&t<864e5){var n=l(t/36e5),o=l(t/6e4)?"HH[h] mm[m] ss[s]":"HH[h] mm[m]";return n?Object(a.formatMiliseconds)(t,o):Math.floor(t/36e5)}return t>=6e4&&t<36e5?l(t/6e4)?Object(a.formatMiliseconds)(t,"mm[m] ss[s]"):Math.floor(t/6e4):Math.floor(t/1e3)}(d(e))}},"./Stores/Modules/SmartChart/Constants/barriers.js":function(e,t,r){"use strict";r.d(t,"c",(function(){return n})),r.d(t,"d",(function(){return o})),r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return a}));var n={CALL:"ABOVE",PUT:"BELOW",CALLE:"ABOVE",PUTE:"BELOW",EXPIRYRANGE:"BETWEEN",EXPIRYMISS:"OUTSIDE",RANGE:"BETWEEN",UPORDOWN:"OUTSIDE",ONETOUCH:"NONE_SINGLE",NOTOUCH:"NONE_SINGLE",ASIANU:"ABOVE",ASIAND:"BELOW",MULTUP:"ABOVE",MULTDOWN:"BELOW"},o={1:"NONE_SINGLE",2:"NONE_DOUBLE"},i={GREEN:"#4bb4b3",RED:"#ec3f3f",ORANGE:"#ff6444",GRAY:"#999999",DARK_GRAY:"#6E6E6E"},a={DASHED:"dashed",DOTTED:"dotted",SOLID:"solid"}},"./Stores/Modules/SmartChart/Helpers/barriers.js":function(e,t,r){"use strict";r.d(t,"b",(function(){return o})),r.d(t,"a",(function(){return i})),r.d(t,"c",(function(){return a}));r("mobx"),r("@deriv/shared/utils/object");var n=r("./Stores/Modules/SmartChart/Constants/barriers.js"),o=function(e){return e in n.c},i=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return r.filter((function(e){return null!=e})).map((function(t){return"".concat(e&&!/^[+-]/.test(t)?"+":"").concat(t)}))},a=function(e,t){var r=e.findIndex((function(e){return e.key===t}));r>-1&&e.splice(r,1)}},"./Stores/Modules/SmartChart/chart-barrier-store.js":function(e,t,r){"use strict";r.d(t,"a",(function(){return C}));var n,o,i,a,s,c,l,u,p,d,f,m,h,b,y,_,v,g=r("mobx"),w=r("./Stores/Modules/SmartChart/Constants/barriers.js"),O=r("./Stores/Modules/SmartChart/Helpers/barriers.js");function j(e){return function(e){if(Array.isArray(e))return S(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return S(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return S(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function k(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function P(e,t,r,n,o){var i={};return Object.keys(n).forEach((function(e){i[e]=n[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var C=(n=g.action.bound,o=g.action.bound,i=g.action.bound,a=g.action.bound,c=P((s=function(){function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=o.color,a=o.line_style,s=o.not_draggable;x(this,e),k(this,"color",c,this),k(this,"lineStyle",l,this),k(this,"shade",u,this),k(this,"shadeColor",p,this),k(this,"high",d,this),k(this,"low",f,this),k(this,"relative",m,this),k(this,"draggable",h,this),k(this,"hidePriceLines",b,this),k(this,"hideBarrierLine",y,this),k(this,"hideOffscreenLine",_,this),k(this,"title",v,this),this.onChartBarrierChange=void 0,this.color=i,this.lineStyle=a||w.b.SOLID,this.onChange=this.onBarrierChange,this.onChartBarrierChange="function"==typeof n?n.bind(this):function(){},this.high=+t||0,r&&(this.low=+r),this.shade=this.default_shade;var g=!!t;this.relative=!g||/^[+-]/.test(t),this.draggable=!s&&g,this.hidePriceLines=!g}var t,r,n;return t=e,(r=[{key:"updateBarriers",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];r||(this.relative=/^[+-]/.test(e)),this.high=+e||void 0,this.low=+t||void 0}},{key:"updateBarrierShade",value:function(e,t){this.shade=e&&w.c[t]||this.default_shade}},{key:"onBarrierChange",value:function(e){var t=e.high,r=e.low;this.updateBarriers(t,r,!0),this.onChartBarrierChange.apply(this,j(Object(O.a)(this.relative,t,r)))}},{key:"updateBarrierColor",value:function(e){this.color=e?w.a.DARK_GRAY:w.a.GRAY}},{key:"barrier_count",get:function(){return(void 0!==this.high)+(void 0!==this.low)}},{key:"default_shade",get:function(){return w.d[this.barrier_count]}}])&&E(t.prototype,r),n&&E(t,n),e}()).prototype,"color",[g.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=P(s.prototype,"lineStyle",[g.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=P(s.prototype,"shade",[g.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=P(s.prototype,"shadeColor",[g.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=P(s.prototype,"high",[g.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=P(s.prototype,"low",[g.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=P(s.prototype,"relative",[g.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=P(s.prototype,"draggable",[g.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=P(s.prototype,"hidePriceLines",[g.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=P(s.prototype,"hideBarrierLine",[g.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=P(s.prototype,"hideOffscreenLine",[g.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=P(s.prototype,"title",[g.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P(s.prototype,"updateBarriers",[n],Object.getOwnPropertyDescriptor(s.prototype,"updateBarriers"),s.prototype),P(s.prototype,"updateBarrierShade",[o],Object.getOwnPropertyDescriptor(s.prototype,"updateBarrierShade"),s.prototype),P(s.prototype,"onBarrierChange",[i],Object.getOwnPropertyDescriptor(s.prototype,"onBarrierChange"),s.prototype),P(s.prototype,"updateBarrierColor",[a],Object.getOwnPropertyDescriptor(s.prototype,"updateBarrierColor"),s.prototype),P(s.prototype,"barrier_count",[g.computed],Object.getOwnPropertyDescriptor(s.prototype,"barrier_count"),s.prototype),P(s.prototype,"default_shade",[g.computed],Object.getOwnPropertyDescriptor(s.prototype,"default_shade"),s.prototype),s)},"./Stores/Modules/Trading/Constants/contract.js":function(e,t,r){"use strict";r.d(t,"c",(function(){return a})),r.d(t,"b",(function(){return s})),r.d(t,"a",(function(){return c})),r.d(t,"d",(function(){return l}));var n=r("@deriv/translations"),o=r("@deriv/shared/utils/screen");function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=function(){return{payout:Object(n.localize)("Payout"),stake:Object(n.localize)("Stake"),multiplier:Object(n.localize)("Multiplier")}},s=function(){return{rise_fall:{title:Object(n.localize)("Rise/Fall"),trade_types:["CALL","PUT"],basis:["stake","payout"],components:["start_date"],barrier_count:0},rise_fall_equal:{title:Object(n.localize)("Rise/Fall"),trade_types:["CALLE","PUTE"],basis:["stake","payout"],components:["start_date"],barrier_count:0},high_low:{title:Object(n.localize)("Higher/Lower"),trade_types:["CALL","PUT"],basis:["stake","payout"],components:["barrier"],barrier_count:1},touch:{title:Object(n.localize)("Touch/No Touch"),trade_types:["ONETOUCH","NOTOUCH"],basis:["stake","payout"],components:["barrier"]},end:{title:Object(n.localize)("Ends In/Ends Out"),trade_types:["EXPIRYMISS","EXPIRYRANGE"],basis:["stake","payout"],components:["barrier"]},stay:{title:Object(n.localize)("Stays In/Goes Out"),trade_types:["RANGE","UPORDOWN"],basis:["stake","payout"],components:["barrier"]},asian:{title:Object(n.localize)("Asian Up/Asian Down"),trade_types:["ASIANU","ASIAND"],basis:["stake","payout"],components:[]},match_diff:{title:Object(n.localize)("Matches/Differs"),trade_types:["DIGITMATCH","DIGITDIFF"],basis:["stake","payout"],components:["last_digit"]},even_odd:{title:Object(n.localize)("Even/Odd"),trade_types:["DIGITODD","DIGITEVEN"],basis:["stake","payout"],components:[]},over_under:{title:Object(n.localize)("Over/Under"),trade_types:["DIGITOVER","DIGITUNDER"],basis:["stake","payout"],components:["last_digit"]},lb_call:{title:Object(n.localize)("Close-to-Low"),trade_types:["LBFLOATCALL"],basis:["multiplier"],components:[]},lb_put:{title:Object(n.localize)("High-to-Close"),trade_types:["LBFLOATPUT"],basis:["multiplier"],components:[]},lb_high_low:{title:Object(n.localize)("High-to-Low"),trade_types:["LBHIGHLOW"],basis:["multiplier"],components:[]},tick_high_low:{title:Object(n.localize)("High Tick/Low Tick"),trade_types:["TICKHIGH","TICKLOW"],basis:[],components:[]},run_high_low:{title:Object(n.localize)("Only Ups/Only Downs"),trade_types:["RUNHIGH","RUNLOW"],basis:[],components:[]},reset:{title:Object(n.localize)("Reset Up/Reset Down"),trade_types:["RESETCALL","RESETPUT"],basis:[],components:[]},callputspread:{title:Object(n.localize)("Spread Up/Spread Down"),trade_types:["CALLSPREAD","PUTSPREAD"],basis:[],components:[]},multiplier:{title:Object(n.localize)("Multipliers"),trade_types:["MULTUP","MULTDOWN"],basis:["stake"],components:["multiplier","take_profit","stop_loss","cancellation"],config:{hide_duration:!0}}}},c=function(){var e;return i(e={},Object(n.localize)("Ups & Downs"),["rise_fall","rise_fall_equal","run_high_low","reset","asian","callputspread"]),i(e,Object(n.localize)("Highs & Lows"),["high_low","touch","tick_high_low"]),i(e,Object(n.localize)("Ins & Outs"),["end","stay"]),i(e,Object(n.localize)("Look Backs"),["lb_high_low","lb_put","lb_call"]),i(e,Object(n.localize)("Digits"),["match_diff","even_odd","over_under"]),i(e,Object(n.localize)("Multipliers"),["multiplier"]),e},l=["callputspread","run_high_low","reset","asian","tick_high_low","end","stay","lb_call","lb_put","lb_high_low",Object(o.isMobile)()?"multiplier":null]},"./Stores/Modules/Trading/Helpers/barrier.js":function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return i}));var o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{count:e.barriers};if(e.barriers){var r={};return["barrier","low_barrier","high_barrier"].forEach((function(t){t in e&&(r[t]=e[t])})),Object.assign(t||{},n({},e.expiry_type,r))}},i=function(e){return Math.floor(e)===e||e.length<1||e%1==0||isNaN(e)?0:e.toString().split(".")[1].length||0}},"./Stores/Modules/Trading/Helpers/contract-type.js":function(e,t,r){"use strict";var n=r("@deriv/shared/utils/object"),o=r.n(n),i=r("./_common/base/server_time.js"),a=r.n(i),s=r("@deriv/translations"),c=r("./Services/ws-methods.js"),l=r("@deriv/shared/utils/date"),u=r("./Stores/Modules/Portfolio/Helpers/details.js"),p=r("./Stores/Modules/Trading/Helpers/barrier.js"),d=r("./Stores/Modules/Trading/Helpers/duration.js"),f=r("./Stores/Modules/Trading/Helpers/start-date.js"),m=r("./Stores/Modules/Trading/Constants/contract.js");function h(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function b(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){h(i,n,o,a,s,"next",e)}function s(e){h(i,n,o,a,s,"throw",e)}a(void 0)}))}}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}(e,t)||v(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e){return function(e){if(Array.isArray(e))return g(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||v(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){if(e){if("string"==typeof e)return g(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?g(e,t):void 0}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w(Object(r),!0).forEach((function(t){j(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function j(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var k,x,E,P,C,D,T,M,A,R,N,I,z,L,U,q,F,H,Y,V,B,W,G,X,$,Z=(x={},E={},P={},C={},D=!1,T=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t[e.contract_type]=e.contract_display,t},M=function(e,t){return-1!==e.indexOf(t)?t:e[0]},A=function(e){return{form_components:["duration","amount"].concat(_(k[e].components)).filter((function(t){return!("duration"===t&&k[e].config&&k[e].config.hide_duration)}))}},R=function(e,t){return{duration_units_list:o.a.getPropertyValue(x,[e,"config","durations","units_display",t])||[]}},N=function(e,t,r){var n=o.a.getPropertyValue(x,[t,"config","durations","units_display",r])||[],i=[];return n.forEach((function(e){i.push(e.value)})),{duration_unit:M(i,e)}},I=function(e,t,r){var n=o.a.getPropertyValue(x,[e,"config","durations","min_max",t])||{};return r&&(n=n[r]||{}),{duration_min_max:n}},z=function(e){return{contract_start_type:e===Number(0)?"spot":"forward"}},L=function(e,t){var r=o.a.getPropertyValue(x,[e,"config"]),n=[];return r.has_spot&&n.push({text:Object(s.localize)("Now"),value:Number(0)}),r.forward_starting_dates&&n.push.apply(n,_(r.forward_starting_dates)),{start_date:n.find((function(e){return e.value===t}))?t:n[0].value,start_dates_list:n}},U=_(Array(24).keys()).map((function(e){return"0".concat(e).slice(-2)})),q=_(Array(12).keys()).map((function(e){return"0".concat(5*e).slice(-2)})),F=function(e,t,r){return e&&!Object(f.b)(e,t)&&(t.minute(q.find((function(r){return Object(f.b)(e,t.minute(r))}))||t.format("mm")),Object(f.b)(e,t)||(t.minute(0),t.hour(U.find((function(n){return Object(f.b)(e,t.hour(n),r,!0)}))||t.format("HH")),t.minute(q.find((function(r){return Object(f.b)(e,t.minute(r))}))||t.format("mm")))),t.format("HH:mm")},H=function(e,t){var r=y(Object(l.isTimeValid)(t)?t.split(":"):[0,0],2),n=r[0],o=r[1];return Object(l.toMoment)(e||a.a.get()).hour(n).minute(o)},V=function(e){return e.minute(5*Math.ceil(e.minute()/5))},B=function(e){return{trade_types:o.a.getPropertyValue(x,[e,"config","trade_types"])}},G=function(e,t){var r=o.a.getPropertyValue(x,[e,"basis"])||[],n=Object(m.c)();return{basis_list:r.reduce((function(e,t){return[].concat(_(e),[{text:n[t],value:t}])}),[]),basis:M(r,t)}},X=function(e,t){var r=o.a.getPropertyValue(x,[e,"config","multiplier_range"])||[];return{multiplier_range_list:r.map((function(e){return{text:"x".concat(e),value:e}})),multiplier:M(r,t)}},$=function(e){var t=o.a.getPropertyValue(x,[e,"config","cancellation_range"])||[],r=new RegExp("^([0-9]+)|([a-zA-Z]+)$","g");return{cancellation_range_list:t.map((function(e){return{text:"".concat((t=e,n=y(t.match(r),2),o=n[0],i=n[1],a=Object(u.e)(),"".concat(o," ").concat(a[i].name_plural))),value:e};var t,n,o,i,a}))}},{buildContractTypesConfig:function(e){return c.a.storage.contractsFor(e).then((function(e){var t=o.a.getPropertyValue(e,["contracts_for"]);if(D=t&&!e.contracts_for.available.find((function(e){return"forward"!==e.start_type})),t&&!D){var r=Object(m.a)();k=Object(m.b)(),x={},E=o.a.cloneObject(r),e.contracts_for.available.forEach((function(e){var t=Object.keys(k).find((function(t){return-1!==k[t].trade_types.indexOf(e.contract_type)&&(void 0===k[t].barrier_count||+k[t].barrier_count===e.barriers)}));if(t){if(!x[t]){var r=E[Object.keys(E).find((function(e){return-1!==E[e].indexOf(t)}))];if(!r)return;r[r.indexOf(t)]={value:t,text:k[t].title},x[t]=o.a.cloneObject(k[t])}var n=x[t].config||{};n.has_spot=n.has_spot||"spot"===e.start_type,n.durations=!n.hide_duration&&Object(d.a)(e,n.durations),n.trade_types=T(e,n.trade_types),n.barriers=Object(p.a)(e,n.barriers),n.forward_starting_dates=Object(f.a)(e,n.forward_starting_dates),n.multiplier_range=e.multiplier_range,n.cancellation_range=e.cancellation_range,x[t].config=n}})),Object.keys(E).forEach((function(e){E[e]=E[e].filter((function(e){return"object"===S(e)})),0===E[e].length&&delete E[e]}))}}))},getBarriers:W=function(e,t){var r=o.a.getPropertyValue(x,[e,"config","barriers"])||{},n=r[t]||{},i=n.barrier||n.high_barrier||"",a=n.low_barrier||"";return{barrier_count:r.count||0,barrier_1:i.toString(),barrier_2:a.toString()}},getContractType:function(e,t){var r=Object.keys(e||{}).reduce((function(t,r){return[].concat(_(t),_(e[r].map((function(e){return e.value}))))}),[]).filter((function(e){return-1===m.d.indexOf(e)}));return{contract_type:M(r,t)}},getContractValues:function(e){var t=e.contract_expiry_type,r=e.contract_type,n=e.basis,o=e.duration_unit,i=e.expiry_type,a=e.multiplier,s=e.start_date;if(!r)return{};var c=A(r),l=G(r,n),u=B(r),p=L(r,s),d=z(p.start_date),f=W(r,t),m=N(o,r,d.contract_start_type),h=R(r,d.contract_start_type),b=I(r,d.contract_start_type),y=X(r,a),_=$(r),v=Y(h,i);return O(O(O(O(O(O(O(O(O(O(O(O({},c),l),u),p),d),f),m),h),b),v),y),_)},getDurationMinMax:I,getDurationUnit:N,getDurationUnitsList:R,getFullContractTypes:function(){return x},getExpiryDate:function(e,t,r,n){var o=null;if("endtime"===r){var i=Object(l.toMoment)(n),a=Object(l.toMoment)(t);o=Object(d.e)(e)?(a.isBefore(i,"day")||n&&a.isAfter(i.clone().add(1,"day"))?i:a).format("YYYY-MM-DD"):(a.isSameOrBefore(i,"day")?i.clone().add(1,"day"):a).format("YYYY-MM-DD")}return{expiry_date:o}},getExpiryTime:function(e,t,r,n,o,i,s){var c=null;if("endtime"===r){var u="23:59:59";if(n&&n.length&&"--"!==n[0]&&(u=n.slice(-1)[0]),!i&&a.a.get().isBefore(H(e),"day"))c=u;else{var p=i?H(i,s):a.a.get(),d=H(e,t);c=d.format("HH:mm");var m=[{open:p.clone().add(5,"minute"),close:Object(l.minDate)(p.clone().add(24,"hour"),H(e,u))}];if(Object(f.b)(m,d)||(c=F(m,d.clone(),p.clone())),d.isSameOrBefore(p)||d.diff(p,"minute")<5){var h=23===p.get("hours")&&p.get("minute")>=55,b=o&&!Object(f.b)(o,p.clone().add(5,"minutes"));c=p.clone().add(h||b?0:5,"minutes"),c=V(c).format("HH:mm")}"00:00"===c&&p.isBefore(d,"day")&&(c=p.clone().subtract(5,"minute").format("HH:mm"))}}return{expiry_time:c}},getExpiryType:Y=function(e,t){if(e){if(!t&&e.length>0||1===e.length&&"t"===e[0].value)return{expiry_type:"duration"};if(0===e.length)return{expiry_type:null}}return{expiry_type:t}},getSessions:function(e,t){return{sessions:(((o.a.getPropertyValue(x,[e,"config"])||{}).forward_starting_dates||[]).find((function(e){return e.value===t}))||{}).sessions}},getStartTime:function(e,t,r){return{start_time:t?F(e,H(t,r)):null}},getStartType:z,getTradingEvents:function(){var e=b(regeneratorRuntime.mark((function e(t){var r,n,i,a,s,l,u,p,d=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=d.length>1&&void 0!==d[1]?d[1]:null,t){e.next=3;break}return e.abrupt("return",[]);case 3:if(t in P){e.next=8;break}return e.next=6,c.a.tradingTimes(t);case 6:if(n=e.sent,o.a.getPropertyValue(n,["trading_times","markets"]))for(i=0;i<n.trading_times.markets.length;i++)if(a=n.trading_times.markets[i].submarkets)for(s=0;s<a.length;s++)if(l=a[s].symbols)for(u=0;u<l.length;u++)p=l[u],P[n.echo_req.trading_times]||(P[n.echo_req.trading_times]={}),P[n.echo_req.trading_times][p.symbol]=p.events;case 8:return e.abrupt("return",P[t][r]);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getTradingTimes:function(){var e=b(regeneratorRuntime.mark((function e(t){var r,n,i,a,s,l,u,p,d=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=d.length>1&&void 0!==d[1]?d[1]:null,t){e.next=3;break}return e.abrupt("return",[]);case 3:if(t in C){e.next=8;break}return e.next=6,c.a.tradingTimes(t);case 6:if(n=e.sent,o.a.getPropertyValue(n,["trading_times","markets"]))for(i=0;i<n.trading_times.markets.length;i++)if(a=n.trading_times.markets[i].submarkets)for(s=0;s<a.length;s++)if(l=a[s].symbols)for(u=0;u<l.length;u++)p=l[u],C[n.echo_req.trading_times]||(C[n.echo_req.trading_times]={}),C[n.echo_req.trading_times][p.symbol]={open:p.times.open,close:p.times.close};case 8:return e.abrupt("return",r?C[t][r]:C[t]);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getContractCategories:function(){return{contract_types_list:E,has_only_forward_starting_contracts:D}}});t.a=Z},"./Stores/Modules/Trading/Helpers/duration.js":function(e,t,r){"use strict";r.d(t,"a",(function(){return c})),r.d(t,"d",(function(){return p})),r.d(t,"b",(function(){return d})),r.d(t,"e",(function(){return f})),r.d(t,"f",(function(){return m})),r.d(t,"c",(function(){return h}));var n=r("@deriv/translations"),o=r("@deriv/shared/utils/date");function i(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var s=function(){return{t:{display:Object(n.localize)("Ticks"),order:1},s:{display:Object(n.localize)("Seconds"),order:2,to_second:1},m:{display:Object(n.localize)("Minutes"),order:3,to_second:60},h:{display:Object(n.localize)("Hours"),order:4,to_second:3600},d:{display:Object(n.localize)("Days"),order:5,to_second:86400}}},c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{min_max:{},units_display:{}};t.min_max[e.start_type]=t.min_max[e.start_type]||{},t.units_display[e.start_type]=t.units_display[e.start_type]||[];var r=u(e.min_contract_duration),n=u(e.max_contract_duration);t.min_max[e.start_type][e.expiry_type]={min:l(r.duration,r.unit,"s"),max:l(n.duration,n.unit,"s")};var o=[];t.units_display[e.start_type].forEach((function(e){o.push(e.value)}));var a=s();return/^tick|daily$/.test(e.expiry_type)?-1===o.indexOf(r.unit)&&o.push(r.unit):Object.keys(a).forEach((function(e){"d"!==e&&-1===o.indexOf(e)&&a[e].order>=a[r.unit].order&&a[e].order<=a[n.unit].order&&o.push(e)})),t.units_display[e.start_type]=o.sort((function(e,t){return a[e].order>a[t].order?1:-1})).reduce((function(e,t){return[].concat(i(e),[{text:a[t].display,value:t}])}),[]),t},l=function(e,t,r){if(!e||!t||!r||isNaN(parseInt(e)))return null;var n=s();return t!==r&&"to_second"in n[t]?e*n[t].to_second/n[r].to_second:e},u=function(e){var t=e.toString().match(/[a-zA-Z]+|[0-9]+/g);return{duration:+t[0],unit:t[1]}},p=function(e){var t=e.duration_unit,r=e.expiry_date,n=e.expiry_type,i=e.duration_units_list,a=e.root_store.common.server_time,s="duration"===n&&"d"===t,c="endtime"===n&&(Object(o.toMoment)(r).isAfter(Object(o.toMoment)(a),"day")||!f(i)),l="daily";return s||c||(l="t"===t?"tick":"intraday"),l},d=function(e,t){if(!(e>=0&&t&&Number.isInteger(e)))return null;if("m"===t){var r=e/60;return r>=1?Math.floor(r):1}if("h"===t){var n=e/3600;return n>=1?Math.floor(n):1}if("d"===t){var o=e/86400;return o>=1?Math.floor(o):1}return e},f=function(e){return e.some((function(e){return-1!==["m","h"].indexOf(e.value)}))},m=function(e,t){return/^R_/.test(e)&&"endtime"===t?Object(o.toMoment)(null).format("DD MMM YYYY"):null},h=function(e,t,r){if(!e[t])return[];var n=d(+e[t].max,r);return[d(+e[t].min,r),n]}},"./Stores/Modules/Trading/Helpers/start-date.js":function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return c}));var n=r("./_common/base/server_time.js"),o=r.n(n),i=r("@deriv/shared/utils/date"),a=function(e,t){var r=[];return(e.forward_starting_options||[]).length&&e.forward_starting_options.forEach((function(e){var t=r.find((function(t){return t.value===parseInt(e.date)})),n={open:Object(i.toMoment)(e.open),close:Object(i.toMoment)(e.close)};t?t.sessions.push(n):r.push({text:Object(i.toMoment)(e.date).format("ddd - DD MMM, YYYY"),value:parseInt(e.date),sessions:[n]})})),r.length?r:t},s=function(e,t,r){var n=Object(i.toMoment)(t);return r&&n.minute(0).second(0),e.isBefore(n)&&n.unix()!==e.unix()},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(i.toMoment)(o.a.get()),r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object(i.toMoment)(o.a.get()),n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return!(s(t,o.a.get(),n)||s(t,r,n)||e.length&&!e.find((function(e){return t.isBetween(e.open,e.close,n?"hour":null,"[]")})))}},"./Stores/base-store.js":function(e,t,r){"use strict";r.d(t,"a",(function(){return B}));var n=r("mobx"),o=r("@deriv/shared/utils/config"),i=r("@deriv/shared/utils/object"),a=r.n(i),s=r("./_common/utility.js"),c=r("./Utils/Validator/declarative-validation-rules.js");function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.errors={}}var t,r,n;return t=e,(r=[{key:"add",value:function(e,t){this.has(e)||(this.errors[e]=[]),-1===this.errors[e].indexOf(t)&&this.errors[e].push(t)}},{key:"all",value:function(){return this.errors}},{key:"first",value:function(e){return this.has(e)?this.errors[e][0]:null}},{key:"get",value:function(e){return this.has(e)?this.errors[e]:[]}},{key:"has",value:function(e){return Object.prototype.hasOwnProperty.call(this.errors,e)}}])&&l(t.prototype,r),n&&l(t,n),e}();function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var f,m,h,b,y,_,v,g,w,O,j,S,k,x,E,P,C,D,T,M,A,R,N=function(){function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;p(this,e),this.input=t,this.rules=r,this.store=n,this.errors=new u,this.error_count=0}var t,r,n;return t=e,n=[{key:"getRuleObject",value:function(e){var t="string"==typeof e,r={name:t?e:e[0],options:t?{}:e[1]||{}};return r.validator="custom"===r.name?e[1].func:Object(c.a)()[r.name].func,r}}],(r=[{key:"addFailure",value:function(e,t){var r=t.options.message||Object(c.a)()[t.name].message;"length"===t.name?r=Object(s.template)(r,[t.options.min===t.options.max?t.options.min:"".concat(t.options.min,"-").concat(t.options.max)]):"min"===t.name?r=Object(s.template)(r,[t.options.min]):"not_equal"===t.name&&(r=Object(s.template)(r,[t.options.name1,t.options.name2])),this.errors.add(e,r),this.error_count++}},{key:"check",value:function(){var t=this;return Object.keys(this.input).forEach((function(r){Object.prototype.hasOwnProperty.call(t.rules,r)&&t.rules[r].forEach((function(n){var o=e.getRuleObject(n);(o.validator||"function"==typeof o.validator)&&(o.options.condition&&!o.options.condition(t.store)||""===t.input[r]&&"req"!==o.name||o.validator(t.input[r],o.options,t.store,t.input)||t.addFailure(r,o))}))})),!this.error_count}},{key:"isPassed",value:function(){return this.check()}}])&&d(t.prototype,r),n&&d(t,n),e}();function I(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function z(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){I(i,n,o,a,s,"next",e)}function s(e){I(i,n,o,a,s,"throw",e)}a(void 0)}))}}function L(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function U(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?L(Object(r),!0).forEach((function(t){q(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function q(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function F(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function H(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function V(e,t,r,n,o){var i={};return Object.keys(n).forEach((function(e){i[e]=n[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var B=(f=n.action.bound,m=n.action.bound,h=n.action.bound,b=n.action.bound,y=n.action.bound,_=n.action.bound,v=n.action.bound,g=n.action.bound,w=n.action.bound,O=n.action.bound,j=n.action.bound,S=n.action.bound,k=n.action.bound,x=n.action.bound,E=n.action.bound,P=n.action.bound,R=A=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};H(this,e),F(this,"validation_errors",D,this),F(this,"validation_rules",T,this),this.preSwitchAccountDisposer=null,this.pre_switch_account_listener=null,this.switchAccountDisposer=null,this.switch_account_listener=null,this.logoutDisposer=null,this.logout_listener=null,this.clientInitDisposer=null,this.client_init_listener=null,this.networkStatusChangeDisposer=null,this.network_status_change_listener=null,this.themeChangeDisposer=null,this.theme_change_listener=null,this.realAccountSignupEndedDisposer=null,this.real_account_signup_ended_listener=null,F(this,"partial_fetch_time",M,this);var r=t.root_store,n=t.local_storage_properties,o=t.session_storage_properties,i=t.validation_rules,a=t.store_name;Object.defineProperty(this,"root_store",{enumerable:!1,writable:!0}),Object.defineProperty(this,"local_storage_properties",{enumerable:!1,writable:!0}),Object.defineProperty(this,"session_storage_properties",{enumerable:!1,writable:!0});var s=n&&n.length||o&&o.length;if(s){if(!a)throw new Error("store_name is required for local/session storage");Object.defineProperty(this,"store_name",{value:a,enumerable:!1,writable:!1})}this.root_store=r,this.local_storage_properties=n||[],this.session_storage_properties=o||[],this.setValidationRules(i),this.setupReactionForLocalStorage(),this.setupReactionForSessionStorage(),this.retrieveFromStorage()}var t,r,i;return t=e,(r=[{key:"getSnapshot",value:function(e){var t=Object(n.toJS)(this);return a.a.isEmptyObject(this.root_store)||(t.root_store=this.root_store),e&&e.length&&(t=e.reduce((function(e,r){return Object.assign(e,q({},r,t[r]))}),{})),t}},{key:"setupReactionForLocalStorage",value:function(){var t=this;this.local_storage_properties.length&&Object(n.reaction)((function(){return t.local_storage_properties.map((function(e){return t[e]}))}),(function(){return t.saveToStorage(t.local_storage_properties,e.STORAGES.LOCAL_STORAGE)}))}},{key:"setupReactionForSessionStorage",value:function(){var t=this;this.session_storage_properties.length&&Object(n.reaction)((function(){return t.session_storage_properties.map((function(e){return t[e]}))}),(function(){return t.saveToStorage(t.session_storage_properties,e.STORAGES.SESSION_STORAGE)}))}},{key:"saveToStorage",value:function(t,r){var n=JSON.stringify(this.getSnapshot(t),(function(e,t){if(null!==t)return t}));r===e.STORAGES.LOCAL_STORAGE?localStorage.setItem(this.store_name,n):r===e.STORAGES.SESSION_STORAGE&&sessionStorage.setItem(this.store_name,n)}},{key:"retrieveFromStorage",value:function(){var e=this,t=JSON.parse(localStorage.getItem(this.store_name,{})),r=JSON.parse(sessionStorage.getItem(this.store_name,{})),n=U(U({},t),r);Object.keys(n).forEach((function(t){return e[t]=n[t]}))}},{key:"setValidationErrorMessages",value:function(e,t){var r=this;this.validation_errors[e]&&!r.validation_errors[e].filter((function(e){return!t.includes(e)})).concat(t.filter((function(t){return!r.validation_errors[e].includes(t)}))).length||(this.validation_errors[e]=t)}},{key:"setValidationRules",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.keys(t).forEach((function(r){e.addRule(r,t[r])}))}},{key:"addRule",value:function(e,t){var r=this;this.validation_rules[e]=t,Object(n.intercept)(this,e,(function(t){return r.validateProperty(e,t.newValue),t}))}},{key:"validateProperty",value:function(e,t){var r=this,n=this.validation_rules[e].trigger,o=q({},e,void 0!==t?t:this[e]),i=q({},e,this.validation_rules[e].rules||[]);n&&Object.hasOwnProperty.call(this,n)&&(o[n]=this[n],i[n]=this.validation_rules[n].rules||[]);var a=new N(o,i,this);a.isPassed(),Object.keys(o).forEach((function(e){r.setValidationErrorMessages(e,a.errors.get(e))}))}},{key:"validateAllProperties",value:function(){var e=this,t=Object.keys(this.validation_rules),r=Object.keys(this.validation_errors);t.forEach((function(t){e.validateProperty(t,e[t])})),r.forEach((function(r){t.includes(r)||delete e.validation_errors[r]}))}},{key:"onSwitchAccount",value:function(e){var t=this;this.switchAccountDisposer=Object(n.when)((function(){return t.root_store.client.switch_broadcast}),z(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(r=t.switch_account_listener())||!r.then||"function"!=typeof r.then){e.next=6;break}r.then((function(){t.root_store.client.switchEndSignal(),t.onSwitchAccount(t.switch_account_listener)})),e.next=7;break;case 6:throw new Error("Switching account listeners are required to return a promise.");case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),Object(o.isProduction)()||console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))),this.switch_account_listener=e}},{key:"onPreSwitchAccount",value:function(e){var t=this;this.preSwitchAccountDisposer=Object(n.when)((function(){return t.root_store.client.pre_switch_broadcast}),z(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(r=t.pre_switch_account_listener())||!r.then||"function"!=typeof r.then){e.next=6;break}r.then((function(){t.root_store.client.setPreSwitchAccount(!1),t.onPreSwitchAccount(t.pre_switch_account_listener)})),e.next=7;break;case 6:throw new Error("Pre-switch account listeners are required to return a promise.");case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),Object(o.isProduction)()||console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))),this.pre_switch_account_listener=e}},{key:"onLogout",value:function(e){var t=this;this.logoutDisposer=Object(n.when)((function(){return t.root_store.client.has_logged_out}),z(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(r=t.logout_listener())||!r.then||"function"!=typeof r.then){e.next=6;break}r.then((function(){t.root_store.client.setLogout(!1),t.onLogout(t.logout_listener)})),e.next=7;break;case 6:throw new Error("Logout listeners are required to return a promise.");case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),Object(o.isProduction)()||console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))),this.logout_listener=e}},{key:"onClientInit",value:function(e){var t=this;this.clientInitDisposer=Object(n.when)((function(){return t.root_store.client.initialized_broadcast}),z(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(r=t.client_init_listener())||!r.then||"function"!=typeof r.then){e.next=6;break}r.then((function(){t.root_store.client.setInitialized(!1),t.onClientInit(t.client_init_listener)})),e.next=7;break;case 6:throw new Error("Client init listeners are required to return a promise.");case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),Object(o.isProduction)()||console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))),this.client_init_listener=e}},{key:"onNetworkStatusChange",value:function(e){var t=this;this.networkStatusChangeDisposer=Object(n.reaction)((function(){return t.root_store.common.is_network_online}),(function(e){try{t.network_status_change_listener(e)}catch(e){Object(o.isProduction)()||console.error(e)}})),this.network_status_change_listener=e}},{key:"onThemeChange",value:function(e){var t=this;this.themeChangeDisposer=Object(n.reaction)((function(){return t.root_store.ui.is_dark_mode_on}),(function(e){try{t.theme_change_listener(e)}catch(e){Object(o.isProduction)()||console.error(e)}})),this.theme_change_listener=e}},{key:"onRealAccountSignupEnd",value:function(e){var t=this;this.realAccountSignupEndedDisposer=Object(n.when)((function(){return t.root_store.ui.has_real_account_signup_ended}),(function(){try{var e=t.real_account_signup_ended_listener();if(!e||!e.then||"function"!=typeof e.then)throw new Error("Real account signup listeners are required to return a promise.");e.then((function(){t.root_store.ui.setRealAccountSignupEnd(!1),t.onRealAccountSignupEnd(t.real_account_signup_ended_listener)}))}catch(e){Object(o.isProduction)()||console.error(e)}})),this.real_account_signup_ended_listener=e}},{key:"disposePreSwitchAccount",value:function(){"function"==typeof this.preSwitchAccountDisposer&&this.preSwitchAccountDisposer(),this.pre_switch_account_listener=null}},{key:"disposeSwitchAccount",value:function(){"function"==typeof this.switchAccountDisposer&&this.switchAccountDisposer(),this.switch_account_listener=null}},{key:"disposeLogout",value:function(){"function"==typeof this.logoutDisposer&&this.logoutDisposer(),this.logout_listener=null}},{key:"disposeClientInit",value:function(){"function"==typeof this.clientInitDisposer&&this.clientInitDisposer(),this.client_init_listener=null}},{key:"disposeNetworkStatusChange",value:function(){"function"==typeof this.networkStatusChangeDisposer&&this.networkStatusChangeDisposer(),this.network_status_change_listener=null}},{key:"disposeThemeChange",value:function(){"function"==typeof this.themeChangeDisposer&&this.themeChangeDisposer(),this.theme_change_listener=null}},{key:"disposeRealAccountSignupEnd",value:function(){"function"==typeof this.realAccountSignupEndedDisposer&&this.realAccountSignupEndedDisposer(),this.real_account_signup_ended_listener=null}},{key:"onUnmount",value:function(){this.disposePreSwitchAccount(),this.disposeSwitchAccount(),this.disposeLogout(),this.disposeClientInit(),this.disposeNetworkStatusChange(),this.disposeThemeChange(),this.disposeRealAccountSignupEnd()}},{key:"assertHasValidCache",value:function(e){if(this.root_store.client.loginid!==e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];r.forEach((function(e){return e()})),this.partial_fetch_time=!1}}}])&&Y(t.prototype,r),i&&Y(t,i),e}(),A.STORAGES=Object.freeze({LOCAL_STORAGE:Symbol("LOCAL_STORAGE"),SESSION_STORAGE:Symbol("SESSION_STORAGE")}),D=V((C=R).prototype,"validation_errors",[n.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),T=V(C.prototype,"validation_rules",[n.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),M=V(C.prototype,"partial_fetch_time",[n.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),V(C.prototype,"retrieveFromStorage",[n.action],Object.getOwnPropertyDescriptor(C.prototype,"retrieveFromStorage"),C.prototype),V(C.prototype,"setValidationErrorMessages",[n.action],Object.getOwnPropertyDescriptor(C.prototype,"setValidationErrorMessages"),C.prototype),V(C.prototype,"setValidationRules",[n.action],Object.getOwnPropertyDescriptor(C.prototype,"setValidationRules"),C.prototype),V(C.prototype,"addRule",[n.action],Object.getOwnPropertyDescriptor(C.prototype,"addRule"),C.prototype),V(C.prototype,"validateProperty",[n.action],Object.getOwnPropertyDescriptor(C.prototype,"validateProperty"),C.prototype),V(C.prototype,"validateAllProperties",[n.action],Object.getOwnPropertyDescriptor(C.prototype,"validateAllProperties"),C.prototype),V(C.prototype,"onSwitchAccount",[f],Object.getOwnPropertyDescriptor(C.prototype,"onSwitchAccount"),C.prototype),V(C.prototype,"onPreSwitchAccount",[m],Object.getOwnPropertyDescriptor(C.prototype,"onPreSwitchAccount"),C.prototype),V(C.prototype,"onLogout",[h],Object.getOwnPropertyDescriptor(C.prototype,"onLogout"),C.prototype),V(C.prototype,"onClientInit",[b],Object.getOwnPropertyDescriptor(C.prototype,"onClientInit"),C.prototype),V(C.prototype,"onNetworkStatusChange",[y],Object.getOwnPropertyDescriptor(C.prototype,"onNetworkStatusChange"),C.prototype),V(C.prototype,"onThemeChange",[_],Object.getOwnPropertyDescriptor(C.prototype,"onThemeChange"),C.prototype),V(C.prototype,"onRealAccountSignupEnd",[v],Object.getOwnPropertyDescriptor(C.prototype,"onRealAccountSignupEnd"),C.prototype),V(C.prototype,"disposePreSwitchAccount",[g],Object.getOwnPropertyDescriptor(C.prototype,"disposePreSwitchAccount"),C.prototype),V(C.prototype,"disposeSwitchAccount",[w],Object.getOwnPropertyDescriptor(C.prototype,"disposeSwitchAccount"),C.prototype),V(C.prototype,"disposeLogout",[O],Object.getOwnPropertyDescriptor(C.prototype,"disposeLogout"),C.prototype),V(C.prototype,"disposeClientInit",[j],Object.getOwnPropertyDescriptor(C.prototype,"disposeClientInit"),C.prototype),V(C.prototype,"disposeNetworkStatusChange",[S],Object.getOwnPropertyDescriptor(C.prototype,"disposeNetworkStatusChange"),C.prototype),V(C.prototype,"disposeThemeChange",[k],Object.getOwnPropertyDescriptor(C.prototype,"disposeThemeChange"),C.prototype),V(C.prototype,"disposeRealAccountSignupEnd",[x],Object.getOwnPropertyDescriptor(C.prototype,"disposeRealAccountSignupEnd"),C.prototype),V(C.prototype,"onUnmount",[E],Object.getOwnPropertyDescriptor(C.prototype,"onUnmount"),C.prototype),V(C.prototype,"assertHasValidCache",[P],Object.getOwnPropertyDescriptor(C.prototype,"assertHasValidCache"),C.prototype),C)},"./Stores/connect.js":function(e,t,r){"use strict";r.d(t,"a",(function(){return u})),r.d(t,"b",(function(){return p}));var n=r("mobx-react"),o=r("react");function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var c=o.createContext(null);function l(e,t){var r=function(r){var i,s=o.useContext(c);if("function"!=typeof(i=t)||!i.prototype||!i.prototype.isReactComponent)return Object(n.useObserver)((function(){return t(a(a({},r),e(s,r)))}));return Object(n.useObserver)((function(){return n=a(a({},r),e(s,r)),o.createElement(t,n);var n}))};return r.displayName=t.name,r}var u=function(e){var t=e.store,r=e.children;return o.createElement(c.Provider,{value:a(a({},t),{},{mobxStores:t})},r)},p=function(e){return function(t){return l(e,t)}}},"./Utils/Validator/declarative-validation-rules.js":function(e,t,r){"use strict";r.d(t,"d",(function(){return m})),r.d(t,"b",(function(){return y})),r.d(t,"e",(function(){return _})),r.d(t,"c",(function(){return E})),r.d(t,"a",(function(){return D}));var n,o=r("@deriv/shared/utils/currency"),i=r.n(o),a=r("@deriv/shared/utils/object"),s=r.n(a),c=r("./_common/base/client_base.js"),l=r("./_common/common_functions.js"),u=r("@deriv/shared/utils/string"),p=r("@deriv/translations"),d=function(e){return null!=e&&String(e).replace(/\s/g,"").length>0},f=function(e){return/^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,63}$/.test(e)},m=function(e){return/(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d]+/.test(e)},h=function(e){return!/[`~!@#$%^&*)(_=+[}{\]\\/";:?><,|\d]+/.test(e)},b=function(e){return!/[`~!@#$%^&*)(_=+[}{\]\\/";:?><|]+/.test(e)},y=function(e){return!/[`~!$%^&*_=+[}{\]\\"?><|]+/.test(e)},_=function(e){return/^[-A-Za-z0-9\s]{0,20}$/.test(e)},v=function(e){return/^\+?((-|\s)*[0-9]){8,35}$/.test(e.replace(/[ ]/g,""))},g=function(e,t){return t.regex.test(e)},w=function(e){return 8===e.trim().length},O=function(e){return/^[a-zA-Z0-9]*[\w-]*$/.test(e)},j=function(e){return/^[+-]?\d+\.?\d*$/.test(e)},S=function(e,t){return e===Object(l.getElementById)(t.to.substr(1)).value},k=function(e,t){return e!==Object(l.getElementById)(t.to.substr(1)).value},x=function(e,t){return!t.min||e.length>=t.min},E=function(e,t){return(!t.min||e.length>=t.min)&&(!t.max||e.length<=t.max)},P=function(e,t){var r=s.a.cloneObject(t),n=null;if(r.allow_empty&&0===e.length)return!0;var o=!0;return"min"in r&&"function"==typeof r.min&&(r.min=r.min()),"max"in r&&"function"==typeof r.max&&(r.max=r.max()),!("float"===r.type?/^\d*(\.\d+)?$/:/^\d+$/).test(e)||isNaN(e)?(o=!1,n=Object(p.localize)("Should be a valid number.")):"float"===r.type&&r.decimals&&!new RegExp("^\\d+(\\.\\d{0,".concat(r.decimals,"})?$")).test(e)?(o=!1,n=Object(p.localize)("Up to {{decimal_count}} decimal places are allowed.",{decimal_count:r.decimals})):"min"in r&&"max"in r&&+r.min==+r.max&&+e!=+r.min?(o=!1,n=Object(p.localize)("Should be {{value}}",{value:i.a.addComma(r.min,r.format_money?i.a.getDecimalPlaces(c.a.get("currency")):void 0)})):"min"in r&&"max"in r&&(+e<+r.min||C(e,r))?(o=!1,n=Object(p.localize)("Should be between {{min_value}} and {{max_value}}",{min_value:i.a.addComma(r.min,r.format_money?i.a.getDecimalPlaces(c.a.get("currency")):void 0),max_value:i.a.addComma(r.max,r.format_money?i.a.getDecimalPlaces(c.a.get("currency")):void 0)})):"min"in r&&+e<+r.min?(o=!1,n=Object(p.localize)("Should be more than {{min_value}}",{min_value:i.a.addComma(r.min,r.format_money?i.a.getDecimalPlaces(c.a.get("currency")):void 0)})):"max"in r&&C(e,r)&&(o=!1,n=Object(p.localize)("Should be less than {{max_value}}",{max_value:i.a.addComma(r.max,r.format_money?i.a.getDecimalPlaces(c.a.get("currency")):void 0)})),D().number.message=n,o},C=function(e,t){return"float"===t.type?+e>+t.max:1===Object(u.compareBigUnsignedInt)(e,t.max)},D=function(){return n||(n={address:{func:y,message:Object(p.localize)("Only letters, numbers, space, and these special characters are allowed: {{permitted_characters}}",{permitted_characters:"- . ' # ; : ( ) , @ /"})},barrier:{func:j,message:Object(p.localize)("Only numbers and these special characters are allowed: {{permitted_characters}}",{permitted_characters:"+ - ."})},compare:{func:S,message:Object(p.localize)("The two passwords that you entered do not match.")},email:{func:f,message:Object(p.localize)("Invalid email address.")},general:{func:b,message:Object(p.localize)("Only letters, numbers, space, hyphen, period, and apostrophe are allowed.")},length:{func:E,message:Object(p.localize)("You should enter {{value}} characters.",{value:"{{value}}"})},letter_symbol:{func:h,message:Object(p.localize)("Only letters, space, hyphen, period, and apostrophe are allowed.")},min:{func:x,message:Object(p.localize)("Minimum of {{value}} characters required.",{value:"{{value}}"})},not_equal:{func:k,message:Object(p.localize)("{{value_one}} and {{value_two}} cannot be the same.",{value_one:"{{value_one}}",value_two:"{{value_two}}"})},number:{func:P,message:""},password:{func:m,message:Object(p.localize)("Password should have lower and uppercase letters with numbers.")},phone:{func:v,message:Object(p.localize)("Only numbers and spaces are allowed.")},postcode:{func:_,message:Object(p.localize)("Only letters, numbers, space, and hyphen are allowed.")},regular:{func:g,message:""},req:{func:d,message:""},signup_token:{func:w,message:Object(p.localize)("The length of token should be 8.")},tax_id:{func:O,message:Object(p.localize)("Should start with letter or number, and may contain hyphen and underscore.")}}),n}},"./_common/base/client_base.js":function(e,t,r){"use strict";var n;r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o}));var o=function(e){n=e}},"./_common/base/login.js":function(e,t,r){var n,o,i=r("@deriv/shared/utils/config").domain_app_ids,a=r("@deriv/shared/utils/config").getAppId,s=r("@deriv/shared/utils/url").getDerivComLink,c=r("@deriv/shared/utils/url").urlForCurrentDomain,l=r("@deriv/shared/utils/os").isMobile,u=r("@deriv/translations").getLanguage,p=r("./App/Constants/app-config.js").website_name,d=r("./_common/common_functions.js").getElementById,f=r("./_common/storage.js").isStorageSupported,m=r("./_common/storage.js").LocalStore,h=(n=function(){var e=localStorage.getItem("config.server_url"),t=u(),r=m.get("signup_device")||(l()?"mobile":"desktop"),n=m.get("date_first_contact"),o="&signup_device=".concat(r).concat(n?"&date_first_contact=".concat(n):""),s="https://oauth.deriv.app/oauth2/authorize?app_id=".concat(a(),"&l=").concat(t).concat(o,"&brand=").concat(p.toLowerCase());return e&&/qa/.test(e)?"https://".concat(e,"/oauth2/authorize?app_id=").concat(a(),"&l=").concat(t).concat(o,"&brand=").concat(p.toLowerCase()):a===i["deriv.app"]?s:c(s)},{redirectToLogin:function(e){e||o()||!f(sessionStorage)||(sessionStorage.setItem("redirect_url",window.location.href),window.location.href=n())},isLoginPages:o=function(){return/logged_inws|redirect/i.test(window.location.pathname)},initOneAll:function(){["google","facebook"].forEach((function(e){var t=d("#button_".concat(e));t.removeEventListener("click"),t.addEventListener("click",(function(t){var r;t.preventDefault(),window.location.href=(r=e,"".concat(n(),"&social_signup=").concat(r))}))}))},redirectToSignUp:function(){window.open(s("/signup/"))}});e.exports=h},"./_common/base/server_time.js":function(e,t,r){var n,o,i,a=r("./_common/utility.js").PromiseClass,s=(o=!1,i=new a,{init:function(e){o||(n=e,i.resolve(n.server_time),o=!0)},get:function(){return o&&n.server_time?n.server_time.clone():void 0},timePromise:function(){return o?Promise.resolve(n.server_time):i.promise}});e.exports=s},"./_common/common_functions.js":function(e,t,r){var n=r("./_common/utility.js").createElement;e.exports={isVisible:function(e){return!(!e||0===e.offsetWidth&&0===e.offsetHeight)},getElementById:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;return t.getElementById(e)||n("div")}}},"./_common/storage.js":function(e,t,r){var n=r("../node_modules/js-cookie/src/js.cookie.js"),o=r("@deriv/shared/utils/config").isProduction,i=r("@deriv/shared/utils/object"),a=function(e){return JSON.parse(this.getItem(e)||"{}")},s=function(e,t){if(t&&t instanceof Object)try{this.setItem(e,JSON.stringify(t))}catch(e){}};"undefined"!=typeof Storage&&(Storage.prototype.getObject=a,Storage.prototype.setObject=s);var c=function(e){if(void 0===e)return!1;try{return e.setItem("test","1"),e.removeItem("test"),!0}catch(e){return!1}},l=function(e){this.storage=e,this.storage.getObject=a,this.storage.setObject=s};l.prototype={get:function(e){return this.storage.getItem(e)||void 0},set:function(e,t){void 0!==t&&this.storage.setItem(e,t)},getObject:function(e){return"function"==typeof this.storage.getObject?this.storage.getObject(e):JSON.parse(this.storage.getItem(e)||"{}")},setObject:function(e,t){"function"==typeof this.storage.setObject?this.storage.setObject(e,t):this.storage.setItem(e,JSON.stringify(t))},remove:function(e){this.storage.removeItem(e)},clear:function(){this.storage.clear()}};var u=function(e){this.store=void 0!==e?e:{}};u.prototype={get:function(e){return i.getPropertyValue(this.store,e)},set:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.store,n=e;Array.isArray(n)||(n=[n]),n.length>1?(n[0]in r&&!i.isEmptyObject(r[n[0]])||(r[n[0]]={}),this.set(n.slice(1),t,r[n[0]])):r[n[0]]=t},getObject:function(e){return JSON.parse(this.get(e)||"{}")},setObject:function(e,t){this.set(e,JSON.stringify(t))},remove:function(){for(var e=this,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];r.forEach((function(t){delete e.store[t]}))},clear:function(){this.store={}},has:function(e){return void 0!==this.get(e)},keys:function(){return Object.keys(this.store)},call:function(e){"function"==typeof this.get(e)&&this.get(e)()}};var p=new u;p.prototype=u.prototype,p.prototype.getResponse=function(e){var t=e;if("string"==typeof t){var r=t.split(".");t=["response",r[0]].concat(r)}return this.get(t)},p.prototype.getByMsgType=p.getResponse,p.set("response",{});var d=function(e,t){var r=window.location.hostname;this.initialized=!1,this.cookie_name=e,this.domain=t||(o()?".".concat(r.split(".").slice(-2).join(".")):r),this.path="/",this.expires=new Date("Thu, 1 Jan 2037 12:00:00 GMT"),this.value={}};d.prototype={read:function(){var e=n.get(this.cookie_name);try{this.value=e?JSON.parse(e):{}}catch(e){this.value={}}this.initialized=!0},write:function(e,t,r){this.initialized||this.read(),this.value=e,t&&(this.expires=t),n.set(this.cookie_name,this.value,{expires:this.expires,path:this.path,domain:this.domain,secure:!!r})},get:function(e){return this.initialized||this.read(),this.value[e]},set:function(e,t){this.initialized||this.read(),this.value[e]=t,n.set(this.cookie_name,this.value,{expires:new Date(this.expires),path:this.path,domain:this.domain})},remove:function(){n.remove(this.cookie_name,{path:this.path,domain:this.domain})}};var f,m;c(window.localStorage)&&(m=new l(window.localStorage)),c(window.sessionStorage)&&(f=new l(window.sessionStorage)),m||(m=new u),f||(f=new u),e.exports={isStorageSupported:c,CookieStorage:d,removeCookies:function(){var e=[".".concat(document.domain.split(".").slice(-2).join(".")),".".concat(document.domain)],t=window.location.pathname.split("/",2)[1];""!==t&&(t="/".concat(t));for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];o.forEach((function(r){n.remove(r,{path:"/",domain:e[0]}),n.remove(r,{path:"/",domain:e[1]}),n.remove(r),new RegExp(r).test(document.cookie)&&t&&(n.remove(r,{path:t,domain:e[0]}),n.remove(r,{path:t,domain:e[1]}),n.remove(r,{path:t}))}))},State:p,SessionStore:f,LocalStore:m}},"./_common/utility.js":function(e,t){var r;e.exports={template:function(e,t){var r=t;return t&&!Array.isArray(t)&&(r=[t]),e.replace(/\[_(\d+)]/g,(function(e,t){return r[+t-1]}))},createElement:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=document.createElement(e);return Object.keys(t).forEach((function(e){var n=t[e];"text"===e?r.textContent=n:"html"===e?r.html(n):r.setAttribute(e,n)})),r},getStaticHash:function(){return r=r||(document.querySelector('script[src*="main"]').getAttribute("src")||"").split(".")[1]},PromiseClass:function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.promise=new Promise((function(e,r){t.reject=r,t.resolve=e}))}}},"./index.js":function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return of}));r("../node_modules/promise-polyfill/src/index.js"),r("../node_modules/event-source-polyfill/src/eventsource.js");var n=r("../node_modules/prop-types/index.js"),o=r.n(n),i=r("react"),a=r("../node_modules/react-loadable/lib/index.js"),s=r.n(a),c=r("mobx-react"),l=r("react-router"),u=r("@deriv/components/lib/u-i-loader"),p=r.n(u),d=r("@deriv/shared/utils/routes"),f=r.n(d),m=r("react-router-dom"),h=r("./App/Components/Routes/helpers.js"),b=r("@deriv/components/lib/loading"),y=r.n(b),_=(r("@deriv/components/lib/loading.css"),r("@deriv/shared/utils/route")),v=r("@deriv/translations"),g=r("@deriv/components/lib/desktop-wrapper"),w=r.n(g),O=(r("@deriv/components/lib/desktop-wrapper.css"),r("@deriv/components/lib/div100vh-container")),j=r.n(O),S=(r("@deriv/components/lib/div100vh-container.css"),r("@deriv/components/lib/mobile-wrapper")),k=r.n(S),x=(r("@deriv/components/lib/mobile-wrapper.css"),r("@deriv/components/lib/swipeable-wrapper")),E=r.n(x),P=(r("@deriv/components/lib/swipeable-wrapper.css"),r("@deriv/shared/utils/screen")),C=r("./App/Components/Elements/chart-loader.jsx"),D=r("./Modules/Trading/Helpers/digits.js"),T=r("./Stores/connect.js"),M=r("../node_modules/classnames/index.js"),A=r.n(M),R=r("../node_modules/react-transition-group/index.js");function N(){return(N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function I(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function z(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}var U=function(e,t){var r;void 0===t&&(t=L);var n,o=[],i=!1;return function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];return i&&r===this&&t(a,o)||(n=e.apply(this,a),i=!0,r=this,o=a),n}};var q="object"==typeof performance&&"function"==typeof performance.now?function(){return performance.now()}:function(){return Date.now()};function F(e){cancelAnimationFrame(e.id)}function H(e,t){var r=q();var n={id:requestAnimationFrame((function o(){q()-r>=t?e.call(null):n.id=requestAnimationFrame(o)}))};return n}var Y=null;function V(e){if(void 0===e&&(e=!1),null===Y||e){var t=document.createElement("div"),r=t.style;r.width="50px",r.height="50px",r.overflow="scroll",r.direction="rtl";var n=document.createElement("div"),o=n.style;return o.width="100px",o.height="100px",t.appendChild(n),document.body.appendChild(t),t.scrollLeft>0?Y="positive-descending":(t.scrollLeft=1,Y=0===t.scrollLeft?"negative":"positive-ascending"),document.body.removeChild(t),Y}return Y}var B=function(e,t){return e};function W(e){var t,r,n=e.getItemOffset,o=e.getEstimatedTotalSize,a=e.getItemSize,s=e.getOffsetForIndexAndAlignment,c=e.getStartIndexForOffset,l=e.getStopIndexForStartIndex,u=e.initInstanceProps,p=e.shouldResetStyleCacheOnItemSizeChange,d=e.validateProps;return r=t=function(e){function t(t){var r;return(r=e.call(this,t)||this)._instanceProps=u(r.props,z(z(r))),r._outerRef=void 0,r._resetIsScrollingTimeoutId=null,r.state={instance:z(z(r)),isScrolling:!1,scrollDirection:"forward",scrollOffset:"number"==typeof r.props.initialScrollOffset?r.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},r._callOnItemsRendered=void 0,r._callOnItemsRendered=U((function(e,t,n,o){return r.props.onItemsRendered({overscanStartIndex:e,overscanStopIndex:t,visibleStartIndex:n,visibleStopIndex:o})})),r._callOnScroll=void 0,r._callOnScroll=U((function(e,t,n){return r.props.onScroll({scrollDirection:e,scrollOffset:t,scrollUpdateWasRequested:n})})),r._getItemStyle=void 0,r._getItemStyle=function(e){var t,o=r.props,i=o.direction,s=o.itemSize,c=o.layout,l=r._getItemStyleCache(p&&s,p&&c,p&&i);if(l.hasOwnProperty(e))t=l[e];else{var u,d=n(r.props,e,r._instanceProps),f=a(r.props,e,r._instanceProps),m="horizontal"===i||"horizontal"===c;l[e]=((u={position:"absolute"})["rtl"===i?"right":"left"]=m?d:0,u.top=m?0:d,u.height=m?"100%":f,u.width=m?f:"100%",t=u)}return t},r._getItemStyleCache=void 0,r._getItemStyleCache=U((function(e,t,r){return{}})),r._onScrollHorizontal=function(e){var t=e.currentTarget,n=t.clientWidth,o=t.scrollLeft,i=t.scrollWidth;r.setState((function(e){if(e.scrollOffset===o)return null;var t=r.props.direction,a=o;if("rtl"===t)switch(V()){case"negative":a=-o;break;case"positive-descending":a=i-n-o}return a=Math.max(0,Math.min(a,i-n)),{isScrolling:!0,scrollDirection:e.scrollOffset<o?"forward":"backward",scrollOffset:a,scrollUpdateWasRequested:!1}}),r._resetIsScrollingDebounced)},r._onScrollVertical=function(e){var t=e.currentTarget,n=t.clientHeight,o=t.scrollHeight,i=t.scrollTop;r.setState((function(e){if(e.scrollOffset===i)return null;var t=Math.max(0,Math.min(i,o-n));return{isScrolling:!0,scrollDirection:e.scrollOffset<t?"forward":"backward",scrollOffset:t,scrollUpdateWasRequested:!1}}),r._resetIsScrollingDebounced)},r._outerRefSetter=function(e){var t=r.props.outerRef;r._outerRef=e,"function"==typeof t?t(e):null!=t&&"object"==typeof t&&t.hasOwnProperty("current")&&(t.current=e)},r._resetIsScrollingDebounced=function(){null!==r._resetIsScrollingTimeoutId&&F(r._resetIsScrollingTimeoutId),r._resetIsScrollingTimeoutId=H(r._resetIsScrolling,150)},r._resetIsScrolling=function(){r._resetIsScrollingTimeoutId=null,r.setState({isScrolling:!1},(function(){r._getItemStyleCache(-1,null)}))},r}I(t,e),t.getDerivedStateFromProps=function(e,t){return G(e,t),d(e),null};var r=t.prototype;return r.scrollTo=function(e){e=Math.max(0,e),this.setState((function(t){return t.scrollOffset===e?null:{scrollDirection:t.scrollOffset<e?"forward":"backward",scrollOffset:e,scrollUpdateWasRequested:!0}}),this._resetIsScrollingDebounced)},r.scrollToItem=function(e,t){void 0===t&&(t="auto");var r=this.props.itemCount,n=this.state.scrollOffset;e=Math.max(0,Math.min(e,r-1)),this.scrollTo(s(this.props,e,t,n,this._instanceProps))},r.componentDidMount=function(){var e=this.props,t=e.direction,r=e.initialScrollOffset,n=e.layout;if("number"==typeof r&&null!=this._outerRef){var o=this._outerRef;"horizontal"===t||"horizontal"===n?o.scrollLeft=r:o.scrollTop=r}this._callPropsCallbacks()},r.componentDidUpdate=function(){var e=this.props,t=e.direction,r=e.layout,n=this.state,o=n.scrollOffset;if(n.scrollUpdateWasRequested&&null!=this._outerRef){var i=this._outerRef;if("horizontal"===t||"horizontal"===r)if("rtl"===t)switch(V()){case"negative":i.scrollLeft=-o;break;case"positive-ascending":i.scrollLeft=o;break;default:var a=i.clientWidth,s=i.scrollWidth;i.scrollLeft=s-a-o}else i.scrollLeft=o;else i.scrollTop=o}this._callPropsCallbacks()},r.componentWillUnmount=function(){null!==this._resetIsScrollingTimeoutId&&F(this._resetIsScrollingTimeoutId)},r.render=function(){var e=this.props,t=e.children,r=e.className,n=e.direction,a=e.height,s=e.innerRef,c=e.innerElementType,l=e.innerTagName,u=e.itemCount,p=e.itemData,d=e.itemKey,f=void 0===d?B:d,m=e.layout,h=e.outerElementType,b=e.outerTagName,y=e.style,_=e.useIsScrolling,v=e.width,g=this.state.isScrolling,w="horizontal"===n||"horizontal"===m,O=w?this._onScrollHorizontal:this._onScrollVertical,j=this._getRangeToRender(),S=j[0],k=j[1],x=[];if(u>0)for(var E=S;E<=k;E++)x.push(Object(i.createElement)(t,{data:p,key:f(E,p),index:E,isScrolling:_?g:void 0,style:this._getItemStyle(E)}));var P=o(this.props,this._instanceProps);return Object(i.createElement)(h||b||"div",{className:r,onScroll:O,ref:this._outerRefSetter,style:N({position:"relative",height:a,width:v,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:n},y)},Object(i.createElement)(c||l||"div",{children:x,ref:s,style:{height:w?"100%":P,pointerEvents:g?"none":void 0,width:w?P:"100%"}}))},r._callPropsCallbacks=function(){if("function"==typeof this.props.onItemsRendered&&this.props.itemCount>0){var e=this._getRangeToRender(),t=e[0],r=e[1],n=e[2],o=e[3];this._callOnItemsRendered(t,r,n,o)}if("function"==typeof this.props.onScroll){var i=this.state,a=i.scrollDirection,s=i.scrollOffset,c=i.scrollUpdateWasRequested;this._callOnScroll(a,s,c)}},r._getRangeToRender=function(){var e=this.props,t=e.itemCount,r=e.overscanCount,n=this.state,o=n.isScrolling,i=n.scrollDirection,a=n.scrollOffset;if(0===t)return[0,0,0,0];var s=c(this.props,a,this._instanceProps),u=l(this.props,s,a,this._instanceProps),p=o&&"backward"!==i?1:Math.max(1,r),d=o&&"forward"!==i?1:Math.max(1,r);return[Math.max(0,s-p),Math.max(0,Math.min(t-1,u+d)),s,u]},t}(i.PureComponent),t.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},r}var G=function(e,t){e.children,e.direction,e.height,e.layout,e.innerTagName,e.outerTagName,e.width,t.instance},X=function(e,t,r){var n=e.itemSize,o=r.itemMetadataMap,i=r.lastMeasuredIndex;if(t>i){var a=0;if(i>=0){var s=o[i];a=s.offset+s.size}for(var c=i+1;c<=t;c++){var l=n(c);o[c]={offset:a,size:l},a+=l}r.lastMeasuredIndex=t}return o[t]},$=function(e,t,r,n,o){for(;n<=r;){var i=n+Math.floor((r-n)/2),a=X(e,i,t).offset;if(a===o)return i;a<o?n=i+1:a>o&&(r=i-1)}return n>0?n-1:0},Z=function(e,t,r,n){for(var o=e.itemCount,i=1;r<o&&X(e,r,t).offset<n;)r+=i,i*=2;return $(e,t,Math.min(r,o-1),Math.floor(r/2),n)},J=function(e,t){var r=e.itemCount,n=t.itemMetadataMap,o=t.estimatedItemSize,i=t.lastMeasuredIndex,a=0;if(i>=r&&(i=r-1),i>=0){var s=n[i];a=s.offset+s.size}return a+(r-i-1)*o},K=W({getItemOffset:function(e,t,r){return X(e,t,r).offset},getItemSize:function(e,t,r){return r.itemMetadataMap[t].size},getEstimatedTotalSize:J,getOffsetForIndexAndAlignment:function(e,t,r,n,o){var i=e.direction,a=e.height,s=e.layout,c=e.width,l="horizontal"===i||"horizontal"===s?c:a,u=X(e,t,o),p=J(e,o),d=Math.max(0,Math.min(p-l,u.offset)),f=Math.max(0,u.offset-l+u.size);switch("smart"===r&&(r=n>=f-l&&n<=d+l?"auto":"center"),r){case"start":return d;case"end":return f;case"center":return Math.round(f+(d-f)/2);case"auto":default:return n>=f&&n<=d?n:n<f?f:d}},getStartIndexForOffset:function(e,t,r){return function(e,t,r){var n=t.itemMetadataMap,o=t.lastMeasuredIndex;return(o>0?n[o].offset:0)>=r?$(e,t,o,0,r):Z(e,t,Math.max(0,o),r)}(e,r,t)},getStopIndexForStartIndex:function(e,t,r,n){for(var o=e.direction,i=e.height,a=e.itemCount,s=e.layout,c=e.width,l="horizontal"===o||"horizontal"===s?c:i,u=X(e,t,n),p=r+l,d=u.offset+u.size,f=t;f<a-1&&d<p;)f++,d+=X(e,f,n).size;return f},initInstanceProps:function(e,t){var r={itemMetadataMap:{},estimatedItemSize:e.estimatedItemSize||50,lastMeasuredIndex:-1};return t.resetAfterIndex=function(e,n){void 0===n&&(n=!0),r.lastMeasuredIndex=Math.min(r.lastMeasuredIndex,e-1),t._getItemStyleCache(-1),n&&t.forceUpdate()},r},shouldResetStyleCacheOnItemSizeChange:!1,validateProps:function(e){e.itemSize}});var Q=r("@deriv/components/lib/icon"),ee=r.n(Q),te=(r("@deriv/components/lib/icon.css"),r("@deriv/components/lib/themed-scrollbars")),re=r.n(te),ne=(r("@deriv/components/lib/themed-scrollbars.css"),function(e){var t=e.error;return i.createElement("div",{className:"portfolio-empty"},i.createElement("div",{className:"portfolio-empty__wrapper"},t?i.createElement("span",{className:"portfolio-empty__text"},t):i.createElement(i.Fragment,null,i.createElement(ee.a,{icon:"IcPortfolio",className:"portfolio-empty__icon",size:96,color:"disabled"}),i.createElement("span",{className:"portfolio-empty__text"},Object(v.localize)("No open positions")))))}),oe=r("./Modules/Reports/Helpers/shortcode.js"),ie=r.n(oe),ae=r("./Stores/Modules/Contract/Helpers/logic.js"),se=r("./Stores/Modules/Contract/Helpers/multiplier.js"),ce=r("./Stores/Modules/Trading/Constants/contract.js"),le=function(e){return"rise_fall"===e||"rise_fall_equal"===e||"high_low"===e},ue=r("./App/Components/Elements/ContentLoader/index.js"),pe=r("./App/Components/Elements/PositionsDrawer/contract-type-cell.jsx"),de=r("./App/Components/Elements/PositionsDrawer/ProgressSlider/index.js"),fe=r("./Stores/Modules/Portfolio/Helpers/details.js"),me=function(e){var t=e.contract_info,r=e.has_progress_slider,n=t.tick_count?Object(fe.a)(t):null;return i.createElement(i.Fragment,null,i.createElement("div",{className:A()("positions-drawer-card__grid","positions-drawer-card__grid-underlying-trade")},i.createElement("div",{className:"positions-drawer-card__underlying-name"},i.createElement(ee.a,{icon:t.underlying?"IcUnderlying".concat(t.underlying):"IcUnknown",size:34}),i.createElement("span",{className:"positions-drawer-card__symbol"},t.display_name)),i.createElement("div",{className:"positions-drawer-card__type"},i.createElement(pe.a,{multiplier:t.multiplier,type:t.contract_type,is_high_low:ie.a.isHighLow({shortcode:t.shortcode})}))),(!r||!!t.is_sold)&&i.createElement("div",{className:"progress-slider--completed"}),r&&!t.is_sold&&i.createElement(de.a,{is_loading:!1,start_time:t.purchase_time,expiry_time:t.date_expiry,current_tick:n,ticks_count:t.tick_count}))};me.propTypes={contract_info:o.a.object,has_progress_slider:o.a.bool};var he=me,be=r("@deriv/components/lib/button"),ye=r.n(be),_e=(r("@deriv/components/lib/button.css"),r("./App/Components/Elements/PositionsDrawer/toggle-positions-drawer-dialog.jsx")),ve=r("./App/Components/Elements/PositionsDrawer/PositionsDrawerCard/multiplier-close-actions.jsx"),ge=function(e){var t=e.contract_info,r=e.is_multiplier,n=e.is_sell_requested,o=e.onClickCancel,a=e.onClickSell,s=Object(ae.p)(t),c=Object(ae.q)(t),l=!!(c||r&&!t.is_sold);return l?i.createElement(R.CSSTransition,{in:l,timeout:250,classNames:{enter:"positions-drawer-card__sell-button--enter",enterDone:"positions-drawer-card__sell-button--enter-done",exit:"positions-drawer-card__sell-button--exit"},unmountOnExit:!0},r?i.createElement("div",{className:A()("positions-drawer-card__sell-button",{"positions-drawer-card__sell-button--has-cancel-btn":s})},i.createElement(ve.a,{className:"dc-btn--sell",contract_info:t,is_sell_requested:n,onClickCancel:o,onClickSell:a}),(c||s)&&i.createElement(_e.a,{is_valid_to_cancel:s,contract_id:t.contract_id})):i.createElement("div",{className:"positions-drawer-card__sell-button"},i.createElement(ye.a,{id:"dt_drawer_card_".concat(t.contract_id,"_button"),className:A()("dc-btn--sell",{"dc-btn--loading":n}),is_disabled:!c||n,text:Object(v.localize)("Sell contract"),onClick:function(){return a(t.contract_id)},secondary:!0}))):null};ge.propTypes={contract_info:o.a.object,is_multiplier:o.a.bool,is_sell_requested:o.a.bool,onClickCancel:o.a.func,onClickSell:o.a.func};var we=ge,Oe=r("@deriv/components/lib/money"),je=r.n(Oe),Se=(r("@deriv/components/lib/money.css"),r("@deriv/shared/utils/currency")),ke=r.n(Se),xe=r("./Stores/Modules/Contract/Helpers/limit-orders.js"),Ee=function(e){var t=e.contract_info,r=e.contract_update,n=e.currency,o=e.status,a=t.buy_price,s=t.bid_price,c=t.is_sold,l=t.profit,u=s-a,p=Object(xe.b)(r),d=p.take_profit,f=p.stop_loss,m=Object(ae.b)(t);return i.createElement(i.Fragment,null,i.createElement("div",{className:"positions-drawer-card__grid positions-drawer-card__grid-items"},i.createElement("div",{className:"positions-drawer-card__item"},i.createElement("span",{className:"positions-drawer-card__item-label"},Object(v.localize)("Stake:")),i.createElement("span",{className:"positions-drawer-card__item-value"},i.createElement(je.a,{amount:a-m,currency:n}))),i.createElement("div",{className:"positions-drawer-card__item"},i.createElement("span",{className:"positions-drawer-card__item-label"},Object(v.localize)("Current stake:")),i.createElement("span",{className:A()("positions-drawer-card__item-value",{"positions-drawer-card__profit-loss--is-crypto":ke.a.isCryptocurrency(n),"positions-drawer-card--loss":l<0,"positions-drawer-card--profit":l>0})},i.createElement(je.a,{amount:s,currency:n}))),i.createElement("div",{className:"positions-drawer-card__item"},i.createElement("span",{className:"positions-drawer-card__item-label"},Object(v.localize)("Deal cancel. fee:")),i.createElement("span",{className:"positions-drawer-card__item-value"},m?i.createElement(je.a,{amount:m,currency:n}):i.createElement("strong",null,"-"))),i.createElement("div",{className:"positions-drawer-card__item"},i.createElement("span",{className:"positions-drawer-card__item-label"},Object(v.localize)("Take profit:")),i.createElement("span",{className:"positions-drawer-card__item-value"},d?i.createElement(je.a,{amount:d,currency:n}):i.createElement("strong",null,"-"))),i.createElement("div",{className:"positions-drawer-card__item"},i.createElement("span",{className:"positions-drawer-card__item-label"},Object(v.localize)("Buy price:")),i.createElement("span",{className:"positions-drawer-card__item-value"},i.createElement(je.a,{amount:a,currency:n}))),i.createElement("div",{className:"positions-drawer-card__item"},i.createElement("span",{className:"positions-drawer-card__item-label"},Object(v.localize)("Stop loss:")),i.createElement("span",{className:"positions-drawer-card__item-value"},f?i.createElement(i.Fragment,null,i.createElement("strong",null,"-"),i.createElement(je.a,{amount:f,currency:n})):i.createElement("strong",null,"-")))),i.createElement("div",{className:"positions-drawer-card__total-profit-loss"},i.createElement("span",{className:"positions-drawer-card__total-profit-loss-label"},Object(v.localize)("Total profit/loss:")),i.createElement("div",{className:A()(" positions-drawer-card__profit-loss positions-drawer-card__total-profit-loss-value",{"positions-drawer-card__profit-loss--is-crypto":ke.a.isCryptocurrency(n),"positions-drawer-card__profit-loss--negative":u<0,"positions-drawer-card__profit-loss--positive":u>0})},i.createElement(je.a,{amount:u,currency:n}),i.createElement("div",{className:A()("positions-drawer-card__indicative--movement",{"positions-drawer-card__indicative--movement-complete":c})},"profit"===o&&i.createElement(ee.a,{icon:"IcProfit"}),"loss"===o&&i.createElement(ee.a,{icon:"IcLoss"})))))},Pe=function(e){var t=e.contract_info,r=e.contract_update,n=e.currency,o=e.is_multiplier,a=e.status,s=Object(ae.h)(t),c=t.is_sold,l=t.sell_price,u=t.profit;return o?i.createElement(Ee,{contract_info:t,contract_update:r,currency:n,status:a}):i.createElement(i.Fragment,null,i.createElement("div",{className:A()("positions-drawer-card__grid","positions-drawer-card__grid-profit-payout")},i.createElement("div",{className:A()("positions-drawer-card__profit-loss","positions-drawer-card__profit-loss-label")},c?Object(v.localize)("Profit/Loss:"):Object(v.localize)("Potential profit/loss:")),i.createElement("div",{className:A()("positions-drawer-card__indicative","positions-drawer-card__indicative-label")},c?Object(v.localize)("Payout:"):Object(v.localize)("Indicative price:")),i.createElement("div",{className:A()("positions-drawer-card__profit-loss",{"positions-drawer-card__profit-loss--is-crypto":ke.a.isCryptocurrency(n),"positions-drawer-card__profit-loss--negative":u<0,"positions-drawer-card__profit-loss--positive":u>0})},i.createElement(je.a,{amount:Math.abs(u),currency:n}),i.createElement("div",{className:A()("positions-drawer-card__indicative--movement",{"positions-drawer-card__indicative--movement-complete":c})},"profit"===a&&i.createElement(ee.a,{icon:"IcProfit"}),"loss"===a&&i.createElement(ee.a,{icon:"IcLoss"}))),i.createElement("div",{className:"positions-drawer-card__indicative"},i.createElement(je.a,{amount:l||s,currency:n}),i.createElement("div",{className:A()("positions-drawer-card__indicative--movement",{"positions-drawer-card__indicative--movement-complete":c})},"profit"===a&&i.createElement(ee.a,{icon:"IcProfit"}),"loss"===a&&i.createElement(ee.a,{icon:"IcLoss"})))),i.createElement("div",{className:A()("positions-drawer-card__grid","positions-drawer-card__grid-price-payout")},i.createElement("div",{className:"positions-drawer-card__purchase-price"},i.createElement("span",{className:"positions-drawer-card__purchase-label"},Object(v.localize)("Purchase price:")),i.createElement("span",{className:"positions-drawer-card__purchase-value"},i.createElement(je.a,{amount:t.buy_price,currency:n}))),i.createElement("div",{className:"positions-drawer-card__payout-price"},i.createElement("span",{className:"positions-drawer-card__payout-label"},Object(v.localize)("Potential payout:")),i.createElement("span",{className:"positions-drawer-card__payout-value"},t.payout?i.createElement(je.a,{amount:t.payout,currency:n}):i.createElement("strong",null,"-")))))};Pe.propTypes={contract_info:o.a.object,currency:o.a.string,is_multiplier:o.a.bool,status:o.a.string};var Ce=Pe,De=r("./App/Components/Elements/PositionsDrawer/result-overlay.jsx"),Te=function(e){var t=e.className,r=e.contract_info,n=e.contract_update,o=e.currency,a=e.is_sell_requested,s=e.is_unsupported,c=e.profit_loss,l=e.onClickCancel,u=e.onClickSell,p=e.onClickRemove,d=e.result,f=e.show_transition,h=e.status,b=e.toggleUnsupportedContractModal,y=e.onMouseEnter,_=e.onMouseLeave,v=i.createElement("div",{className:"positions-drawer-card__content-loader"},i.createElement(ue.a,{speed:2})),g=c>=0?"won":"lost",w=Object(se.a)(r.contract_type),O=i.createElement(i.Fragment,null,i.createElement(he,{contract_info:r,has_progress_slider:!w}),i.createElement(Ce,{contract_info:r,contract_update:n,currency:o,is_multiplier:w,status:h})),j=f&&"positions-drawer-card__wrapper--transition";return i.createElement("div",{id:"dt_drawer_card_".concat(r.contract_id),className:A()("positions-drawer-card__wrapper",j,t),onMouseEnter:function(){y(!0,r)},onMouseLeave:function(){_(!1,r)},onClick:function(){_(!1,r)}},i.createElement(De.b,{contract_id:r.contract_id,is_unsupported:s,is_multiplier:w,is_visible:!!r.is_sold,onClickRemove:p,onClick:function(){return b(!0)},result:d||g}),s?i.createElement("div",{className:A()("positions-drawer-card",{"positions-drawer-card--green":!w&&c>0&&!d,"positions-drawer-card--red":!w&&c<0&&!d}),onClick:function(){return b(!0)}},r.underlying?O:v):i.createElement(m.NavLink,{className:A()("positions-drawer-card",{"positions-drawer-card--green":!w&&c>0&&!d,"positions-drawer-card--red":!w&&c<0&&!d}),to:{pathname:"/contract/".concat(r.contract_id),state:{}}},r.underlying?O:v),i.createElement(we,{contract_info:r,is_multiplier:w,is_sell_requested:a,onClickCancel:l,onClickSell:u}))};Te.propTypes={className:o.a.string,contract_info:o.a.object,currency:o.a.string,current_tick:o.a.number,duration:o.a.oneOfType([o.a.number,o.a.string]),duration_unit:o.a.string,exit_spot:o.a.oneOfType([o.a.number,o.a.string]),id:o.a.number,indicative:o.a.number,is_loading:o.a.bool,is_sell_requested:o.a.bool,is_unsupported:o.a.bool,is_valid_to_sell:o.a.oneOfType([o.a.number,o.a.bool]),onClickRemove:o.a.func,onClickSell:o.a.func,profit_loss:o.a.number,result:o.a.string,sell_time:o.a.number,status:o.a.string,toggleUnsupportedContractModal:o.a.func,type:o.a.string};var Me=Te;function Ae(e){return(Ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Re(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ne(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ie(e,t){return(Ie=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ze(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Ue(e);if(t){var o=Ue(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Le(this,r)}}function Le(e,t){return!t||"object"!==Ae(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ue(e){return(Ue=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qe(){return(qe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var Fe=i.forwardRef((function(e,t){return i.createElement(re.a,qe({},e,{height:"calc(100vh - 220px)",forwardedRef:t}),e.children)}));Fe.displayName="ThemedScrollbars";var He=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ie(e,t)}(a,e);var t,r,n,o=ze(a);function a(){var e;Re(this,a);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=o.call.apply(o,[this].concat(r))).state={},e.itemRender=function(t){var r=t.data,n=t.index,o=t.style,a=t.isScrolling,s=e.props,c=s.currency,l=s.onClickCancel,u=s.onClickSell,p=s.onClickRemove,d=s.onHoverPosition,f=s.toggleUnsupportedContractModal,m=r[n];return i.createElement("div",{key:m.id,style:o},i.createElement(R.CSSTransition,{appear:!0,key:m.id,in:!0,timeout:a?0:150,classNames:a?{}:{appear:"positions-drawer-card__wrapper--enter",enter:"positions-drawer-card__wrapper--enter",enterDone:"positions-drawer-card__wrapper--enter-done",exit:"positions-drawer-card__wrapper--exit"},unmountOnExit:!0},i.createElement(Me,qe({onClickCancel:l,onClickSell:u,onClickRemove:p,onMouseEnter:function(){d(!0,m)},onMouseLeave:function(){d(!1,m)},key:m.id,currency:c,show_transition:!a,toggleUnsupportedContractModal:f},m))))},e.filterByContractType=function(t){var r,n=t.contract_type,o=t.shortcode,i=e.props.trade_contract_type,a=le(i),s=ie.a.isHighLow({shortcode:o}),c=a?["CALL","CALLE","PUT","PUTE"]:null===(r=Object(ce.b)()[i])||void 0===r?void 0:r.trade_types,l=null==c?void 0:c.includes(n);return"high_low"===i?s:l&&!s},e.hasPositionsHeightChanged=function(e,t){if(e.length!==t.length)return!0;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!0;return!1},e.getCachedPositionHeight=function(t){return e.positionsHeight[t]},e.getPositionHeight=function(e){var t=e.contract_info,r=Object(ae.q)(t),n=Object(se.a)(t.contract_type),o=t.tick_count>0;return t.is_sold?n?250:158:o?202:n?290:r?228:188},e}return t=a,(r=[{key:"componentDidMount",value:function(){this.props.onMount(),this.setState({drawer_height:this.drawer_ref.clientHeight})}},{key:"componentWillReceiveProps",value:function(e){(this.props.symbol&&e.symbol!==this.props.symbol||this.props.trade_contract_type&&e.trade_contract_type!==this.props.trade_contract_type)&&this.list_ref&&this.scrollbar_ref&&(this.list_ref.scrollTo(0),this.scrollbar_ref.scrollToTop())}},{key:"componentWillUnmount",value:function(){this.props.onUnmount()}},{key:"calculatePositionsHeight",value:function(){var e=this,t=this.positions.map((function(t){return e.getPositionHeight(t)}));this.list_ref&&this.hasPositionsHeightChanged(t,this.positionsHeight)&&setTimeout((function(){return e.list_ref?e.list_ref.resetAfterIndex(0):void 0})),this.positionsHeight=t}},{key:"render",value:function(){var e=this,t=this.props,r=t.all_positions,n=t.error,o=t.is_empty,a=t.is_positions_drawer_on,s=t.symbol,c=t.toggleDrawer;this.positions=r.filter((function(t){return t.contract_info&&s===t.contract_info.underlying&&e.filterByContractType(t.contract_info)})),this.calculatePositionsHeight();var l=i.createElement(i.Fragment,null,i.createElement("div",{style:{height:"100%"}},this.state.drawer_height>0&&i.createElement(R.TransitionGroup,{component:"div",style:{position:"relative",height:"100%",width:"100%"}},i.createElement(K,{itemCount:this.positions.length,itemData:this.positions,itemSize:this.getCachedPositionHeight,height:this.state.drawer_height,outerElementType:o?null:Fe,ref:function(t){return e.list_ref=t},useIsScrolling:!0},this.itemRender))));return i.createElement(i.Fragment,null,i.createElement("div",{className:A()("positions-drawer__bg",{"positions-drawer__bg--open":a})}),i.createElement("div",{id:"dt_positions_drawer",className:A()("positions-drawer",{"positions-drawer--open":a})},i.createElement("div",{className:"positions-drawer__header"},i.createElement("span",{className:"positions-drawer__title"},Object(v.localize)("Recent positions")),i.createElement("div",{id:"dt_positions_drawer_close_icon",className:"positions-drawer__icon-close",onClick:c},i.createElement(ee.a,{icon:"IcMinusBold"}))),i.createElement("div",{className:"positions-drawer__body",ref:function(t){e.drawer_ref=t}},0===this.positions.length||n?i.createElement(ne,{error:n}):l),i.createElement("div",{className:"positions-drawer__footer"},i.createElement(m.NavLink,{id:"dt_positions_drawer_report_button",className:"dc-btn dc-btn--secondary dc-btn__large",to:f.a.reports},i.createElement("span",{className:"dc-btn__text"},Object(v.localize)("Go to Reports"))))))}}])&&Ne(t.prototype,r),n&&Ne(t,n),a}(i.Component);He.propTypes={all_positions:c.PropTypes.arrayOrObservableArray,children:o.a.any,currency:o.a.string,error:o.a.string,is_empty:o.a.bool,is_positions_drawer_on:o.a.bool,onChangeContractUpdate:o.a.func,onClickContractUpdate:o.a.func,onClickRemove:o.a.func,onClickSell:o.a.func,onHoverPosition:o.a.func,onMount:o.a.func,onUnmount:o.a.func,symbol:o.a.string,toggleDrawer:o.a.func};var Ye=Object(T.b)((function(e){var t=e.modules,r=e.client,n=e.ui;return{currency:r.currency,all_positions:t.portfolio.all_positions,error:t.portfolio.error,onClickCancel:t.portfolio.onClickCancel,is_empty:t.portfolio.is_empty,onClickSell:t.portfolio.onClickSell,onClickRemove:t.portfolio.removePositionById,onHoverPosition:t.portfolio.onHoverPosition,onMount:t.portfolio.onMount,onUnmount:t.portfolio.onUnmount,symbol:t.trade.symbol,trade_contract_type:t.trade.contract_type,is_positions_drawer_on:n.is_positions_drawer_on,toggleDrawer:n.togglePositionsDrawer,toggleUnsupportedContractModal:n.toggleUnsupportedContractModal}}))(He);function Ve(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function Be(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){Ve(i,n,o,a,s,"next",e)}function s(e){Ve(i,n,o,a,s,"throw",e)}a(void 0)}))}}var We=function e(t){var r=t.node,n=t.opacity,o=t.direction,i=t.color,a=-1===o&&n>.1?-1:1,s=.05;n<.3&&n>.1&&(s=.01);var c=parseFloat(Number(n+a*s).toFixed(2));r.style.backgroundColor=i.replace("".concat(n,")"),"".concat(Number(c).toFixed(2),")"));var l=requestAnimationFrame(e.bind(void 0,{node:r,opacity:c,direction:a,color:r.style.backgroundColor}));c>=1&&(cancelAnimationFrame(l),r.querySelectorAll("div").forEach((function(e){e.style.backgroundColor=""})),r.style.backgroundColor="")},Ge=function(e){var t=getComputedStyle(e.firstElementChild).getPropertyValue("background-color"),r=t.startsWith("rgba")?t:"rgba(".concat(t.replace("rgb(","").replace(")","").split(", ").join(","),",1)");e.querySelectorAll("div").forEach((function(e){e.style.backgroundColor="transparent"})),e.style.backgroundColor=r;requestAnimationFrame(We.bind(void 0,{node:e,opacity:1,direction:-1,color:r}))},Xe=function(){return new Promise((function(e){return requestAnimationFrame(e)}))},$e=function(){var e=Be(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(r=document.querySelector(t))){e.next=3;break}return e.abrupt("return",Promise.resolve(r));case 3:return e.next=5,Xe();case 5:return e.abrupt("return",Promise.resolve($e(t)));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ze=function(){var e=Be(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==document.querySelector(t)){e.next=3;break}return e.abrupt("return",Promise.resolve(!0));case 3:return e.next=5,Xe();case 5:return e.abrupt("return",Promise.resolve(Ze(t)));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Je=function(e){return new Promise((function(t){return setTimeout(t,e)}))},Ke=function(){var e=Be(regeneratorRuntime.mark((function e(){var t,r,n,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=document.querySelector(".cq-menu-dropdown"))){e.next=5;break}return t.querySelector(".icon-reset").click(),e.next=5,Ze(".cq-menu-dropdown");case 5:return e.next=7,$e(".cq-symbol-select-btn");case 7:return r=e.sent,e.next=10,Je(100);case 10:return r.click(),e.next=13,$e(".cq-menu-dropdown-enter-done");case 13:return e.next=15,$e(".icon-reset");case 15:return e.sent.click(),e.next=19,$e(".data-hj-whitelist");case 19:n=e.sent,Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"value").set.call(n,"Volatility"),o=new Event("input",{bubbles:!0}),n.dispatchEvent(o),i=document.querySelector(".category-synthetic_index").querySelector(".category-content"),Ge(i);case 26:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Qe=function(){return i.createElement("div",{className:"market-is-closed-overlay"},i.createElement("p",null,i.createElement(v.Localize,{i18n_default_text:"Market is closed."})),i.createElement("p",null,i.createElement(v.Localize,{i18n_default_text:"Try Synthetic Indices which simulate real-world market volatility and are open 24/7."})),i.createElement(ye.a,{className:"market-is-closed-overlay__button",onClick:Ke,text:Object(v.localize)("Try Synthetic Indices"),primary:!0}))},et=r("mobx");function tt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function rt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tt(Object(r),!0).forEach((function(t){nt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function nt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ot(e){return(ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function it(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return at(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return at(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function at(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function st(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ct(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function lt(e,t){return(lt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ut(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=ft(e);if(t){var o=ft(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return pt(this,r)}}function pt(e,t){return!t||"object"!==ot(t)&&"function"!=typeof t?dt(e):t}function dt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ft(e){return(ft=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var mt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&lt(e,t)}(a,e);var t,r,n,o=ut(a);function a(){var e;st(this,a);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=o.call.apply(o,[this].concat(r))).state={is_visible:!1,store:"trade"},e.setVisibility=e.stateVisibility.bind(dt(e)),e.styles={container:{fontSize:"10px",lineHeight:"15px",position:"absolute",zIndex:1,background:"rgba(0, 0, 0, 0.8)",color:"#ccc",padding:"10px",marginTop:"-10px",display:"none",overflowY:"auto",height:"100%",width:"100%"},prop_name:{color:"yellowgreen"},tabs:{display:"flex",textAlign:"center",marginBottom:"10px"},tab:{fontSize:"18px",border:"1px solid grey",width:"100%",padding:"10px"}},e.componentDidMount=function(){document.addEventListener("keyup",e.setVisibility,!1)},e.componentWillUnmount=function(){document.removeEventListener("keyup",e.setVisibility)},e.renderStoreContent=function(t){var r=it(t,2),n=r[0],o=r[1];return"root_store"!==n&&"function"!=typeof o&&i.createElement("div",{key:n},i.createElement("span",{style:e.styles.prop_name},n,":")," ",o&&"object"===ot(o)?JSON.stringify(Object(et.toJS)(o),null,1):o)},e}return t=a,(r=[{key:"stateVisibility",value:function(e){e.ctrlKey&&83===e.keyCode&&this.setState({is_visible:!this.state.is_visible})}},{key:"render",value:function(){var e=this,t=this.styles,r=t.container,n=t.tab,o=t.tabs,a=this.state,s=a.is_visible,c=a.store;return i.createElement("code",{id:"state_info",style:Object.assign({},r,{display:s?"block":"none"})},i.createElement("div",{style:o},Object.keys(this.props).map((function(t){return i.createElement("p",{key:t,onClick:function(){return e.setState({store:t})},style:rt(rt({},n),{},{fontWeight:t===c&&"bold"})},t)}))),this.props[this.state.store].sort().map(this.renderStoreContent))}}])&&ct(t.prototype,r),n&&ct(t,n),a}(i.Component);mt.propTypes={entries:o.a.array};var ht=Object(T.b)((function(e){var t=e.modules,r=e.client,n=e.ui;return{trade:Object.entries(t.trade),client:Object.entries(r),ui:Object.entries(n),portfolio:Object.entries(t.portfolio)}}))(mt),bt=r("./Modules/Contract/Components/Digits/index.js"),yt=r("./Modules/SmartChart/Components/bottom-widgets.jsx"),_t=r("./Modules/SmartChart/index.js"),vt=function(e){var t=e.updateChartType,r=e.updateGranularity;return i.createElement(i.Fragment,null,i.createElement(w.a,null,i.createElement(_t.b,{portalNodeId:"modal_root",onChartType:function(e){return t(e)},onGranularity:function(e){return r(e)}}),i.createElement(_t.i,{portalNodeId:"modal_root",searchInputClassName:"data-hj-whitelist"}),i.createElement(_t.d,{portalNodeId:"modal_root"}),i.createElement(_t.k,{portalNodeId:"modal_root",searchInputClassName:"data-hj-whitelist"}),i.createElement(_t.g,{portalNodeId:"modal_root"})))};vt.propTypes={updateChartType:o.a.func,updateGranularity:o.a.func};var gt=vt,wt=function(e){var t=e.position,r=e.updateChartType,n=e.updateGranularity;return i.createElement(_t.j,{position:t||Object(P.isMobile)()?"bottom":null},i.createElement(_t.b,{portalNodeId:"modal_root",onChartType:r,onGranularity:n}),Object(P.isDesktop)()&&i.createElement(_t.i,{portalNodeId:"modal_root",searchInputClassName:"data-hj-whitelist"}),Object(P.isDesktop)()&&i.createElement(_t.k,{portalNodeId:"modal_root",searchInputClassName:"data-hj-whitelist"}),Object(P.isDesktop)()&&i.createElement(_t.d,{portalNodeId:"modal_root"}),Object(P.isDesktop)()&&i.createElement(_t.g,{portalNodeId:"modal_root"}))};wt.propTypes={position:o.a.string,updateChartType:o.a.func,updateGranularity:o.a.func};var Ot=wt,jt=r("./Modules/SmartChart/Components/top-widgets.jsx"),St=function(e){return e&&function(t){e({target:{name:"symbol",value:t}})}},kt=Object(T.b)((function(e){var t=e.modules;return{contract_info:t.contract_trade.last_contract.contract_info||{},digits_info:t.contract_trade.last_contract.digits_info||{},display_status:t.contract_trade.last_contract.display_status,is_digit_contract:t.contract_trade.last_contract.is_digit_contract,is_ended:t.contract_trade.last_contract.is_ended,selected_digit:t.trade.last_digit,onDigitChange:t.trade.onChange,underlying:t.trade.symbol,trade_type:t.trade.contract_type}}))((function(e){var t=e.contract_info,r=e.digits,n=e.digits_info,o=e.display_status,a=e.is_digit_contract,s=e.is_ended,c=e.onDigitChange,l=e.selected_digit,u=e.tick,p=e.trade_type,d=e.underlying;return i.createElement(bt.a,{contract_info:t,digits_array:r,digits_info:n,display_status:o,is_digit_contract:a,is_ended:s,onDigitChange:c,is_trade_page:!0,tick:u,trade_type:p,selected_digit:l,underlying:d})})),xt=Object(T.b)((function(e){var t=e.modules,r=e.ui;return{onSymbolChange:t.trade.onChange,theme:r.is_dark_mode_on?"dark":"light"}}))((function(e){var t,r=e.onSymbolChange,n=e.charts_ref,o=e.theme,a=e.is_digits_widget_active;return n&&n.chart&&(t=n.chart.yAxiswidth),i.createElement(jt.a,{is_mobile:Object(P.isMobile)(),is_digits_widget_active:a,onSymbolChange:St(r),theme:o,y_axis_width:t})})),Et=Object(T.b)((function(e){var t=e.modules;return{updateChartType:t.contract_trade.updateChartType,updateGranularity:t.contract_trade.updateGranularity}}))((function(e){var t=e.updateChartType,r=e.updateGranularity;return i.createElement(Ot,{updateChartType:t,updateGranularity:r})})),Pt=function(e){var t=e.digits,r=e.tick;return i.createElement(yt.a,{Digits:i.createElement(kt,{digits:t,tick:r})})},Ct=(Object(T.b)((function(e){var t=e.modules;return{updateChartType:t.contract_trade.updateChartType,updateGranularity:t.contract_trade.updateGranularity}}))((function(e){var t=e.updateChartType,r=e.updateGranularity;return i.createElement(gt,{updateChartType:t,updateGranularity:r})})),s()({loader:function(){return Object(P.isMobile)()?Promise.all([r.e("screen-large~screen-small"),r.e("screen-small")]).then(r.bind(null,"./Modules/Trading/Components/Form/screen-small.jsx")):Promise.all([r.e("screen-large~screen-small"),r.e("screen-large")]).then(r.bind(null,"./Modules/Trading/Components/Form/screen-large.jsx"))},loading:function(){return null},render:function(e,t){var r=e.default;return i.createElement(r,t)}})),Dt=function(e){var t=e.is_market_closed,r=e.is_trade_enabled;return i.createElement(i.Fragment,null,i.createElement(Ct,{is_trade_enabled:r,is_market_closed:Object(P.isMobile)()?void 0:t}))};Dt.propTypes={is_market_closed:o.a.bool,is_trade_enabled:o.a.bool};var Tt=i.memo(Dt),Mt=function(e){if(!window.DOMParser)return null;var t=(new window.DOMParser).parseFromString(e,"image/svg+xml").children[0],r=t.attributes,n=r.width,o=r.height;n=1*n.value,o=1*o.value;var i=[];return[].forEach.call(t.children,(function(e){var t=e.attributes,r=t.d,n=t.fill,o=t.stroke;i.push({points:r.value.match(/M|C|H|A|L|V|-?\d*(\.\d+)?/g).filter((function(e){return e})).map((function(e){return-1==="MCHALV".indexOf(e)?1*e:e})),fill:n&&n.value,stroke:o&&o.value})})),{width:n,height:o,paths:i,with_color:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"white";return{width:n,height:o,paths:i.map((function(r){var n=r.points,o=r.fill;return{points:n,stroke:r.stroke,fill:"white"!==o?e:t}}))}}}},At=Mt('\n<svg width="15" height="20" viewBox="0 0 15 20" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M7,20 C11.2,14.4 14,10.8659932 14,7 C14,3.13400675 10.8659932,0 7,0 C3.13400675,0 0,3.13400675 0,7 C0,10.8659932 2.8,14.4 7,20 Z" fill="#333333"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="A7 7 4.2 0 6.283185307179586" fill="white" />\n</svg>'),Rt=Mt('\n<svg width="19" height="20" viewBox="0 0 19 20" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M2 2L18 2L18 12L2 12Z" fill="white" />\n<path fill-rule="evenodd" clip-rule="evenodd" d="M2,0 L2,1 L19,1 L19,12 L2,12 L2,20 L1,20 L1,0 L2,0 Z M18,8 L15,8 L15,11 L18,11 L18,8 Z M12,8 L9,8 L9,11 L12,11 L12,8 Z M6,8 L3,8 L3,11 L6,11 L6,8 Z M15,5 L12,5 L12,8 L15,8 L15,5 Z M9,5 L6,5 L6,8 L9,8 L9,5 Z M6,2 L3,2 L3,5 L6,5 L6,2 Z M18,2 L15,2 L15,5 L18,5 L18,2 Z M12,2 L9,2 L9,5 L12,5 L12,2 Z" fill="#333333"/>\n</svg>\n');function Nt(e,t){return qt(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}(e,t)||Lt(e,t)||zt()}function It(e){return qt(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Lt(e)||zt()}function zt(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Lt(e,t){if(e){if("string"==typeof e)return Ut(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ut(e,t):void 0}}function Ut(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function qt(e){if(Array.isArray(e))return e}function Ft(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ht(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ft(Object(r),!0).forEach((function(t){Yt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ft(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Yt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vt(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var Bt=navigator.userAgent.search("Firefox")>0,Wt=function(e){return function(t){var r=t.epoch_array,n=t.price_array,o=Vt(t,["epoch_array","price_array"]);return i.createElement(_t.f,{epoch_array:r,price_array:n,draw_callback:function(t){return e(Ht(Ht({},t),o))}})}};function Gt(e){var t=e.status,r=e.profit,n=e.is_dark_theme?{open:"#377cfc",won:"#00a79e",lost:"#cc2e3d",sold:"#ffad3a",fg:"#ffffff",bg:"#0e0e0e"}:{open:"#377cfc",won:"#4bb4b3",lost:"#ec3f3f",sold:"#ffad3a",fg:"#333333",bg:"#ffffff"},o=n[t||"open"];return"open"===t&&r&&(o=n[r>0?"won":"lost"]),o}var Xt=function(e){return e?Math.max(Math.min(Math.sqrt(e/18),1.2),.8):1},$t=[],Zt=function(e,t){if(0===$t.length)for(var r=255;r>=0;--r)$t[r]=(r<16?"0":"")+r.toString(16);var n=Math.floor(255*Math.min(Math.max(t-e-10,0)/6,1));return $t[n]},Jt=function(e,t){var r=t.zoom,n=t.top,o=t.left,i=t.icon;e.save();var a=Xt(r);e.translate(o-i.width*a/2,n-i.height*a/2),e.scale(a,a),i.paths.forEach((function(t){var r,n,o=t.points,i=t.fill,a=t.stroke;i&&(e.fillStyle=i),a&&(e.strokeStyle=a),e.beginPath();for(var s=0;s<o.length;s++){var c=void 0,l=void 0,u=void 0,p=void 0,d=void 0,f=void 0,m=void 0;if("M"===o[s])c=o[++s],l=o[++s],e.moveTo(c,l);else if("L"===o[s])c=o[++s],l=o[++s],e.lineTo(c,l);else if("V"===o[s])l=o[++s],e.lineTo(r,l);else if("H"===o[s])c=o[++s],e.lineTo(c,n);else if("Q"===o[s])u=o[++s],d=o[++s],c=o[++s],l=o[++s],e.quadraticCurveTo(u,d,c,l);else if("C"===o[s])u=o[++s],d=o[++s],p=o[++s],f=o[++s],c=o[++s],l=o[++s],e.bezierCurveTo(u,d,p,f,c,l);else if("A"===o[s]){c=o[++s],l=o[++s],m=o[++s];var h=o[++s],b=o[++s];e.arc(c,l,m,h,b)}r=c,n=l}e.closePath(),i&&e.fill(),a&&e.stroke()})),e.scale(1,1),e.restore()},Kt=function(e){var t=e.ctx,r=e.text,n=e.tick,o=n.zoom,i=n.left,a=n.top,s=Xt(o),c=Math.floor(3*s+7);t.font="".concat(c,"px Roboto"),r.split(/\n/).forEach((function(e,r){var n=Math.ceil(t.measureText(e).width);t.fillText(e,i-5-n,a+r*c+1)}))},Qt=function(e){var t=e.ctx,r=e.is_dark_theme,n=e.text,o=e.left,i=e.top,a=e.scale;t.textAlign="center";var s=Math.floor(12*a);t.font="bold ".concat(s,"px BinarySymbols, Roboto"),Bt||(t.shadowColor=r?"rgba(16,19,31,1)":"rgba(255,255,255,1)",t.shadowBlur=12);for(var c=0;c<(Bt?1:5);++c)t.fillText(n,o,i)},er=Wt((function(e){var t=e.ctx,r=e.canvas_height,n=It(e.points),o=n[0],i=n.slice(1),a=Nt(e.prices,1)[0],s=e.is_last_contract,c=e.is_dark_theme,l=e.granularity,u=e.contract_info,p=u.status,d=u.profit,f=u.is_sold,m=u.is_expired,h=u.tick_count,b=t,y=Gt({is_dark_theme:c,status:p,profit:f?d:null});b.save(),b.strokeStyle=y,b.fillStyle=y;var _=s&&o.visible&&!f,v=Xt(o.zoom),g=r/window.devicePixelRatio;if(a&&(a=Math.min(Math.max(a,2),g-32)),_&&(Kt({ctx:b,text:"Start\nTime",tick:{zom:o.zoom,left:o.left-1*v,top:g-50}}),b.beginPath(),b.setLineDash([3,3]),b.moveTo(o.left-1*v,0),i.length&&a&&(b.lineTo(o.left-1*v,a-34*v),b.moveTo(o.left-1*v,a+4*v)),b.lineTo(o.left-1*v,r),b.stroke()),i.length&&a){var w=i[0],O=i[i.length-1],j=f?Zt(o.left,O.left):"";(o.visible||w.visible||O.visible)&&(b.strokeStyle=y+j,b.beginPath(),b.setLineDash([1,1]),b.moveTo(o.left,a),b.lineTo(w.left,a),b.stroke(),b.beginPath(),b.setLineDash([]),b.moveTo(w.left,a),b.lineTo(O.left,a),b.stroke(),b.strokeStyle=y),s&&0===l&&!f&&(i.filter((function(e){return e.visible})).forEach((function(e){var t=e===O?y:Gt({status:"fg",is_dark_theme:c});b.fillStyle=t+j,b.beginPath(),b.arc(e.left-1*v,e.top,1.5*v,0,2*Math.PI),b.fill()})),b.fillStyle=y),0===l&&([w,m?O:null].forEach((function(e){e&&e.visible&&(b.strokeStyle=y+j,b.setLineDash([2,2]),b.beginPath(),b.moveTo(e.left-1*v,e.top),b.lineTo(e.left-1*v,a),b.stroke(),b.fillStyle=y+j,b.beginPath(),b.arc(e.left-1*v,e.top,3*v,0,2*Math.PI),b.fill(),e===w&&(b.beginPath(),b.fillStyle=Gt({status:"bg",is_dark_theme:c})+j,b.arc(e.left-1*v,e.top,2*v,0,2*Math.PI),b.fill()))})),b.strokeStyle=y,b.fillStyle=y),o.visible&&!f&&Qt({ctx:b,scale:v,is_dark_theme:c,text:"".concat(i.length-1,"/").concat(h),left:o.left,top:a-27*v}),o.visible&&Jt(b,{top:a-9*v,left:o.left-1*v,zoom:o.zoom,icon:At.with_color(y+(f?j:""),Gt({status:"bg",is_dark_theme:c})+(f?j:""))}),O.visible&&f&&Jt(b,{top:a-9*v,left:O.left+8*v,zoom:O.zoom,icon:Rt.with_color(y,Gt({status:"bg",is_dark_theme:c}))}),b.restore()}else b.restore()})),tr={AUD:"A$",EUR:"€",GBP:"£",JPY:"¥",USD:"$",BTC:"B",BCH:"",ETH:"E",ETC:"",LTC:"L",UST:""},rr={TickContract:er,NonTickContract:Wt((function(e){var t=e.ctx,r=e.canvas_height,n=Nt(e.points,4),o=n[0],i=n[1],a=n[2],s=n[3],c=e.is_last_contract,l=Nt(e.prices,3),u=l[0],p=l[1],d=l[2],f=e.is_dark_theme,m=e.granularity,h=e.currency,b=e.contract_info,y=b.is_sold,_=b.status,v=b.profit,g=t;0!==m&&(a&&(a.top=p),s&&(s.top=d));var w=Gt({status:_,profit:v,is_dark_theme:f});g.save(),g.strokeStyle=w,g.fillStyle=w;var O=c&&o.visible&&!y,j=c&&!y&&v&&o.visible&&u,S=Xt(o.zoom),k=y?Zt(o.left,i.left):"",x=r/window.devicePixelRatio;if(u&&(u=Math.min(Math.max(u,2),x-32)),O&&(Kt({ctx:g,text:"Start\nTime",tick:{zom:o.zoom,left:o.left-1*S,top:x-50}}),g.beginPath(),g.setLineDash([3,3]),g.moveTo(o.left-1*S,0),u&&(g.lineTo(o.left-1*S,u-(j?38:20)*S),g.moveTo(o.left-1*S,u+4*S)),g.lineTo(o.left-1*S,r),g.stroke()),u&&a&&(o.visible||i.visible||Math.sign(o.left)!==Math.sign(i.left))&&(g.strokeStyle=w+k,g.beginPath(),g.setLineDash([1,1]),g.moveTo(o.left,u),g.lineTo(a.left,u),g.stroke(),g.beginPath(),g.setLineDash([]),g.moveTo(a.left,u),g.lineTo(i.left,u),g.stroke(),g.strokeStyle=w),[a,s].forEach((function(e){e&&e.visible&&(g.strokeStyle=w+k,g.setLineDash([2,2]),g.beginPath(),g.moveTo(e.left-1*S,e.top),g.lineTo(e.left-1*S,u),g.stroke(),g.fillStyle=w+k,g.beginPath(),g.arc(e.left-1*S,e.top,3*S,0,2*Math.PI),g.fill(),e===a&&(g.beginPath(),g.fillStyle=Gt({status:"bg",is_dark_theme:f})+k,g.arc(e.left-1*S,e.top,2*S,0,2*Math.PI),g.fill()),g.fillStyle=w,g.strokeStyle=w)})),o&&o.visible&&u&&Jt(g,{top:u-9*S,left:o.left-1*S,zoom:o.zoom,icon:At.with_color(w+k)}),j){var E=tr[h]||"",P=ke.a.getDecimalPlaces(h),C="".concat(v<0?"-":v>0?"+":" ").concat(E).concat(Math.abs(v).toFixed(P));Qt({ctx:g,scale:S,text:C,is_dark_theme:f,left:o.left,top:u-28*S})}i.visible&&Jt(g,{top:u-9*S,left:i.left+8*S,zoom:i.zoom,icon:Rt.with_color(w,Gt({status:"bg",is_dark_theme:f}))}),g.restore()})),DigitContract:Wt((function(e){var t=e.ctx,r=It(e.points),n=r[0],o=r.slice(1),i=Nt(e.prices,2),a=i[0],s=i[1],c=e.is_last_contract,l=e.is_dark_theme,u=e.granularity,p=e.contract_info,d=p.status,f=p.profit,m=p.is_sold,h=p.tick_stream,b=p.tick_count,y=t,_=Gt({is_dark_theme:l,status:d,profit:m?f:null});y.save(),y.strokeStyle=_,y.fillStyle=_;var v=c&&n.visible&&!m,g=Xt(n.zoom);if(0!==u&&n&&a&&(n.top=a),v&&(y.beginPath(),y.setLineDash([3,3]),y.moveTo(n.left-1*g,0),o.length&&(y.lineTo(n.left-1*g,n.top-34*g),y.moveTo(n.left-1*g,n.top+4*g)),y.lineTo(n.left-1*g,y.canvas.height),y.stroke()),o.length){var w=o[o.length-1],O=m?Zt(n.left,w.left):"";0!==u&&w&&s&&(w.top=s),n.visible&&n.top&&!m&&Qt({ctx:y,scale:g,is_dark_theme:l,text:"".concat(o.length,"/").concat(b),left:n.left-1*g,top:n.top-27*g}),!n.visible||0!==u&&m||Jt(y,{top:n.top-9*g,left:n.left-1*g,zoom:n.zoom,icon:At.with_color(_+O,Gt({status:"bg",is_dark_theme:l})+O)}),o.forEach((function(e,t){if(e===w&&e.visible&&(0===u||e===w)&&(0===u||e!==w||m)){var r=e!==w?Gt({status:"fg",is_dark_theme:l}):_;y.beginPath(),y.fillStyle=r,y.arc(e.left,e.top,7*g,0,2*Math.PI),y.fill(),y.beginPath(),y.fillStyle=m?_:Gt({status:"bg",is_dark_theme:l}),y.arc(e.left,e.top,6*g,0,2*Math.PI),y.fill();var n=h[t].tick_display_value.slice(-1);y.fillStyle=m?"white":r,y.textAlign="center",y.shadowBlur=0,y.font="bold ".concat(12*g,"px BinarySymbols, Roboto"),y.fillText(n,e.left,e.top)}})),w.visible&&m&&(y.fillStyle=_,Jt(y,{top:w.top-16*g,left:w.left+8*g,zoom:w.zoom,icon:Rt.with_color(_,Gt({status:"bg",is_dark_theme:l}))})),y.restore()}else y.restore()}))};function nr(e){return function(e){if(Array.isArray(e))return or(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return or(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return or(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function or(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ir(){return(ir=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ar(e){return(ar="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function lr(e,t,r){return t&&cr(e.prototype,t),r&&cr(e,r),e}function ur(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pr(e,t)}function pr(e,t){return(pr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function dr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=mr(e);if(t){var o=mr(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return fr(this,r)}}function fr(e,t){return!t||"object"!==ar(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function mr(e){return(mr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var hr,br,yr=function(e){var t=e.tick,r=e.digits,n=e.setTick,o=e.setDigits;return i.useEffect((function(){n(t)}),[t]),i.useEffect((function(){o(r)}),r),null},_r=function(e){ur(r,e);var t=dr(r);function r(){var e;sr(this,r);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).state={digits:[],tick:{}},e.bottomWidgets=function(t){var r=t.digits,n=t.tick;return i.createElement(yr,{digits:r,tick:n,setTick:function(t){return e.setState({tick:t})},setDigits:function(t){return e.setState({digits:t})}})},e.onChangeSwipeableIndex=function(t){0===t?e.props.setMobileDigitView(!0):e.props.setMobileDigitView(!1),e.setState({is_digits_widget_active:0===t})},e}return lr(r,[{key:"componentDidMount",value:function(){this.props.onMount()}},{key:"componentWillUnmount",value:function(){this.props.onUnmount()}},{key:"componentDidUpdate",value:function(e){Object(P.isMobile)()&&e.symbol!==this.props.symbol&&this.setState({digits:[]})}},{key:"render",value:function(){var e=this.props.NotificationMessages,t=Object(P.isMobile)()?"mobile-wrapper":"sidebar__container desktop-only",r=this.props.form_components.length>0&&this.props.is_trade_enabled;return i.createElement("div",{id:"trade_container",className:"trade-container"},i.createElement(w.a,null,i.createElement(Ye,null)),i.createElement(j.a,{id:"chart_container",className:"chart-container",is_disabled:Object(P.isDesktop)(),height_offset:"249px"},i.createElement(e,null),i.createElement(i.Suspense,{fallback:i.createElement(C.a,{is_dark:this.props.is_dark_theme,is_visible:!this.props.symbol||this.props.is_chart_loading})},i.createElement(w.a,null,i.createElement("div",{className:"chart-container__wrapper"},i.createElement(C.a,{is_visible:this.props.is_chart_loading}),i.createElement(Or,null))),i.createElement(k.a,null,i.createElement(C.a,{is_visible:this.props.is_chart_loading||Object(D.b)(this.props.contract_type)&&!this.state.digits[0]}),i.createElement(E.a,{onChange:this.onChangeSwipeableIndex,is_disabled:!this.props.show_digits_stats||!r||this.props.is_chart_loading},this.props.show_digits_stats&&i.createElement(kt,{digits:this.state.digits,tick:this.state.tick}),i.createElement(Or,{bottomWidgets:this.props.show_digits_stats?this.bottomWidgets:void 0,is_digits_widget_active:this.props.show_digits_stats?this.state.is_digits_widget_active:void 0})))),i.createElement(ht,null)),i.createElement("div",{className:t},this.props.is_market_closed&&i.createElement(Qe,null),i.createElement(Tt,{is_market_closed:this.props.is_market_closed,is_trade_enabled:r&&"online"===this.props.network_status.class})))}}]),r}(i.Component),vr=Object(T.b)((function(e){var t=e.common,r=e.modules,n=e.ui;return{network_status:t.network_status,contract_type:r.trade.contract_type,form_components:r.trade.form_components,is_chart_loading:r.trade.is_chart_loading,is_market_closed:r.trade.is_market_closed,show_digits_stats:r.trade.show_digits_stats,is_trade_enabled:r.trade.is_trade_enabled,setMobileDigitView:r.trade.setMobileDigitView,symbol:r.trade.symbol,onMount:r.trade.onMount,onUnmount:r.trade.onUnmount,purchase_info:r.trade.purchase_info,NotificationMessages:n.notification_messages_ui}}))(_r),gr=Object(T.b)((function(e){var t=e.modules,r=e.ui,n=e.client;return{markers_array:t.contract_trade.markers_array,is_digit_contract:t.contract_trade.is_digit_contract,granularity:t.contract_trade.granularity,is_dark_theme:r.is_dark_mode_on,currency:n.currency}}))((function(e){var t=e.markers_array,r=e.is_dark_theme,n=e.granularity,o=e.currency,a=e.config;return t.map((function(e){var t=rr[e.type];return i.createElement(t,ir({key:e.key,is_dark_theme:r,granularity:n,currency:o,config:a},e))}))})),wr=function(e){ur(r,e);var t=dr(r);function r(){var e;sr(this,r);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).state={active_markets:[]},e.bottomWidgets=function(e){var t=e.digits,r=e.tick;return i.createElement(Pt,{digits:t,tick:r})},e.topWidgets=function(t){var r=ir({},t),n=e.props.is_digits_widget_active;return i.createElement(xt,ir({charts_ref:e.charts_ref,is_digits_widget_active:n},r))},e}return lr(r,[{key:"componentDidMount",value:function(){this.setActiveMarkets()}},{key:"componentDidUpdate",value:function(e){e.should_refresh&&this.props.resetRefresh(),this.props.active_symbols!==e.active_symbols&&this.setActiveMarkets()}},{key:"setActiveMarkets",value:function(){var e=this.props.active_symbols,t=!!e.find((function(e){return"synthetic_index"===e.market})),r=e.sort((function(e,t){return e.display_name<t.display_name?-1:1})).map((function(e){return e.market})).reduce((function(e,t){return-1===e.indexOf(t)&&e.push(t),e}),t?["synthetic_index"]:[]);this.setState({active_markets:r})}},{key:"render",value:function(){var e=this,t=this.props,r=t.show_digits_stats,n=t.main_barrier,o=t.should_refresh,a=t.extra_barriers,s=void 0===a?[]:a,c=t.symbol,l=this.state.active_markets,u=n?[n].concat(nr(s)):s,p=0===this.props.granularity?8:24;return c&&0!==l.length?i.createElement(_t.h,{ref:function(t){return e.charts_ref=t},barriers:u,bottomWidgets:r&&Object(P.isDesktop)()?this.bottomWidgets:this.props.bottomWidgets,crosshair:Object(P.isMobile)()?0:void 0,crosshairTooltipLeftAllow:560,showLastDigitStats:!!Object(P.isDesktop)()&&r,chartControlsWidgets:null,chartStatusListener:function(t){return e.props.setChartStatus(!t)},chartType:this.props.chart_type,enabledNavigationWidget:Object(P.isDesktop)(),enabledChartFooter:!1,id:"trade",isMobile:Object(P.isMobile)(),maxTick:Object(P.isMobile)()?p:void 0,granularity:this.props.granularity,requestAPI:this.props.wsSendRequest,requestForget:this.props.wsForget,requestForgetStream:this.props.wsForgetStream,requestSubscribe:this.props.wsSubscribe,settings:this.props.settings,symbol:this.props.symbol,topWidgets:this.props.is_trade_enabled?this.topWidgets:null,isConnectionOpened:this.props.is_socket_opened,clearChart:!1,toolbarWidget:Et,importedLayout:this.props.chart_layout,onExportLayout:this.props.exportLayout,shouldFetchTradingTimes:!this.props.end_epoch,refreshActiveSymbols:o,hasAlternativeSource:this.props.has_alternative_source,refToAddTick:this.props.refToAddTick,activeSymbols:l,yAxisMargin:{top:Object(P.isMobile)()?76:106}},i.createElement(gr,null)):null}}]),r}(i.Component),Or=Object(T.b)((function(e){var t=e.modules,r=e.ui,n=e.common;return{is_socket_opened:n.is_socket_opened,granularity:t.contract_trade.granularity,chart_type:t.contract_trade.chart_type,settings:{assetInformation:!1,countdown:r.is_chart_countdown_visible,isHighestLowestMarkerEnabled:!1,lang:n.current_language,position:r.is_chart_layout_default?"bottom":"left",theme:r.is_dark_mode_on?"dark":"light"},last_contract:{is_digit_contract:t.contract_trade.last_contract.is_digit_contract,is_ended:t.contract_trade.last_contract.is_ended},is_trade_enabled:t.trade.is_trade_enabled,main_barrier:t.trade.main_barrier_flattened,extra_barriers:t.trade.barriers_flattened,show_digits_stats:t.trade.show_digits_stats,contract_type:t.trade.contract_type,symbol:t.trade.symbol,exportLayout:t.trade.exportLayout,setChartStatus:t.trade.setChartStatus,chart_layout:t.trade.chart_layout,wsForget:t.trade.wsForget,wsForgetStream:t.trade.wsForgetStream,wsSendRequest:t.trade.wsSendRequest,wsSubscribe:t.trade.wsSubscribe,active_symbols:t.trade.active_symbols,should_refresh:t.trade.should_refresh_active_symbols,resetRefresh:t.trade.resetRefresh,has_alternative_source:t.trade.has_alternative_source,refToAddTick:t.trade.refToAddTick}}))(wr),jr=i.lazy((function(){return r.e("contract").then(r.bind(null,"./Modules/Contract/index.js"))})),Sr=i.lazy((function(){return Promise.all([r.e("vendors~mt5"),r.e("mt5")]).then(r.bind(null,"./Modules/MT5/index.js"))})),kr=function(e){return e.pastDelay?i.createElement(y.a,null):null},xr=(hr=function(){return r.e("reports").then(r.bind(null,"./Modules/Reports/index.js"))},function(e){return s.a.Map({loader:{ComponentModule:hr},render:function(t,r){var n=t.ComponentModule.default[e];return i.createElement(n,r)},loading:kr})}),Er={component:i.lazy((function(){return r.e("404").then(r.bind(null,"./Modules/Page404/index.js"))})),title:Object(v.localize)("Error 404")},Pr=function(){return br||((br=[{path:f.a.contract,component:jr,title:Object(v.localize)("Contract Details"),is_authenticated:!0},{path:f.a.mt5,component:Sr,title:Object(v.localize)("MT5"),is_authenticated:!0},{path:f.a.reports,component:xr("Reports"),is_authenticated:!0,title:Object(v.localize)("Reports"),icon_component:"IcReports",routes:[{path:f.a.positions,component:xr("OpenPositions"),title:Object(v.localize)("Open positions"),icon_component:"IcOpenPositions",default:!0},{path:f.a.profit,component:xr("ProfitTable"),title:Object(v.localize)("Profit table"),icon_component:"IcProfitTable"},{path:f.a.statement,component:xr("Statement"),title:Object(v.localize)("Statement"),icon_component:"IcStatement"}]},{path:f.a.trade,component:vr,title:Object(v.localize)("Trade"),exact:!0}]).push(Er),Object(_.addRoutesConfig)(br)),br};function Cr(){return(Cr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Dr(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var Tr=function(e){var t=e.active_class,r=e.to,n=e.children,o=Dr(e,["active_class","to","children"]),a=Object(h.c)(r),s=Object(h.a)(a,Pr());if(!s)throw new Error("Route not found: ".concat(r));return r?i.createElement(m.NavLink,Cr({to:a,activeClassName:t||"active",exact:s.exact},o),n):i.createElement("a",o,n)};Tr.propTypes={active_class:o.a.string,children:o.a.oneOfType([o.a.object,o.a.array,o.a.string]),to:o.a.string};var Mr=Tr,Ar=r("@deriv/shared/utils/url"),Rr=r("@deriv/shared/utils/object"),Nr=r.n(Rr),Ir=r("./_common/base/login.js"),zr=r("@deriv/components/lib/page-error"),Lr=r.n(zr),Ur=(r("@deriv/components/lib/page-error.css"),function(e){var t=e.onLogin,r=e.onSignup,n=e.page_title;return i.createElement(Lr.a,{header:i.createElement(v.Localize,{i18n_default_text:"{{page_title}} page is only<0 />available for existing clients.",values:{page_title:n||"This"},components:[i.createElement("br",{key:0})]}),messages:[i.createElement(v.Localize,{key:0,i18n_default_text:"If you have an active account, please <0>Log in</0> for full access. Otherwise, please <1>Sign up</1> to start trading.",components:[i.createElement("a",{key:0,className:"link",onClick:t}),i.createElement("a",{key:1,className:"link",onClick:r})]})]})});Ur.propTypes={onLogin:o.a.func,onSignup:o.a.func,page_title:o.a.string};var qr=Ur,Fr=r("./App/Constants/app-config.js");function Hr(){return(Hr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var Yr=function(e){return i.createElement(m.Route,{exact:e.exact,path:e.path,render:function(t){var r=null;if(e.component===m.Redirect){var n=e.to;if(e.path===f.a.index)n=t.location.pathname.toLowerCase().replace(e.path,"");r=i.createElement(m.Redirect,{to:n})}else if(e.is_authenticated&&!e.is_logged_in)r=i.createElement(qr,{onLogin:function(){return Object(Ir.redirectToLogin)(e.is_logged_in)},onSignup:Ir.redirectToSignUp,page_title:e.title});else{var o=e.routes?e.routes.find((function(e){return e.default})):{},a=!Nr.a.isEmptyObject(o),s=Object(Ar.removeBranchName)(location.pathname);r=i.createElement(i.Fragment,null,a&&s===e.path&&i.createElement(m.Redirect,{to:o.path}),i.createElement(e.component,Hr({},t,{routes:e.routes})))}var c=e.title?"".concat(e.title," | "):"";return document.title="".concat(c).concat(Fr.default_title),r}})};function Vr(){return(Vr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var Br=function(e){return i.createElement(i.Suspense,{fallback:i.createElement("div",null)},i.createElement(m.Switch,null,Pr().map((function(t,r){return i.createElement(Yr,Vr({key:r},t,e))}))))};function Wr(e){return(Wr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Gr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function $r(e,t){return($r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Zr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Kr(e);if(t){var o=Kr(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Jr(this,r)}}function Jr(e,t){return!t||"object"!==Wr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Kr(e){return(Kr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Qr=s()({loader:function(){return r.e("error-component").then(r.bind(null,"./App/Components/Elements/Errors/index.js"))},loading:p.a,render:function(e,t){var r=e.default;return i.createElement(r,t)}}),en=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$r(e,t)}(a,e);var t,r,n,o=Zr(a);function a(){return Gr(this,a),o.apply(this,arguments)}return t=a,(r=[{key:"componentDidMount",value:function(){var e=this;this.props.setPromptHandler&&this.props.setPromptHandler(!0,(function(t,r){return function(e,t,r,n){if("PUSH"===t||"POP"===t){var o=Object(l.matchPath)(e.pathname,{path:f.a.contract,exact:!0}),i=Object(l.matchPath)(r,{path:f.a.contract,exact:!0});n(!!(r===f.a.trade&&o||e.pathname===f.a.trade&&i))}return!0}(t,r,e.props.history.location.pathname,e.props.setTradeMountingPolicy)}))}},{key:"render",value:function(){return this.props.has_error?i.createElement(Qr,this.props.error):i.createElement(Br,{is_logged_in:this.props.is_logged_in,passthrough:this.props.passthrough})}}])&&Xr(t.prototype,r),n&&Xr(t,n),a}(i.Component);en.propTypes={error:c.PropTypes.objectOrObservableObject,has_error:o.a.bool,is_logged_in:o.a.bool,is_virtual:o.a.bool,setPromptHandler:o.a.func};var tn=Object(l.withRouter)(Object(T.b)((function(e){var t=e.client,r=e.common,n=e.modules,o=e.ui;return{is_logged_in:t.is_logged_in,error:r.error,has_error:r.has_error,setPromptHandler:o.setPromptHandler,setTradeMountingPolicy:n.trade.setSkipPrePostLifecycle}}))(en)),rn=r("@deriv/components/lib/modal"),nn=r.n(rn),on=(r("@deriv/components/lib/modal.css"),r("./App/Components/Elements/PositionsDrawer/ProgressSliderMobile/index.js"));function an(e){return(an="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ln(e,t){return(ln=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function un(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=dn(e);if(t){var o=dn(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return pn(this,r)}}function pn(e,t){return!t||"object"!==an(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function dn(e){return(dn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var fn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ln(e,t)}(a,e);var t,r,n,o=un(a);function a(){var e;sn(this,a);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=o.call.apply(o,[this].concat(r))).handleClick=function(t){e.props.is_unsupported&&(t.preventDefault(),e.props.onClick())},e}return t=a,(r=[{key:"render",value:function(){var e=this.props,t=e.is_visible,r="won"===e.result;return i.createElement(i.Fragment,null,i.createElement(R.CSSTransition,{in:t,timeout:250,classNames:{enter:"positions-modal-card__result--enter",enterDone:"positions-modal-card__result--enter-done",exit:"positions-modal-card__result--exit"},unmountOnExit:!0},i.createElement("div",{className:"positions-modal-card__caption-wrapper"},i.createElement("span",{className:A()("positions-modal-card__caption",{"positions-modal-card__caption--won":r,"positions-modal-card__caption--lost":!r})},r?i.createElement(i.Fragment,null,Object(v.localize)("Won"),i.createElement(ee.a,{icon:"IcCheckmarkCircle",className:"positions-modal-card__icon",color:"green"})):i.createElement(i.Fragment,null,Object(v.localize)("Lost"),i.createElement(ee.a,{icon:"IcCrossCircle",className:"positions-modal-card__icon",color:"red"}))))))}}])&&cn(t.prototype,r),n&&cn(t,n),a}(i.PureComponent);fn.propTypes={is_unsupported:o.a.bool,is_visible:o.a.bool,onClick:o.a.func,result:o.a.string};var mn=fn,hn=function(e){var t=e.className,r=e.contract_info,n=e.currency,o=e.current_tick,a=e.indicative,s=e.id,c=e.is_loading,l=e.is_sell_requested,u=e.is_unsupported,p=e.is_valid_to_sell,d=e.profit_loss,f=e.onClickSell,m=e.onClickRemove,b=e.result,y=e.sell_price,_=e.status,g=e.togglePositions,w=e.toggleUnsupportedContractModal,O=e.type,j=i.createElement("div",{className:"positions-modal-card__content-loader"},i.createElement(ue.a,{speed:2})),S=d<0?"lost":"won",k=i.createElement(i.Fragment,null,i.createElement("div",{className:A()("positions-modal-card__grid","positions-modal-card__grid-header")},i.createElement("div",{className:"positions-modal-card__underlying-name"},i.createElement(ee.a,{icon:r.underlying?"IcUnderlying".concat(r.underlying):"IcUnknown",size:34}),i.createElement("span",{className:"positions-modal-card__symbol"},r.display_name)),i.createElement("div",{className:"positions-modal-card__type"},i.createElement(pe.a,{multiplier:r.multiplier,type:O,is_high_low:ie.a.isHighLow({shortcode:r.shortcode})})),i.createElement(R.CSSTransition,{in:!!p,timeout:250,classNames:{enter:"positions-modal-card__sell-button--enter",enterDone:"positions-modal-card__sell-button--enter-done",exit:"positions-modal-card__sell-button--exit"},unmountOnExit:!0},i.createElement("div",{className:"positions-modal-card__sell-button"},i.createElement(ye.a,{id:"dt_drawer_card_".concat(s,"_button"),className:A()("dc-btn--sell",{"dc-btn--loading":l}),is_disabled:!p||l,text:Object(v.localize)("Sell"),onClick:function(){return f(s)},secondary:!0})))),i.createElement("div",{className:A()("positions-modal-card__grid","positions-modal-card__grid-body")},i.createElement("div",{className:A()("positions-modal-card__grid-profit-payout")},i.createElement("div",{className:A()("positions-modal-card__profit-loss","positions-modal-card__profit-loss-label")},b?Object(v.localize)("Profit/Loss:"):Object(v.localize)("Potential profit/loss:")),i.createElement("div",{className:A()("positions-modal-card__indicative","positions-modal-card__indicative-label")},b?Object(v.localize)("Payout:"):Object(v.localize)("Indicative price:")),i.createElement("div",{className:A()("positions-modal-card__profit-loss",{"positions-modal-card__profit-loss--is-crypto":ke.a.isCryptocurrency(n),"positions-modal-card__profit-loss--negative":d<0,"positions-modal-card__profit-loss--positive":d>0})},i.createElement(je.a,{amount:Math.abs(d),currency:n}),i.createElement("div",{className:A()("positions-modal-card__indicative--movement",{"positions-modal-card__indicative--movement-complete":!!b})},"profit"===_&&i.createElement(ee.a,{icon:"IcProfit"}),"loss"===_&&i.createElement(ee.a,{icon:"IcLoss"}))),i.createElement("div",{className:"positions-modal-card__indicative"},i.createElement(je.a,{amount:y||a,currency:n}),i.createElement("div",{className:A()("positions-modal-card__indicative--movement",{"positions-modal-card__indicative--movement-complete":!!b})},"profit"===_&&i.createElement(ee.a,{icon:"IcProfit"}),"loss"===_&&i.createElement(ee.a,{icon:"IcLoss"})))),i.createElement("div",{className:A()("positions-modal-card__grid-price-payout")},i.createElement("div",{className:"positions-modal-card__purchase-price"},i.createElement("span",{className:"positions-modal-card__purchase-label"},Object(v.localize)("Purchase price:")),i.createElement("span",{className:"positions-modal-card__purchase-value"},i.createElement(je.a,{amount:r.buy_price,currency:n}))),i.createElement("div",{className:"positions-modal-card__payout-price"},i.createElement("span",{className:"positions-modal-card__payout-label"},Object(v.localize)("Potential payout:")),i.createElement("span",{className:"positions-modal-card__payout-value"},r.payout?i.createElement(je.a,{amount:r.payout,currency:n}):i.createElement("strong",null,"-i")))),b||r.is_sold?i.createElement(mn,{contract_id:s,is_unsupported:u,is_visible:!!r.is_sold,onClickRemove:m,onClick:function(){return w(!0)},result:b||S}):i.createElement(on.a,{className:"positions-modal-card__progress",is_loading:c,start_time:r.date_start,expiry_time:r.date_expiry,current_tick:o,ticks_count:r.tick_count})));return i.createElement("div",{id:"dt_drawer_card_".concat(s),className:A()("positions-modal-card__wrapper",t)},u?i.createElement("div",{className:A()("positions-modal-card"),onClick:function(){return w(!0)}},r.underlying?k:j):i.createElement(Mr,{onClick:g,className:A()("positions-modal-card"),to:Object(h.b)(s)},r.underlying?k:j))};hn.propTypes={className:o.a.string,contract_info:o.a.object,currency:o.a.string,current_tick:o.a.number,duration:o.a.oneOfType([o.a.number,o.a.string]),duration_unit:o.a.string,exit_spot:o.a.oneOfType([o.a.number,o.a.string]),id:o.a.number,indicative:o.a.number,is_loading:o.a.bool,is_sell_requested:o.a.bool,is_unsupported:o.a.bool,is_valid_to_sell:o.a.oneOfType([o.a.number,o.a.bool]),onClickRemove:o.a.func,onClickSell:o.a.func,profit_loss:o.a.number,result:o.a.string,sell_time:o.a.number,status:o.a.string,togglePositions:o.a.func,toggleUnsupportedContractModal:o.a.func,type:o.a.string};var bn=hn,yn=(r("./sass/app/_common/components/positions-toggle.scss"),function(e){var t=e.positions_count,r=e.is_open,n=e.togglePositions,o=A()("positions-toggle",{"positions-toggle--active":r,"positions-toggle--has-count":t>0});return i.createElement("a",{id:"dt_positions_toggle",className:o,onClick:n,"data-count":t},i.createElement(ee.a,{icon:"IcPortfolio",className:"positions-toggle__icon"}))});yn.propTypes={is_positions_drawer_on:o.a.bool,positions_count:o.a.number,togglePositionsDrawer:o.a.func};var _n=yn;function vn(e){return(vn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gn(){return(gn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function wn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function On(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function jn(e,t){return(jn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Sn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=xn(e);if(t){var o=xn(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return kn(this,r)}}function kn(e,t){return!t||"object"!==vn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function xn(e){return(xn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var En=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jn(e,t)}(a,e);var t,r,n,o=Sn(a);function a(){return wn(this,a),o.apply(this,arguments)}return t=a,(r=[{key:"render",value:function(){var e=this.props,t=e.all_positions,r=e.error,n=e.currency,o=e.is_empty,a=e.onClickSell,s=e.onClickRemove,c=e.togglePositionsDrawer,l=e.toggleUnsupportedContractModal,u=i.createElement(i.Fragment,null,i.createElement(R.TransitionGroup,{component:"div"},t.slice(0,5).map((function(e){return i.createElement(R.CSSTransition,{appear:!0,key:e.id,in:!0,timeout:150,classNames:{appear:"positions-drawer-card__wrapper--enter",enter:"positions-drawer-card__wrapper--enter",enterDone:"positions-drawer-card__wrapper--enter-done",exit:"positions-drawer-card__wrapper--exit"},unmountOnExit:!0},i.createElement(bn,gn({onClickSell:a,onClickRemove:s,key:e.id,currency:n,toggleUnsupportedContractModal:l,togglePositions:c},e)))}))));return i.createElement(i.Fragment,null,i.createElement(_n,{is_open:this.props.is_positions_drawer_on,togglePositions:this.props.togglePositionsDrawer,positions_count:this.props.active_positions_count}),i.createElement(nn.a,{is_open:this.props.is_positions_drawer_on,toggleModal:this.props.togglePositionsDrawer,id:"dt_mobile_positions",is_vertical_top:!0,has_close_icon:!0,enableApp:this.props.enableApp,disableApp:this.props.disableApp,width:"calc(100vw - 32px)"},i.createElement(j.a,{className:"positions-modal",height_offset:"48px"},i.createElement("div",{className:"positions-modal__header"},i.createElement("span",{className:"positions-modal__title"},i.createElement(ee.a,{icon:"IcPortfolio",className:"positions-modal__title-icon"}),Object(v.localize)("Recent positions")),i.createElement("div",{className:"positions-modal__close-btn",onClick:this.props.togglePositionsDrawer},i.createElement(ee.a,{icon:"IcMinusBold"}))),i.createElement("div",{className:"positions-modal__body"},o||r?i.createElement(ne,{error:r}):u),i.createElement("div",{className:"positions-modal__footer"},i.createElement(Mr,{onClick:this.props.togglePositionsDrawer,className:"dc-btn dc-btn--secondary dc-btn__large positions-modal__footer-btn",to:f.a.positions},i.createElement("span",{className:"dc-btn__text"},Object(v.localize)("View more")))))))}}])&&On(t.prototype,r),n&&On(t,n),a}(i.Component),Pn=Object(T.b)((function(e){var t=e.ui;return{togglePositionsDrawer:t.togglePositionsDrawer,is_positions_drawer_on:t.is_positions_drawer_on}}))(En);function Cn(e){return(Cn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Dn(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function Tn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function An(e,t){return(An=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Rn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=In(e);if(t){var o=In(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Nn(this,r)}}function Nn(e,t){return!t||"object"!==Cn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function In(e){return(In=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var zn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&An(e,t)}(c,e);var t,r,n,o,a,s=Rn(c);function c(){var e;Tn(this,c);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=s.call.apply(s,[this].concat(r))).populateHeader=function(){var t=e.props,r=t.active_positions_count,n=t.disableApp,o=t.enableApp,a=t.is_logged_in,s=t.is_positions_empty,c=t.onPositionsRemove,l=t.onPositionsSell,u=t.positions,p=t.positions_currency,d=t.positions_error;(0,t.populateHeaderExtensions)(a&&i.createElement(k.a,null,i.createElement(T.a,{store:e.props.store},i.createElement(Pn,{active_positions_count:r,all_positions:u,currency:p,disableApp:n,is_empty:s,enableApp:o,error:d,onClickSell:l,onClickRemove:c}))))},e}return t=c,(r=[{key:"componentDidMount",value:(o=regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Object(P.isMobile)()){e.next=4;break}return e.next=3,Object(et.when)((function(){return!t.props.is_populating_account_list}));case 3:this.props.is_logged_in&&(this.props.onMountPositions(),this.props.onMountCashier(!0),this.props.setAccountSwitchListener());case 4:this.populateHeader();case 5:case"end":return e.stop()}}),e,this)})),a=function(){var e=this,t=arguments;return new Promise((function(r,n){var i=o.apply(e,t);function a(e){Dn(i,r,n,a,s,"next",e)}function s(e){Dn(i,r,n,a,s,"throw",e)}a(void 0)}))},function(){return a.apply(this,arguments)})},{key:"componentDidUpdate",value:function(){this.populateHeader()}},{key:"componentWillUnmount",value:function(){Object(P.isMobile)()&&this.props.onUnmountPositions(),this.props.populateHeaderExtensions(null)}},{key:"render",value:function(){return null}}])&&Mn(t.prototype,r),n&&Mn(t,n),c}(i.Component);zn.propTypes={is_logged_in:o.a.bool,populateHeaderExtensions:o.a.func};var Ln=Object(T.b)((function(e){var t=e.client,r=e.modules,n=e.ui;return{positions_currency:t.currency,is_logged_in:t.is_logged_in,is_populating_account_list:t.is_populating_account_list,positions:r.portfolio.all_positions_filtered,positions_error:r.portfolio.error,is_positions_empty:r.portfolio.is_empty,onPositionsSell:r.portfolio.onClickSell,onPositionsRemove:r.portfolio.removePositionById,onMountCashier:r.cashier.onMountCommon,onMountPositions:r.portfolio.onMount,onUnmountPositions:r.portfolio.onUnmount,active_positions_count:r.portfolio.active_positions_count,disableApp:n.disableApp,enableApp:n.enableApp,populateHeaderExtensions:n.populateHeaderExtensions,toggleUnsupportedContractModal:n.toggleUnsupportedContractModal,setAccountSwitchListener:r.cashier.setAccountSwitchListener}}))(zn);function Un(e){return(Un="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Hn(e,t){return(Hn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Yn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Bn(e);if(t){var o=Bn(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Vn(this,r)}}function Vn(e,t){return!t||"object"!==Un(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Bn(e){return(Bn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Wn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Hn(e,t)}(a,e);var t,r,n,o=Yn(a);function a(){var e;qn(this,a);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=o.call.apply(o,[this].concat(r))).populateFooter=function(){var t=e.props,r=t.is_logged_in,n=t.active_positions_count,o=t.location,a=t.togglePositionsDrawer,s=t.is_positions_drawer_on,c=t.populateFooterExtensions,l=o.pathname===f.a.trade;c(r&&l&&i.createElement(_n,{is_open:s,togglePositions:a,positions_count:n}))},e}return t=a,(r=[{key:"componentDidMount",value:function(){this.populateFooter()}},{key:"componentDidUpdate",value:function(){this.populateFooter()}},{key:"componentWillUnmount",value:function(){this.props.populateFooterExtensions(null)}},{key:"render",value:function(){return null}}])&&Fn(t.prototype,r),n&&Fn(t,n),a}(i.Component);Wn.propTypes={is_logged_in:o.a.bool,is_positions_drawer_on:o.a.bool,populateFooterExtensions:o.a.func,togglePositionsDrawer:o.a.func};var Gn=Object(T.b)((function(e){var t=e.client,r=e.modules,n=e.ui;return{is_logged_in:t.is_logged_in,active_positions_count:r.portfolio.active_positions_count,togglePositionsDrawer:n.togglePositionsDrawer,is_positions_drawer_on:n.is_positions_drawer_on,populateFooterExtensions:n.populateFooterExtensions}}))(Object(m.withRouter)(Wn));function Xn(e){return(Xn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $n(){return($n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Zn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Kn(e,t){return(Kn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Qn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=to(e);if(t){var o=to(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return eo(this,r)}}function eo(e,t){return!t||"object"!==Xn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function to(e){return(to=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ro=s()({loader:function(){return r.e("settings-chart").then(r.bind(null,"./App/Containers/SettingsModal/settings-chart.jsx"))},loading:p.a}),no=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Kn(e,t)}(a,e);var t,r,n,o=Qn(a);function a(){var e;Zn(this,a);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=o.call.apply(o,[this].concat(r))).populateSettings=function(){(0,e.props.populateSettingsExtensions)([{icon:"IcChart",label:Object(v.localize)("Charts"),value:function(t){var r=$n({},t);return i.createElement(T.a,{store:e.props.store},i.createElement(ro,r))}}])},e}return t=a,(r=[{key:"componentDidMount",value:function(){this.populateSettings()}},{key:"componentDidUpdate",value:function(){this.populateSettings()}},{key:"componentWillUnmount",value:function(){this.props.populateSettingsExtensions(null)}},{key:"render",value:function(){return null}}])&&Jn(t.prototype,r),n&&Jn(t,n),a}(i.Component);no.propTypes={populateSettingsExtensions:o.a.func};var oo=Object(T.b)((function(e){return{populateSettingsExtensions:e.ui.populateSettingsExtensions}}))(no),io=r("./Modules/Trading/Containers/toast-error-popup.jsx"),ao=r("./Services/ws-methods.js"),so=r("../node_modules/extend/index.js"),co=r.n(so),lo=r("./Stores/Modules/Contract/Helpers/digits.js"),uo=function(e){var t=e.label,r=e.line_style,n=e.marker_config,o=e.status;return n?i.createElement("div",{className:A()("chart-marker-line__wrapper","chart-marker-line--".concat(r))},t===n.LINE_END.content_config.label&&i.createElement(ee.a,{icon:"IcContractExitTimeCircle",className:"chart-marker-line__icon",color:"lost"===o?"red":"green",size:24}),t===n.LINE_START.content_config.label&&i.createElement(ee.a,{icon:"IcContractStartTimeCircle",className:"chart-marker-line__icon chart-marker-line__icon--time",color:"secondary",size:24})):i.createElement("div",null)};uo.propTypes={label:o.a.string,line_style:o.a.string,marker_config:o.a.object,status:o.a.oneOf(["won","lost"])};var po=Object(c.observer)(uo),fo=r("@deriv/shared/utils/date"),mo=function(e){var t=e.className,r=e.spot_count;return i.createElement("div",{className:A()("chart-spot",t)},r)};mo.propTypes={className:o.a.string,spot_count:o.a.oneOfType([o.a.number,o.a.string])};var ho=Object(c.observer)(mo);function bo(e){return(bo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yo(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _o(e,t){return(_o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function vo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=wo(e);if(t){var o=wo(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return go(this,r)}}function go(e,t){return!t||"object"!==bo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function wo(e){return(wo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Oo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_o(e,t)}(a,e);var t,r,n,o=vo(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=o.call(this,e)).handleHoverToggle=function(){t.setState((function(e){return{show_label:!e.show_label}}))},t.state={show_label:!t.props.has_hover_toggle},t}return t=a,(r=[{key:"render",value:function(){var e=i.createElement(ho,{className:this.props.spot_className,spot_count:this.props.spot_count});return this.props.has_hover_toggle&&(e=i.createElement("div",{className:"marker-hover-container",onMouseEnter:this.handleHoverToggle,onMouseLeave:this.handleHoverToggle},e)),i.createElement("div",{className:"chart-spot-label"},this.state.show_label&&i.createElement("div",{className:"chart-spot-label__info-container"},i.createElement("div",{className:"chart-spot-label__time-value-container chart-spot-label__time-value-container--".concat(this.props.align_label)},i.createElement("div",{className:"chart-spot-label__time-container"},i.createElement(ee.a,{icon:"IcClockOutline",height:10,width:10,className:"chart-spot-label__time-icon"}),i.createElement("p",{className:"chart-spot-label__time"},Object(fo.toMoment)(+this.props.spot_epoch).format("HH:mm:ss"))),i.createElement("div",{className:A()("chart-spot-label__value-container",{"chart-spot-label__value-container--won":"won"===this.props.status,"chart-spot-label__value-container--lost":"lost"===this.props.status})},i.createElement("p",null,ke.a.addComma(this.props.spot_value))))),e)}}])&&yo(t.prototype,r),n&&yo(t,n),a}(i.Component);Oo.defaultProps={align_label:"top"},Oo.propTypes={align_label:o.a.oneOf(["top","bottom"]),has_hover_toggle:o.a.bool,spot_className:o.a.string,spot_count:o.a.oneOfType([o.a.number,o.a.string]),spot_epoch:o.a.oneOfType([o.a.number,o.a.string]),spot_value:o.a.oneOfType([o.a.number,o.a.string]),status:o.a.oneOf(["won","lost"])};var jo,So,ko=Object(c.observer)(Oo),xo={LINE_END:{type:"LINE_END",marker_config:{ContentComponent:po,className:"chart-marker-line"},content_config:{line_style:"dash",label:Object(v.localize)("End Time")}},LINE_PURCHASE:{type:"LINE_PURCHASE",marker_config:{ContentComponent:po,className:"chart-marker-line"},content_config:{line_style:"solid",label:Object(v.localize)("Purchase Time")}},LINE_START:{type:"LINE_START",marker_config:{ContentComponent:po,className:"chart-marker-line"},content_config:{line_style:"solid",label:Object(v.localize)("Start Time")}},SPOT_ENTRY:{type:"SPOT_ENTRY",marker_config:{ContentComponent:ho},content_config:{className:"chart-spot__entry"}},SPOT_SELL:{type:"SPOT_SELL",marker_config:{ContentComponent:ho},content_config:{className:"chart-spot__sell"}},SPOT_EXIT:{type:"SPOT_EXIT",marker_config:{ContentComponent:ko},content_config:{spot_className:"chart-spot__spot"}},SPOT_MIDDLE:{type:"SPOT_MIDDLE",marker_config:{ContentComponent:ko},content_config:{spot_className:"chart-spot__spot"}}},Eo=function(e,t,r,n){return co()(!0,{},xo[e],{marker_config:{x:+t,y:r},content_config:n})},Po=function(e,t){return Object(lo.b)(e.contract_type)?t+1:t},Co=function(e){if(!e.entry_tick_time)return!1;var t=xo.SPOT_ENTRY.type,r={},n=e.entry_tick_display_value;return Object(lo.b)(e.contract_type)&&(t=xo.SPOT_MIDDLE.type,r={spot_value:"".concat(n),spot_epoch:"".concat(e.entry_tick_time),spot_count:1}),Eo(t,e.entry_tick_time,n,r)},Do=function(e,t,r){if(!e.exit_tick_time)return!1;var n,o,i=Object(ae.o)(e);t&&(n=Po(e,r),o=t.align_label);var a=e.exit_tick_display_value,s=!i||Object(se.a)(e.contract_type),c=s?xo.SPOT_EXIT.type:xo.SPOT_SELL.type,l=s?{spot_value:"".concat(a),spot_epoch:"".concat(e.exit_tick_time),status:"".concat(+e.profit>=0?"won":"lost"),align_label:o,spot_count:n}:{};return Eo(c,+e.exit_tick_time,+a,l)};function To(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mo(e){return function(e){if(Array.isArray(e))return Ao(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Ao(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ao(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ao(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ro,No,Io,zo,Lo,Uo,qo,Fo,Ho,Yo,Vo,Bo,Wo,Go,Xo,$o,Zo,Jo,Ko,Qo,ei,ti,ri,ni,oi,ii,ai,si,ci=function(e){var t=[];if(e){var r,n=Object(ae.g)(e),o=Object(ae.d)(e.date_start,n);if(e.tick_count){var i,a=di(e);(i=t).push.apply(i,Mo(a))}else if("candle"!==o){var s,c=Object.keys(li).map((function(t){return li[t](e)}));(s=t).push.apply(s,Mo(c))}var l=Object.keys(ui).map((function(t){return ui[t](e)}));(r=t).push.apply(r,Mo(l)),t=t.filter((function(e){return!!e}))}return t.forEach((function(t){var r=e.contract_id;t.react_key="".concat(r,"-").concat(t.type)})),t},li=(To(jo={},xo.SPOT_ENTRY.type,Co),To(jo,xo.SPOT_EXIT.type,Do),jo),ui=(To(So={},xo.LINE_START.type,(function(e){return!!e.date_start&&Eo(xo.LINE_START.type,+e.date_start,null,{marker_config:xo})})),To(So,xo.LINE_END.type,(function(e){var t=Object(ae.g)(e);return!!t&&Eo(xo.LINE_END.type,+t,null,{status:"".concat(e.profit>=0?"won":"lost"),marker_config:xo})})),To(So,xo.LINE_PURCHASE.type,(function(e){return!(!e.purchase_time||!e.date_start||+e.purchase_time==+e.date_start)&&Eo(xo.LINE_PURCHASE.type,+e.purchase_time)})),So),pi=function(e,t,r){if(t>0&&r.length){var n=r[t-1];+e>+n.tick&&(e.align_label="top"),+e.tick<+n.tick&&(e.align_label="bottom"),+e.tick==+n.tick&&(e.align_label=n.align_label)}return e},di=function(e){var t=Nr.a.unique(e.tick_stream,"epoch").map(pi),r=[];return t.forEach((function(t,n){var o,i=0===n&&+t.epoch!==e.exit_tick_time,a=n>0&&+t.epoch!=+e.exit_tick_time,s=+t.epoch==+e.exit_tick_time||Po(e,n)===e.tick_count;i?o=Co(e):a?o=function(e,t,r){var n=Po(e,r),o=t.tick_display_value,i=Eo(xo.SPOT_MIDDLE.type,+t.epoch,+o,{spot_value:"".concat(o),spot_epoch:"".concat(t.epoch),align_label:t.align_label,spot_count:n});return i.type="".concat(i.type,"_").concat(r),Object(P.isMobile)()&&n>1?null:i}(e,t,n):s&&(t.align_label="top",o=Do(e,t,n)),o&&r.push(o)})),r},fi=r("./Stores/Modules/SmartChart/Constants/barriers.js"),mi=r("./Stores/Modules/SmartChart/Helpers/barriers.js"),hi=r("./Stores/Modules/SmartChart/chart-barrier-store.js");function bi(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function yi(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _i(e,t,r,n,o){var i={};return Object.keys(n).forEach((function(e){i[e]=n[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}function vi(e){return function(e){if(Array.isArray(e))return gi(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return gi(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gi(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gi(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var wi=(Ro=et.observable.ref,No=et.observable.ref,Io=et.observable.ref,zo=et.observable.ref,Lo=et.observable.shallow,Uo=et.observable.shallow,qo=et.observable.ref,Fo=et.action.bound,Ho=et.action.bound,Yo=et.action.bound,Bo=_i((Vo=function(){function e(t,r){var n=r.contract_id;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),bi(this,"digits_info",Bo,this),bi(this,"sell_info",Wo,this),bi(this,"contract_config",Go,this),bi(this,"display_status",Xo,this),bi(this,"is_ended",$o,this),bi(this,"is_digit_contract",Zo,this),bi(this,"error_message",Jo,this),bi(this,"contract_info",Ko,this),bi(this,"is_static_chart",Qo,this),bi(this,"end_time",ei,this),bi(this,"contract_update_config",ti,this),bi(this,"contract_update",ri,this),bi(this,"contract_update_history",ni,this),bi(this,"margin",oi,this),bi(this,"barriers_array",ii,this),bi(this,"markers_array",ai,this),bi(this,"marker",si,this),this.is_ongoing_contract=!1,this.createBarriersArray=function(e,t){var r=[];if(e){var n=e.contract_type,o=e.barrier,i=e.entry_spot,a=e.high_barrier,s=e.low_barrier;if(Object(mi.b)(n)&&(o||a||i)){var c=new hi.a(o||a||i,s,null,{color:t?fi.a.DARK_GRAY:fi.a.GRAY,line_style:fi.b.SOLID,not_draggable:!0});c.updateBarrierShade(!0,n),r=[c]}}return r},this.root_store=t,this.contract_id=n}var t,r,n;return t=e,(r=[{key:"populateConfig",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.contract_info;this.contract_info=e,this.end_time=Object(ae.g)(this.contract_info),this.updateBarriersArray(e,this.root_store.ui.is_dark_mode_on),this.markers_array=ci(this.contract_info),this.marker=Oi(this.contract_info),this.contract_config=Object(ae.c)(this.contract_info),this.display_status=Object(ae.f)(this.contract_info),this.is_ended=Object(ae.m)(this.contract_info),this.is_digit_contract=Object(lo.b)(this.contract_info.contract_type),!this.contract_info.barrier&&r.barrier&&this.is_digit_contract&&(this.contract_info.barrier=r.barrier),this.is_digit_contract&&Object(et.extendObservable)(this.digits_info,Object(lo.a)(this.digits_info,this.contract_info)),this.is_multiplier_contract=Object(se.a)(this.contract_info.contract_type),this.is_multiplier_contract&&!this.contract_update_config.has_contract_update&&t&&(this.populateContractUpdateConfig(this.contract_info),this.contract_update_config.has_contract_update=!0)}},{key:"populateContractUpdateConfig",value:function(e){this.contract_update_config=Object(ae.e)(e),this.contract_update=e.contract_update,this.root_store.modules.contract_replay.contract_store.contract_update=e.contract_update}},{key:"populateContractUpdateHistory",value:function(e){var t=e.contract_update_history;this.root_store.modules.contract_replay.contract_store.contract_update_history=t}},{key:"updateBarriersArray",value:function(e,t){if(this.barriers_array.length){var r=this.barriers_array[0];if(e){var n=e.contract_type,o=e.barrier,i=e.high_barrier,a=e.low_barrier;Object(mi.b)(n)&&(o||i)&&(r.updateBarriers(o||i,a),r.updateBarrierColor(t)),e.contract_id&&e.contract_id===this.root_store.modules.contract_replay.contract_id&&Object(xe.c)({barriers:this.barriers_array,contract_info:e,contract_type:n,is_over:!0})}}else this.barriers_array=this.createBarriersArray(e,t)}}])&&yi(t.prototype,r),n&&yi(t,n),e}()).prototype,"digits_info",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return et.observable.object({})}}),Wo=_i(Vo.prototype,"sell_info",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return et.observable.object({})}}),Go=_i(Vo.prototype,"contract_config",[Ro],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Xo=_i(Vo.prototype,"display_status",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"purchased"}}),$o=_i(Vo.prototype,"is_ended",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Zo=_i(Vo.prototype,"is_digit_contract",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Jo=_i(Vo.prototype,"error_message",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Ko=_i(Vo.prototype,"contract_info",[No],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return et.observable.object({})}}),Qo=_i(Vo.prototype,"is_static_chart",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ei=_i(Vo.prototype,"end_time",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ti=_i(Vo.prototype,"contract_update_config",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return et.observable.object({})}}),ri=_i(Vo.prototype,"contract_update",[Io],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return et.observable.object({})}}),ni=_i(Vo.prototype,"contract_update_history",[zo],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),oi=_i(Vo.prototype,"margin",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ii=_i(Vo.prototype,"barriers_array",[Lo],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ai=_i(Vo.prototype,"markers_array",[Uo],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),si=_i(Vo.prototype,"marker",[qo],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_i(Vo.prototype,"populateConfig",[Fo],Object.getOwnPropertyDescriptor(Vo.prototype,"populateConfig"),Vo.prototype),_i(Vo.prototype,"populateContractUpdateConfig",[Ho],Object.getOwnPropertyDescriptor(Vo.prototype,"populateContractUpdateConfig"),Vo.prototype),_i(Vo.prototype,"populateContractUpdateHistory",[Yo],Object.getOwnPropertyDescriptor(Vo.prototype,"populateContractUpdateHistory"),Vo.prototype),Vo);function Oi(e){if(!e||Object(se.a)(e.contract_type))return null;var t=e.transaction_ids,r=e.tick_stream,n=e.contract_id,o=e.date_start,i=e.date_expiry,a=e.entry_tick,s=e.exit_tick,c=e.entry_tick_time,l=e.exit_tick_time,u=e.contract_type,p=e.tick_count,d=e.barrier_count,f=e.barrier,m=e.high_barrier,h=e.low_barrier,b=r?r.map((function(e){return e.epoch})):[],y=Object(lo.b)(u),_=[];if(y?_=[]:1==+d&&f?_=[+f]:2==+d&&m&&h&&(_=[+h,+m]),a&&_.push(a),s&&_.push(s),!o)return null;if(!t)return{type:y?"DigitContract":"TickContract",contract_info:Object(et.toJS)(e),key:"".concat(n,"-date_start"),epoch_array:[o],price_array:_};if(p>=1)return Object(lo.b)(u)?{contract_info:Object(et.toJS)(e),type:"DigitContract",key:"".concat(n,"-date_start"),epoch_array:[o].concat(vi(b)),price_array:_}:{contract_info:Object(et.toJS)(e),type:"TickContract",key:"".concat(n,"-date_start"),epoch_array:[o].concat(vi(b)),price_array:_};if(!p){var v=[o,Object(ae.g)(e)||i];return c&&v.push(c),l&&v.push(l),{contract_info:Object(et.toJS)(e),type:"NonTickContract",key:"".concat(n,"-date_start"),epoch_array:v,price_array:_}}return null}var ji,Si,ki,xi,Ei,Pi,Ci,Di,Ti,Mi,Ai,Ri,Ni,Ii,zi,Li,Ui,qi,Fi,Hi,Yi,Vi,Bi,Wi,Gi,Xi=function(e,t){return{key:"contract_sold",header:Object(v.localize)("Contract sold"),message:i.createElement(v.Localize,{i18n_default_text:"Contract was sold for <0 />.",components:[i.createElement(je.a,{key:t,amount:t,currency:e})]}),type:"contract_sold",size:"small",should_hide_close_btn:!0,is_auto_close:!0}},$i=function(){return{key:"contract_sold",header:Object(v.localize)("Contract cancelled"),message:i.createElement(v.Localize,{i18n_default_text:"Contract was cancelled."}),type:"contract_sold",size:"small",should_hide_close_btn:!0,is_auto_close:!0}},Zi=r("./Stores/base-store.js");function Ji(e){return(Ji="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ki(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Qi(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ki(Object(r),!0).forEach((function(t){ea(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ki(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ea(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ta(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function ra(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function na(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function oa(e,t){return(oa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ia(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=ca(e);if(t){var o=ca(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return aa(this,r)}}function aa(e,t){return!t||"object"!==Ji(t)&&"function"!=typeof t?sa(e):t}function sa(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ca(e){return(ca=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function la(e,t,r,n,o){var i={};return Object.keys(n).forEach((function(e){i[e]=n[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var ua,pa,da,fa,ma,ha,ba,ya,_a,va,ga,wa,Oa,ja,Sa,ka,xa,Ea,Pa,Ca,Da,Ta,Ma,Aa,Ra,Na,Ia,za,La=(ji=et.observable.ref,Si=et.observable.ref,ki=et.action.bound,xi=et.action.bound,Ei=et.action.bound,Pi=et.action.bound,Ci=et.action.bound,Di=et.action.bound,Ti=et.action.bound,Mi=et.action.bound,Ai=et.action.bound,Gi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oa(e,t)}(i,e);var t,r,n,o=ia(i);function i(){var e;ra(this,i);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return ta(e=o.call.apply(o,[this].concat(r)),"is_chart_ready",Ni,sa(e)),ta(e,"contract_store",Ii,sa(e)),ta(e,"is_sell_requested",zi,sa(e)),ta(e,"has_error",Li,sa(e)),ta(e,"error_message",Ui,sa(e)),ta(e,"is_chart_loading",qi,sa(e)),ta(e,"margin",Fi,sa(e)),ta(e,"contract_id",Hi,sa(e)),ta(e,"indicative_status",Yi,sa(e)),ta(e,"contract_info",Vi,sa(e)),ta(e,"is_static_chart",Bi,sa(e)),e.is_ongoing_contract=!1,e.prev_indicative=0,ta(e,"contract_update",Wi,sa(e)),e.should_forget_first=!1,e.subscribers={},e.handleSubscribeProposalOpenContract=function(t,r){e.should_forget_first?ao.a.forgetAll("proposal_open_contract").then((function(){e.should_forget_first=!1,ao.a.storage.proposalOpenContract({contract_id:t}).then(r),e.subscribers[t]=ao.a.subscribeProposalOpenContract(t,r)})):(ao.a.storage.proposalOpenContract({contract_id:t}).then(r),e.subscribers[t]=ao.a.subscribeProposalOpenContract(t,r))},e.subscribeProposalOpenContract=function(){ao.a.wait("authorize").then((function(){e.handleSubscribeProposalOpenContract(e.contract_id,e.populateConfig)}))},e.forgetProposalOpenContract=function(t){t in e.subscribers&&(e.subscribers[t].unsubscribe(),delete e.subscribers[t])},e.setAccountSwitcherListener=function(t,r){e.onSwitchAccount((function(){return e.accountSwitcherListener(t,r)}))},e.accountSwitcherListener=function(t,r){return e.has_error?(e.removeErrorMessage(),e.onMount(t)):r.push(f.a.reports),Promise.resolve()},e.removeAccountSwitcherListener=function(){e.disposeSwitchAccount()},e}return t=i,(r=[{key:"onMount",value:function(e){e&&(this.contract_id=e,this.contract_store=new wi(this.root_store,{contract_id:e}),this.subscribeProposalOpenContract(),ao.a.storage.activeSymbols("brief"),ao.a.setOnReconnect(this.subscribeProposalOpenContract))}},{key:"onUnmount",value:function(){this.forgetProposalOpenContract(this.contract_id,this.populateConfig),this.contract_id=null,this.is_ongoing_contract=!1,this.is_static_chart=!1,this.is_chart_loading=!0,this.contract_info={},this.indicative_status=null,this.prev_indicative=0,this.is_chart_ready=!1,this.root_store.ui.toggleHistoryTab(!1),ao.a.removeOnReconnect()}},{key:"populateConfig",value:function(e){if("error"in e)return this.has_error=!0,void(this.is_chart_loading=!1);if(Nr.a.isEmptyObject(e.proposal_open_contract))return this.has_error=!0,this.error_message=Object(v.localize)("Sorry, you can't view this contract because it doesn't belong to this account."),this.should_forget_first=!0,void(this.is_chart_loading=!1);if(+e.proposal_open_contract.contract_id===this.contract_id){this.contract_info=e.proposal_open_contract,this.contract_update=e.proposal_open_contract.limit_order;var t=this.prev_indicative,r=+this.contract_info.bid_price;this.indicative_status=r>t?"profit":r<t?"loss":null,this.prev_indicative=r,this.contract_store.populateConfig(this.contract_info,!0);var n=this.contract_store.end_time;this.updateMargin((n||this.contract_info.date_expiry)-this.contract_info.date_start),n||(this.is_ongoing_contract=!0),n&&(this.is_ongoing_contract?this.is_static_chart=!1:this.is_static_chart=!0),this.is_chart_loading=!1}}},{key:"updateMargin",value:function(e){var t=this.contract_store.contract_config.granularity;this.margin=Math.floor(t?3*t:Math.max(300,30*e/3600||0))}},{key:"setIsChartReady",value:function(e){var t=this;setTimeout(Object(et.action)((function(){t.is_chart_ready=e})),200)}},{key:"onClickCancel",value:function(e){var t=this;e&&ao.a.cancelContract(e).then((function(e){e.error?(t.root_store.common.setServicesError(Qi({type:e.msg_type},e.error)),t.root_store.ui.toggleServicesErrorModal(!0)):t.root_store.ui.addNotificationMessage($i())}))}},{key:"onClickSell",value:function(e){var t=this.contract_info.bid_price;e&&t&&(this.is_sell_requested=!0,ao.a.sell(e,t).then(this.handleSell))}},{key:"handleSell",value:function(e){e.error?(this.is_sell_requested=!1,this.root_store.common.services_error=Qi({type:e.msg_type},e.error),this.root_store.ui.toggleServicesErrorModal(!0)):!e.error&&e.sell&&(this.is_sell_requested=!1,this.sell_info={sell_price:e.sell.sold_for,transaction_id:e.sell.transaction_id},this.root_store.ui.addNotificationMessage(Xi(this.root_store.client.currency,e.sell.sold_for)))}},{key:"removeErrorMessage",value:function(){this.error_message="",this.has_error=!1}}])&&na(t.prototype,r),n&&na(t,n),i}(Zi.a),Ni=la((Ri=Gi).prototype,"is_chart_ready",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ii=la(Ri.prototype,"contract_store",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{contract_info:{}}}}),zi=la(Ri.prototype,"is_sell_requested",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Li=la(Ri.prototype,"has_error",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ui=la(Ri.prototype,"error_message",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),qi=la(Ri.prototype,"is_chart_loading",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Fi=la(Ri.prototype,"margin",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Hi=la(Ri.prototype,"contract_id",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Yi=la(Ri.prototype,"indicative_status",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Vi=la(Ri.prototype,"contract_info",[ji],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return et.observable.object({})}}),Bi=la(Ri.prototype,"is_static_chart",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Wi=la(Ri.prototype,"contract_update",[Si],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return et.observable.object({})}}),la(Ri.prototype,"onMount",[ki],Object.getOwnPropertyDescriptor(Ri.prototype,"onMount"),Ri.prototype),la(Ri.prototype,"onUnmount",[xi],Object.getOwnPropertyDescriptor(Ri.prototype,"onUnmount"),Ri.prototype),la(Ri.prototype,"populateConfig",[Ei],Object.getOwnPropertyDescriptor(Ri.prototype,"populateConfig"),Ri.prototype),la(Ri.prototype,"updateMargin",[Pi],Object.getOwnPropertyDescriptor(Ri.prototype,"updateMargin"),Ri.prototype),la(Ri.prototype,"setIsChartReady",[Ci],Object.getOwnPropertyDescriptor(Ri.prototype,"setIsChartReady"),Ri.prototype),la(Ri.prototype,"onClickCancel",[Di],Object.getOwnPropertyDescriptor(Ri.prototype,"onClickCancel"),Ri.prototype),la(Ri.prototype,"onClickSell",[Ti],Object.getOwnPropertyDescriptor(Ri.prototype,"onClickSell"),Ri.prototype),la(Ri.prototype,"handleSell",[Mi],Object.getOwnPropertyDescriptor(Ri.prototype,"handleSell"),Ri.prototype),la(Ri.prototype,"removeErrorMessage",[Ai],Object.getOwnPropertyDescriptor(Ri.prototype,"removeErrorMessage"),Ri.prototype),Ri),Ua=r("./_common/storage.js"),qa={key:"switch_to_tick_chart",header:Object(v.localize)("This chart display is not ideal for tick contracts"),message:i.createElement(v.Localize,{i18n_default_text:"Please change the chart duration to tick for a better trading experience."}),type:"info"},Fa=function(){return{has_contract_update_stop_loss:{trigger:"contract_update_stop_loss"},contract_update_stop_loss:{rules:[["req",{condition:function(e){return!e.contract_update_stop_loss},message:Object(v.localize)("Please enter a stop loss amount.")}],["custom",{func:function(e,t,r){var n=Object(ae.j)(r.root_store.modules);return!(n<0&&-e>n)},message:Object(v.localize)("Please enter a stop loss amount that's higher than the current potential loss.")}],["custom",{func:function(e,t,r){return e<Object(ae.a)(r.root_store.modules)+1},message:Object(v.localize)("Invalid stop loss. Stop loss cannot be more than stake.")}]]},has_contract_update_take_profit:{trigger:"contract_update_take_profit"},contract_update_take_profit:{rules:[["req",{condition:function(e){return!e.contract_update_take_profit},message:Object(v.localize)("Please enter a take profit amount.")}],["custom",{func:function(e,t,r){var n=Object(ae.j)(r.root_store.modules);return!(n>0&&+e<n)},message:Object(v.localize)("Please enter a take profit amount that's higher than the current potential profit.")}]]}}};function Ha(e){return(Ha="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ya(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Va(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ba(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function Wa(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ga(e,t){return(Ga=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Xa(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Ja(e);if(t){var o=Ja(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return $a(this,r)}}function $a(e,t){return!t||"object"!==Ha(t)&&"function"!=typeof t?Za(e):t}function Za(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ja(e){return(Ja=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ka(e,t,r,n,o){var i={};return Object.keys(n).forEach((function(e){i[e]=n[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var Qa,es,ts,rs,ns,os,is,as,ss,cs,ls,us,ps,ds,fs,ms,hs,bs,ys,_s,vs,gs,ws,Os,js,Ss,ks,xs,Es,Ps,Cs,Ds,Ts=(ua=et.observable.shallow,pa=et.observable.ref,da=et.observable.ref,fa=et.observable.ref,ma=et.observable.ref,ha=et.action.bound,ba=et.action.bound,ya=et.action.bound,_a=et.action.bound,va=et.action.bound,ga=et.action.bound,wa=et.action.bound,Oa=et.action.bound,ja=et.action.bound,Sa=et.action.bound,ka=et.action.bound,xa=et.action.bound,za=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ga(e,t)}(i,e);var t,r,n,o=Xa(i);function i(e){var t,r=e.root_store;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),Ba(t=o.call(this,{root_store:r,validation_rules:Fa()}),"contracts",Pa,Za(t)),t.contracts_map={},Ba(t,"has_error",Ca,Za(t)),Ba(t,"error_message",Da,Za(t)),Ba(t,"granularity",Ta,Za(t)),Ba(t,"chart_type",Ma,Za(t)),Ba(t,"has_contract_update_stop_loss",Aa,Za(t)),Ba(t,"has_contract_update_take_profit",Ra,Za(t)),Ba(t,"contract_update_stop_loss",Na,Za(t)),Ba(t,"contract_update_take_profit",Ia,Za(t)),t.applicable_contracts=function(){var e=t.root_store.modules.trade,r=e.symbol,n=e.contract_type;if(!n||!r)return[];var o=Object(ce.b)()[n].trade_types,i=le(n);return i&&(o=["CALLE","PUTE","CALL","PUT"]),t.contracts.filter((function(e){return e.contract_info.underlying===r})).filter((function(e){var t=e.contract_info;return!(Object(se.a)(t.contract_type)&&Object(ae.m)(e.contract_info))})).filter((function(e){var t=e.contract_info,r=-1!==o.indexOf(t.contract_type);return r&&t.barrier&&t.entry_tick&&i?"".concat(+t.entry_tick)==="".concat(+t.barrier)?"rise_fall"===n||"rise_fall_equal"===n:"high_low"===n:r}))},t.onSwitchAccount(t.accountSwitchListener),t}return t=i,(r=[{key:"updateChartType",value:function(e){Ua.LocalStore.set("contract_trade.chart_type",e),this.chart_type=e}},{key:"updateGranularity",value:function(e){0===e&&-1===["mountain","line","colored_line","spline","baseline"].indexOf(this.chart_type)&&(this.chart_type="mountain"),Ua.LocalStore.set("contract_trade.granularity",e),this.granularity=e,0===this.granularity&&this.root_store.ui.removeNotificationMessage(qa)}},{key:"clearContractUpdateConfigValues",value:function(e){var t=this.getContractById(e);t.contract_update_config=Object(ae.e)(t.contract_info),this.validation_errors.contract_update_stop_loss=[],this.validation_errors.contract_update_take_profit=[]}},{key:"onChange",value:function(e,t){var r=e.name,n=e.value;this.contract_id=t,this.getContractById(this.contract_id).contract_update_config[r]=n,this[r]=n,this.validateProperty(r,this[r])}},{key:"updateLimitOrder",value:function(e){var t=this,r=this.getContractById(e),n=Object(xe.a)(r.contract_update_config);ao.a.contractUpdate(e,n).then((function(n){if(n.error)return t.root_store.common.setServicesError(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ya(Object(r),!0).forEach((function(t){Va(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ya(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({type:n.msg_type},n.error)),void t.root_store.ui.toggleServicesErrorModal(!0);r.populateContractUpdateConfig(n),t.root_store.ui.is_history_tab_active&&ao.a.contractUpdateHistory(e).then(r.populateContractUpdateHistory),t.root_store.modules.portfolio.populateContractUpdate(n,e)}))}},{key:"addContract",value:function(e){var t=e.barrier,r=e.contract_id,n=e.contract_type,o=e.start_time,i=e.longcode,a=e.underlying,s=e.is_tick_contract,c=e.limit_order,l=void 0===c?{}:c;if(this.contracts_map[r])Object.keys(l).length&&this.contracts_map[r].populateConfig({date_start:o,barrier:t,contract_type:n,longcode:i,underlying:a,limit_order:l},!0);else{var u=new wi(this.root_store,{contract_id:r});u.populateConfig({date_start:o,barrier:t,contract_type:n,longcode:i,underlying:a,limit_order:l}),this.contracts.push(u),this.contracts_map[r]=u,s&&0!==this.granularity&&Object(P.isDesktop)()&&this.root_store.ui.addNotificationMessage(qa)}}},{key:"removeContract",value:function(e){var t=e.contract_id;this.contracts=this.contracts.filter((function(e){return e.contract_id!==t})),delete this.contracts_map[t]}},{key:"accountSwitchListener",value:function(){return this.has_error&&this.clearError(),Promise.resolve()}},{key:"onUnmount",value:function(){this.disposeSwitchAccount()}},{key:"updateProposal",value:function(e){if("error"in e)return this.has_error=!0,void(this.error_message=e.error.message);if(e.proposal_open_contract){var t=+e.proposal_open_contract.contract_id;this.contracts_map[t].populateConfig(e.proposal_open_contract),e.proposal_open_contract.is_sold&&this.root_store.ui.removeNotificationMessage(qa)}}},{key:"clearError",value:function(){this.error_message="",this.has_error=!1}},{key:"getContractById",value:function(e){return this.contracts_map[e]||this.root_store.modules.contract_replay.contract_store}},{key:"markers_array",get:function(){var e=this.applicable_contracts().map((function(e){return e.marker})).filter((function(e){return e})).map((function(e){return Object(et.toJS)(e)}));return e.length&&(e[e.length-1].is_last_contract=!0),e}},{key:"last_contract",get:function(){var e=this.applicable_contracts(),t=e.length;return t>0?e[t-1]:{}}}])&&Wa(t.prototype,r),n&&Wa(t,n),i}(Zi.a),Pa=Ka((Ea=za).prototype,"contracts",[ua],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ca=Ka(Ea.prototype,"has_error",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Da=Ka(Ea.prototype,"error_message",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Ta=Ka(Ea.prototype,"granularity",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return+Ua.LocalStore.get("contract_trade.granularity")||0}}),Ma=Ka(Ea.prototype,"chart_type",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ua.LocalStore.get("contract_trade.chart_type")||"mountain"}}),Aa=Ka(Ea.prototype,"has_contract_update_stop_loss",[pa],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ra=Ka(Ea.prototype,"has_contract_update_take_profit",[da],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Na=Ka(Ea.prototype,"contract_update_stop_loss",[fa],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ia=Ka(Ea.prototype,"contract_update_take_profit",[ma],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ka(Ea.prototype,"updateChartType",[ha],Object.getOwnPropertyDescriptor(Ea.prototype,"updateChartType"),Ea.prototype),Ka(Ea.prototype,"updateGranularity",[ba],Object.getOwnPropertyDescriptor(Ea.prototype,"updateGranularity"),Ea.prototype),Ka(Ea.prototype,"clearContractUpdateConfigValues",[ya],Object.getOwnPropertyDescriptor(Ea.prototype,"clearContractUpdateConfigValues"),Ea.prototype),Ka(Ea.prototype,"onChange",[_a],Object.getOwnPropertyDescriptor(Ea.prototype,"onChange"),Ea.prototype),Ka(Ea.prototype,"updateLimitOrder",[va],Object.getOwnPropertyDescriptor(Ea.prototype,"updateLimitOrder"),Ea.prototype),Ka(Ea.prototype,"markers_array",[et.computed],Object.getOwnPropertyDescriptor(Ea.prototype,"markers_array"),Ea.prototype),Ka(Ea.prototype,"addContract",[ga],Object.getOwnPropertyDescriptor(Ea.prototype,"addContract"),Ea.prototype),Ka(Ea.prototype,"removeContract",[wa],Object.getOwnPropertyDescriptor(Ea.prototype,"removeContract"),Ea.prototype),Ka(Ea.prototype,"accountSwitchListener",[Oa],Object.getOwnPropertyDescriptor(Ea.prototype,"accountSwitchListener"),Ea.prototype),Ka(Ea.prototype,"onUnmount",[ja],Object.getOwnPropertyDescriptor(Ea.prototype,"onUnmount"),Ea.prototype),Ka(Ea.prototype,"updateProposal",[Sa],Object.getOwnPropertyDescriptor(Ea.prototype,"updateProposal"),Ea.prototype),Ka(Ea.prototype,"last_contract",[et.computed],Object.getOwnPropertyDescriptor(Ea.prototype,"last_contract"),Ea.prototype),Ka(Ea.prototype,"clearError",[ka],Object.getOwnPropertyDescriptor(Ea.prototype,"clearError"),Ea.prototype),Ka(Ea.prototype,"getContractById",[xa],Object.getOwnPropertyDescriptor(Ea.prototype,"getContractById"),Ea.prototype),Ea),Ms=r("./Stores/Modules/MT5/mt5-store.js"),As=r("../node_modules/lodash.throttle/index.js"),Rs=r.n(As),Ns=r("../node_modules/mobx-utils/mobx-utils.module.js"),Is=r("./Constants/index.js"),zs=r("./_common/base/client_base.js"),Ls=Object(et.flow)(regeneratorRuntime.mark((function e(t){var r,n,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ao.a.wait("website_status");case 2:return r=e.sent,e.next=5,ao.a.residenceList();case 5:n=e.sent,o=r.website_status.clients_country,i=(n.residence_list.find((function(e){return e.value===o}))||{}).text,t(Object(v.localize)("If you have an account, log in to continue."),i?Object(v.localize)("Sorry, this app is unavailable in {{clients_country}}.",{clients_country:i}):Object(v.localize)("Sorry, this app is unavailable in your current location."),Object(v.localize)("Log in"),(function(){return Object(Ir.redirectToLogin)(zs.a.isLoggedIn())}),!1);case 9:case"end":return e.stop()}}),e)}))),Us=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return!!e.length&&(!!e.filter((function(e){return e.symbol===t}))[0]&&!e.filter((function(e){return e.symbol===t}))[0].exchange_is_open)},qs=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.length?Fs(e)||Hs(e):""},Fs=function(e){try{var t=Ua.LocalStore.get("cq-favorites");if(!t)return;var r=JSON.parse(t)["chartTitle&Comparison"].map((function(t){return e.find((function(e){return e.symbol===t}))}));if(r){var n=r.filter((function(e){return e})).find(Bs);if(n)return n.symbol}return}catch(e){return}},Hs=function(e){var t=Ys(e,"1HZ100V")||Vs(e,/random_index/)||Vs(e,/major_pairs/);return t?t.symbol:e.find((function(e){return"major_pairs"===e.submarket})).symbol},Ys=function(e,t){return e.find((function(e){return e.symbol===t&&Bs(e)}))},Vs=function(e,t){return e.find((function(e){return t.test(e.submarket)&&Bs(e)}))},Bs=function(e){return 1===e.exchange_is_open},Ws=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return(e.find((function(e){return e.symbol.toUpperCase()===t.toUpperCase()}))||{display_name:""}).display_name},Gs=r("./Modules/Reports/Helpers/market-underlying.js"),Xs=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0,n=parseFloat(e.buy_price),o=parseFloat(e.payout),i=Ws(t,Object(Gs.b)(e.shortcode).underlying),a=e.transaction_id||e.transaction_ids&&e.transaction_ids.buy;return{contract_info:e,details:e.longcode.replace(/\n/g,"<br />"),display_name:i,id:e.contract_id,indicative:isNaN(r)||!r?0:r,payout:o,purchase:n,reference:+a,type:e.contract_type,is_unsupported:!!Object(Is.d)()[e.contract_type],contract_update:e.limit_order}};function $s(e){return($s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zs(e){return function(e){if(Array.isArray(e))return Js(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Js(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Js(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Js(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ks(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Qs(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ks(Object(r),!0).forEach((function(t){ec(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ks(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ec(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tc(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function rc(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){tc(i,n,o,a,s,"next",e)}function s(e){tc(i,n,o,a,s,"throw",e)}a(void 0)}))}}function nc(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function oc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ic(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ac(e,t){return(ac=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function sc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=uc(e);if(t){var o=uc(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return cc(this,r)}}function cc(e,t){return!t||"object"!==$s(t)&&"function"!=typeof t?lc(e):t}function lc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uc(e){return(uc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pc(e,t,r,n,o){var i={};return Object.keys(n).forEach((function(e){i[e]=n[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var dc=(Qa=et.observable.shallow,es=et.observable.shallow,ts=et.observable.shallow,rs=et.action.bound,ns=et.action.bound,os=et.action.bound,is=et.action.bound,as=et.action.bound,ss=et.action.bound,cs=et.action.bound,ls=et.action.bound,us=et.action.bound,ps=et.action.bound,ds=et.action.bound,fs=et.action.bound,ms=et.action.bound,hs=et.action.bound,bs=et.action.bound,ys=et.action.bound,_s=et.action.bound,vs=et.action.bound,gs=et.action.bound,ws=et.action.bound,Ds=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ac(e,t)}(a,e);var t,r,n,o,i=sc(a);function a(){var e;oc(this,a);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return nc(e=i.call.apply(i,[this].concat(r)),"positions",js,lc(e)),nc(e,"all_positions",Ss,lc(e)),e.positions_map={},nc(e,"is_loading",ks,lc(e)),nc(e,"error",xs,lc(e)),e.getPositionById=Object(Ns.a)((function(t){return e.positions.find((function(e){return+e.id==+t}))})),e.subscribers={},e.responseQueue=[],nc(e,"active_positions",Es,lc(e)),nc(e,"initializePortfolio",Ps,lc(e)),e.deepClone=function(e){return JSON.parse(JSON.stringify(e))},e.proposalOpenContractQueueHandler=function(t){e.responseQueue.push(t),e.throttledUpdatePositions()},nc(e,"populateResultDetails",Cs,lc(e)),e.updatePositions=function(){e.responseQueue.forEach((function(t){return e.proposalOpenContractHandler(t)})),e.responseQueue=[],e.setActivePositions()},e.throttledUpdatePositions=Rs()(e.updatePositions,500),e}return t=a,(r=[{key:"clearTable",value:function(){this.positions=[],this.positions_map={},this.is_loading=!1,this.error="",this.updatePositions(),ao.a.forgetAll("proposal_open_contract","transaction")}},{key:"portfolioHandler",value:function(e){var t=this;this.is_loading=!1,"error"in e?this.error=e.error.message:(this.error="",e.portfolio.contracts&&(this.positions=e.portfolio.contracts.map((function(e){return Xs(e,t.root_store.modules.trade.active_symbols)})).sort((function(e,t){return t.reference-e.reference})),this.positions.forEach((function(e){t.positions_map[e.id]=e})),this.updatePositions()))}},{key:"onBuyResponse",value:function(e){var t=e.contract_id,r=e.longcode,n=e.contract_type;if(!this.subscribers[t]){var o={contract_id:t,longcode:r,contract_type:n};this.pushNewPosition(o),this.subscribers[t]=ao.a.subscribeProposalOpenContract(t,this.proposalOpenContractQueueHandler)}}},{key:"transactionHandler",value:(o=rc(regeneratorRuntime.mark((function e(t){var r,n,o,i,a,s,c=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("error"in t&&(this.error=t.error.message),t.transaction){e.next=3;break}return e.abrupt("return");case 3:if(r=t.transaction,n=r.contract_id,o=r.action,i=r.longcode,"buy"!==o){e.next=8;break}this.onBuyResponse({contract_id:n,longcode:i,contract_type:""}),e.next=14;break;case 8:if("sell"!==o){e.next=14;break}if(a=this.getPositionIndexById(n),this.positions[a]){e.next=12;break}return e.abrupt("return");case 12:this.positions[a].is_loading=!0,s=ao.a.subscribeProposalOpenContract(n,(function(e){c.updateContractTradeStore(e),c.populateResultDetails(e),s.unsubscribe()}));case 14:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})},{key:"updateContractTradeStore",value:function(e){var t=this.root_store.modules.contract_trade,r=!Nr.a.isEmptyObject(e.proposal_open_contract),n=!!e.error;(r||n)&&r&&(t.addContract(this.deepClone(e.proposal_open_contract)),t.updateProposal(this.deepClone(e)))}},{key:"updateTradeStore",value:function(e,t,r){var n=this.root_store.modules.trade;r||n.setPurchaseSpotBarrier(e,t),n.updateLimitOrderBarriers(e,t)}},{key:"proposalOpenContractHandler",value:function(e){if("error"in e)this.updateContractTradeStore(e);else{var t=e.proposal_open_contract,r=this.positions_map[t.contract_id];if(r){this.updateContractTradeStore(e);var n=Xs(t,this.root_store.modules.trade.active_symbols,r.indicative);Object.assign(r,n);var o=r.indicative,i=+t.bid_price,a=+t.profit;if(t.barrier&&(r.barrier=+t.barrier),t.entry_spot&&(r.entry_spot=+t.entry_spot),r.indicative=i,r.profit_loss=a,r.is_valid_to_sell=Object(ae.q)(t),r.contract_info=t,t.tick_count){var s=r.current_tick>Object(fe.a)(t)?r.current_tick:Object(fe.a)(t);r.current_tick=s}r.status=i>o?"profit":i<o?"loss":null,this.hovered_position_id===r.id&&(1===r.contract_info.is_sold?this.updateTradeStore(!1,r):this.updateTradeStore(!0,r,!0))}}}},{key:"onClickCancel",value:function(e){var t=this,r=this.getPositionIndexById(e);this.positions[r].is_sell_requested=!0,e&&ao.a.cancelContract(e).then((function(e){e.error?(t.root_store.common.setServicesError(Qs({type:e.msg_type},e.error)),t.root_store.ui.toggleServicesErrorModal(!0)):t.root_store.ui.addNotificationMessage($i())}))}},{key:"onClickSell",value:function(e){var t=this.getPositionIndexById(e),r=this.positions[t].contract_info.bid_price;this.positions[t].is_sell_requested=!0,e&&r&&ao.a.sell(e,r).then(this.handleSell)}},{key:"handleSell",value:function(e){if(e.error){var t=this.getPositionIndexById(e.echo_req.sell);this.positions[t].is_sell_requested=!1,"InvalidToken"!==e.error.code&&(this.root_store.common.services_error=Qs({type:e.msg_type},e.error),this.root_store.ui.toggleServicesErrorModal(!0))}else if(!e.error&&e.sell){var r=this.getPositionIndexById(e.sell.contract_id);this.positions[r].is_sell_requested=!1,this.root_store.modules.contract_trade.sell_info={sell_price:e.sell.sold_for,transaction_id:e.sell.transaction_id},this.root_store.ui.addNotificationMessage(Xi(this.root_store.client.currency,e.sell.sold_for))}}},{key:"populateContractUpdate",value:function(e,t){var r=e.contract_update,n=this.getPositionById(t);n&&(Object.assign(n.contract_update,r),this.updatePositions())}},{key:"pushNewPosition",value:function(e){var t=Xs(e,this.root_store.modules.trade.active_symbols);this.positions.unshift(t),this.positions_map[t.id]=t,this.updatePositions()}},{key:"removePositionById",value:function(e){var t=this.getPositionIndexById(e);this.positions.splice(t,1),delete this.positions_map[e],this.updatePositions(),this.root_store.modules.contract_trade.removeContract({contract_id:e})}},{key:"accountSwitcherListener",value:function(){var e=this;return new Promise(function(){var t=rc(regeneratorRuntime.mark((function t(r){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",r(e.initializePortfolio()));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"onHoverPosition",value:function(e,t){var r=this.root_store.modules.trade.symbol;t.contract_info.underlying===r&&!Object(ae.m)(t.contract_info)&&Object(se.a)(t.type)&&(this.hovered_position_id=e?t.id:null,this.updateTradeStore(e,t))}},{key:"preSwitchAccountListener",value:function(){return this.clearTable(),Promise.resolve()}},{key:"logoutListener",value:function(){return this.clearTable(),Promise.resolve()}},{key:"networkStatusChangeListener",value:function(e){this.is_loading=!e}},{key:"onMount",value:function(){var e=this;this.onPreSwitchAccount(this.preSwitchAccountListener),this.onSwitchAccount(this.accountSwitcherListener),this.onNetworkStatusChange(this.networkStatusChangeListener),this.onLogout(this.logoutListener),0===this.positions.length&&(this.root_store.client.is_logged_in?this.initializePortfolio():Object(et.reaction)((function(){return e.root_store.client.is_logged_in}),(function(){e.root_store.client.is_logged_in&&e.initializePortfolio()})))}},{key:"onUnmount",value:function(){this.disposePreSwitchAccount(),this.disposeSwitchAccount(),this.disposeLogout()}},{key:"getPositionIndexById",value:function(e){return this.positions.findIndex((function(t){return+t.id==+e}))}},{key:"setActivePositions",value:function(){this.active_positions=this.positions.filter((function(e){return!Object(ae.g)(e.contract_info)})),this.all_positions=Zs(this.positions)}},{key:"totals",get:function(){var e=0,t=0,r=0;return this.positions.forEach((function(n){e+=+n.indicative,t+=+n.payout,r+=+n.purchase})),{indicative:e,payout:t,purchase:r}}},{key:"is_active_empty",get:function(){return!this.is_loading&&0===this.active_positions.length}},{key:"active_positions_count",get:function(){return this.active_positions_filtered.length||0}},{key:"is_empty",get:function(){return!this.is_loading&&0===this.all_positions.length}},{key:"all_positions_filtered",get:function(){return this.all_positions.filter((function(e){return!(Object(se.a)(e.contract_info.contract_type)&&Object(P.isMobile)())}))}},{key:"active_positions_filtered",get:function(){return this.active_positions.filter((function(e){return!(Object(se.a)(e.contract_info.contract_type)&&Object(P.isMobile)())}))}}])&&ic(t.prototype,r),n&&ic(t,n),a}(Zi.a),js=pc((Os=Ds).prototype,"positions",[Qa],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ss=pc(Os.prototype,"all_positions",[es],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ks=pc(Os.prototype,"is_loading",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),xs=pc(Os.prototype,"error",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Es=pc(Os.prototype,"active_positions",[ts],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ps=pc(Os.prototype,"initializePortfolio",[rs],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return rc(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.is_loading=!0,t.next=3,ao.a.wait("authorize");case 3:ao.a.portfolio().then(e.portfolioHandler),ao.a.subscribeProposalOpenContract(null,e.proposalOpenContractQueueHandler),ao.a.subscribeTransaction(e.transactionHandler);case 6:case"end":return t.stop()}}),t)})))}}),pc(Os.prototype,"clearTable",[ns],Object.getOwnPropertyDescriptor(Os.prototype,"clearTable"),Os.prototype),pc(Os.prototype,"portfolioHandler",[os],Object.getOwnPropertyDescriptor(Os.prototype,"portfolioHandler"),Os.prototype),pc(Os.prototype,"onBuyResponse",[is],Object.getOwnPropertyDescriptor(Os.prototype,"onBuyResponse"),Os.prototype),pc(Os.prototype,"transactionHandler",[as],Object.getOwnPropertyDescriptor(Os.prototype,"transactionHandler"),Os.prototype),pc(Os.prototype,"proposalOpenContractHandler",[ss],Object.getOwnPropertyDescriptor(Os.prototype,"proposalOpenContractHandler"),Os.prototype),pc(Os.prototype,"onClickCancel",[cs],Object.getOwnPropertyDescriptor(Os.prototype,"onClickCancel"),Os.prototype),pc(Os.prototype,"onClickSell",[ls],Object.getOwnPropertyDescriptor(Os.prototype,"onClickSell"),Os.prototype),pc(Os.prototype,"handleSell",[us],Object.getOwnPropertyDescriptor(Os.prototype,"handleSell"),Os.prototype),Cs=pc(Os.prototype,"populateResultDetails",[ps],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var r=t.proposal_open_contract,n=e.getPositionIndexById(r.contract_id);e.positions[n]&&(e.positions[n].contract_info=r,e.positions[n].duration=Object(fe.c)(r),e.positions[n].duration_unit=Object(fe.d)(Object(fe.b)(r)),e.positions[n].exit_spot=r.exit_tick||r.current_spot,e.positions[n].is_valid_to_sell=Object(ae.q)(r),e.positions[n].result=Object(ae.f)(r),e.positions[n].profit_loss=+r.profit,e.positions[n].sell_time=Object(ae.g)(r)||r.current_spot_time,e.positions[n].sell_price=r.sell_price,e.positions[n].status="complete",e.positions[n].contract_info.barrier&&e.positions[n].contract_info.entry_spot||(e.positions[n].contract_info.barrier=e.positions[n].barrier,e.positions[n].contract_info.entry_spot=e.positions[n].entry_spot),Object(ae.o)(r)&&(e.positions[n].exit_spot="-"),e.positions[n].is_loading=!1,Object(ae.g)(r)&&[e.populateResultDetails,e.proposalOpenContractHandler].forEach((function(){r.contract_id in e.subscribers&&(e.subscribers[r.contract_id].unsubscribe(),delete e.subscribers[r.contract_id])})),e.hovered_position_id===e.positions[n].id&&e.positions[n].contract_info.is_sold&&e.updateTradeStore(!1,e.positions[n]))}}}),pc(Os.prototype,"populateContractUpdate",[ds],Object.getOwnPropertyDescriptor(Os.prototype,"populateContractUpdate"),Os.prototype),pc(Os.prototype,"pushNewPosition",[fs],Object.getOwnPropertyDescriptor(Os.prototype,"pushNewPosition"),Os.prototype),pc(Os.prototype,"removePositionById",[ms],Object.getOwnPropertyDescriptor(Os.prototype,"removePositionById"),Os.prototype),pc(Os.prototype,"accountSwitcherListener",[hs],Object.getOwnPropertyDescriptor(Os.prototype,"accountSwitcherListener"),Os.prototype),pc(Os.prototype,"onHoverPosition",[bs],Object.getOwnPropertyDescriptor(Os.prototype,"onHoverPosition"),Os.prototype),pc(Os.prototype,"logoutListener",[ys],Object.getOwnPropertyDescriptor(Os.prototype,"logoutListener"),Os.prototype),pc(Os.prototype,"networkStatusChangeListener",[_s],Object.getOwnPropertyDescriptor(Os.prototype,"networkStatusChangeListener"),Os.prototype),pc(Os.prototype,"onMount",[vs],Object.getOwnPropertyDescriptor(Os.prototype,"onMount"),Os.prototype),pc(Os.prototype,"onUnmount",[gs],Object.getOwnPropertyDescriptor(Os.prototype,"onUnmount"),Os.prototype),pc(Os.prototype,"totals",[et.computed],Object.getOwnPropertyDescriptor(Os.prototype,"totals"),Os.prototype),pc(Os.prototype,"setActivePositions",[ws],Object.getOwnPropertyDescriptor(Os.prototype,"setActivePositions"),Os.prototype),pc(Os.prototype,"is_active_empty",[et.computed],Object.getOwnPropertyDescriptor(Os.prototype,"is_active_empty"),Os.prototype),pc(Os.prototype,"active_positions_count",[et.computed],Object.getOwnPropertyDescriptor(Os.prototype,"active_positions_count"),Os.prototype),pc(Os.prototype,"is_empty",[et.computed],Object.getOwnPropertyDescriptor(Os.prototype,"is_empty"),Os.prototype),pc(Os.prototype,"all_positions_filtered",[et.computed],Object.getOwnPropertyDescriptor(Os.prototype,"all_positions_filtered"),Os.prototype),pc(Os.prototype,"active_positions_filtered",[et.computed],Object.getOwnPropertyDescriptor(Os.prototype,"active_positions_filtered"),Os.prototype),Os),fc=r("../node_modules/lodash.debounce/index.js"),mc=r.n(fc);function hc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function bc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?hc(Object(r),!0).forEach((function(t){yc(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function yc(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var _c=function(e,t){var r=Object(fo.toMoment)().startOf("day").unix();return t&&r>t?t:Object(fo.epochToMoment)(r).add(1,"d").subtract(1,"s").unix()},vc=function(e,t,r,n){return Object(fo.toMoment)().startOf("day").unix()>n?r:e&&t?t:r},gc=function(e,t,r,n){return Object(fo.toMoment)().startOf("day").unix()>n?!!e||t:t?r||e:!!e||!1},wc=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return bc(bc({},gc(e,n,r,t)&&{date_from:vc(n,r,e,t)}),(t||n)&&{date_to:_c(0,t)})};function Oc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function jc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Oc(Object(r),!0).forEach((function(t){Sc(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Oc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Sc(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var kc,xc,Ec,Pc,Cc,Dc,Tc,Mc,Ac,Rc,Nc,Ic,zc,Lc,Uc,qc,Fc,Hc,Yc,Vc,Bc=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n="DD MMM YYYY HH:mm:ss",o="".concat(Object(fo.toMoment)(+e.purchase_time).format(n)),i="".concat(Object(fo.toMoment)(+e.sell_time).format(n)),a=parseFloat(e.payout),s=parseFloat(e.sell_price),c=parseFloat(e.buy_price),l=ke.a.formatMoney(t,Number(s-c),!0),u=Ws(r,Object(Gs.b)(e.shortcode).underlying);return jc(jc({},e),{payout:a,sell_price:s,buy_price:c,profit_loss:l,sell_time:i,purchase_time:o,display_name:u})};function Wc(e){return(Wc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Gc(e){return function(e){if(Array.isArray(e))return Xc(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Xc(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Xc(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xc(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $c(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function Zc(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){$c(i,n,o,a,s,"next",e)}function s(e){$c(i,n,o,a,s,"throw",e)}a(void 0)}))}}function Jc(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function Kc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qc(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function el(e,t){return(el=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function tl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=ol(e);if(t){var o=ol(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return rl(this,r)}}function rl(e,t){return!t||"object"!==Wc(t)&&"function"!=typeof t?nl(e):t}function nl(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ol(e){return(ol=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function il(e,t,r,n,o){var i={};return Object.keys(n).forEach((function(e){i[e]=n[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var al,sl,cl,ll,ul,pl,dl,fl,ml,hl,bl,yl,_l,vl,gl,wl,Ol,jl,Sl,kl,xl=(kc=et.action.bound,xc=et.action.bound,Ec=et.action.bound,Pc=et.action.bound,Cc=et.action.bound,Dc=et.action.bound,Tc=et.action.bound,Mc=et.action.bound,Ac=et.action.bound,Rc=et.action.bound,Vc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&el(e,t)}(s,e);var t,r,n,o,i,a=tl(s);function s(){var e;Kc(this,s);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Jc(e=a.call.apply(a,[this].concat(r)),"data",Ic,nl(e)),Jc(e,"date_from",zc,nl(e)),Jc(e,"date_to",Lc,nl(e)),Jc(e,"error",Uc,nl(e)),Jc(e,"has_loaded_all",qc,nl(e)),Jc(e,"is_loading",Fc,nl(e)),Jc(e,"filtered_date_range",Hc,nl(e)),Jc(e,"client_loginid",Yc,nl(e)),e.fetchOnScroll=mc()((function(t){t<2e3&&e.fetchNextBatch()}),150),e}return t=s,(r=[{key:"shouldFetchNextBatch",value:function(e){if(!e&&(this.has_loaded_all||this.is_loading))return!1;var t=Object(fo.toMoment)().startOf("day").add(1,"d").subtract(1,"s").unix();return!(this.date_to<t)||!e&&this.partial_fetch_time}},{key:"fetchNextBatch",value:(i=Zc(regeneratorRuntime.mark((function e(){var t,r,n=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.length>0&&void 0!==n[0]&&n[0],this.shouldFetchNextBatch(t)){e.next=3;break}return e.abrupt("return");case 3:return this.is_loading=!0,e.next=6,ao.a.profitTable(50,t?void 0:this.data.length,wc(this.date_from,this.date_to,this.partial_fetch_time,t));case 6:r=e.sent,this.profitTableResponseHandler(r,t);case 8:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"profitTableResponseHandler",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("error"in e)this.error=e.error.message;else{var n=e.profit_table.transactions.map((function(e){return Bc(e,t.root_store.client.currency,t.root_store.modules.trade.active_symbols)}));this.data=r?[].concat(Gc(n),Gc(this.data)):[].concat(Gc(this.data),Gc(n)),this.has_loaded_all=!r&&n.length<50,this.is_loading=!1,n.length>0&&(this.partial_fetch_time=Object(fo.toMoment)().unix())}}},{key:"handleScroll",value:function(e){var t=e.target,r=t.scrollTop,n=t.scrollHeight-(r+t.clientHeight);this.fetchOnScroll(n)}},{key:"networkStatusChangeListener",value:function(e){this.is_loading=!e}},{key:"onMount",value:(o=Zc(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertHasValidCache(this.client_loginid,this.clearDateFilter,this.clearTable,ao.a.forgetAll.bind(null,"proposal")),this.client_loginid=this.root_store.client.loginid,this.onSwitchAccount(this.accountSwitcherListener),this.onNetworkStatusChange(this.networkStatusChangeListener),e.next=6,ao.a.wait("authorize");case 6:this.fetchNextBatch(!0);case 7:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"onUnmount",value:function(){this.disposeSwitchAccount(),ao.a.forgetAll("proposal")}},{key:"accountSwitcherListener",value:function(){var e=this;return new Promise((function(t){return e.clearTable(),e.clearDateFilter(),t(e.fetchNextBatch())}))}},{key:"clearTable",value:function(){this.data=[],this.has_loaded_all=!1,this.is_loading=!1}},{key:"clearDateFilter",value:function(){this.date_from=null,this.date_to=Object(fo.toMoment)().startOf("day").add(1,"d").subtract(1,"s").unix(),this.partial_fetch_time=0}},{key:"handleDateChange",value:function(e){var t,r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=n.date_range;this.filtered_date_range=o,this.date_from=null!==(t=null==e?void 0:e.from)&&void 0!==t?t:e.is_batch?null:this.date_from,this.date_to=null!==(r=null==e?void 0:e.to)&&void 0!==r?r:this.date_to,this.clearTable(),this.fetchNextBatch()}},{key:"total_profit",get:function(){return this.data.reduce((function(e,t){var r=Number(parseFloat(t.buy_price));return e+(Number(parseFloat(t.sell_price))-r)}),0)}},{key:"is_empty",get:function(){return!this.is_loading&&0===this.data.length}},{key:"has_selected_date",get:function(){return!(!this.date_from&&!this.date_to)}},{key:"data_source",get:function(){return Object(P.isDesktop)()?this.data:this.data.filter((function(e){return!ie.a.isMultiplier({shortcode:e.shortcode})}))}},{key:"totals",get:function(){var e=0;return this.data.forEach((function(t){e+=parseFloat(t.profit_loss.replace(/,/g,""))})),{profit_loss:e.toString()}}}])&&Qc(t.prototype,r),n&&Qc(t,n),s}(Zi.a),Ic=il((Nc=Vc).prototype,"data",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),zc=il(Nc.prototype,"date_from",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Lc=il(Nc.prototype,"date_to",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Object(fo.toMoment)().startOf("day").add(1,"d").subtract(1,"s").unix()}}),Uc=il(Nc.prototype,"error",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),qc=il(Nc.prototype,"has_loaded_all",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Fc=il(Nc.prototype,"is_loading",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Hc=il(Nc.prototype,"filtered_date_range",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Yc=il(Nc.prototype,"client_loginid",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),il(Nc.prototype,"total_profit",[et.computed],Object.getOwnPropertyDescriptor(Nc.prototype,"total_profit"),Nc.prototype),il(Nc.prototype,"is_empty",[et.computed],Object.getOwnPropertyDescriptor(Nc.prototype,"is_empty"),Nc.prototype),il(Nc.prototype,"has_selected_date",[et.computed],Object.getOwnPropertyDescriptor(Nc.prototype,"has_selected_date"),Nc.prototype),il(Nc.prototype,"data_source",[et.computed],Object.getOwnPropertyDescriptor(Nc.prototype,"data_source"),Nc.prototype),il(Nc.prototype,"fetchNextBatch",[kc],Object.getOwnPropertyDescriptor(Nc.prototype,"fetchNextBatch"),Nc.prototype),il(Nc.prototype,"profitTableResponseHandler",[xc],Object.getOwnPropertyDescriptor(Nc.prototype,"profitTableResponseHandler"),Nc.prototype),il(Nc.prototype,"handleScroll",[Ec],Object.getOwnPropertyDescriptor(Nc.prototype,"handleScroll"),Nc.prototype),il(Nc.prototype,"networkStatusChangeListener",[Pc],Object.getOwnPropertyDescriptor(Nc.prototype,"networkStatusChangeListener"),Nc.prototype),il(Nc.prototype,"onMount",[Cc],Object.getOwnPropertyDescriptor(Nc.prototype,"onMount"),Nc.prototype),il(Nc.prototype,"onUnmount",[Dc],Object.getOwnPropertyDescriptor(Nc.prototype,"onUnmount"),Nc.prototype),il(Nc.prototype,"totals",[et.computed],Object.getOwnPropertyDescriptor(Nc.prototype,"totals"),Nc.prototype),il(Nc.prototype,"accountSwitcherListener",[Tc],Object.getOwnPropertyDescriptor(Nc.prototype,"accountSwitcherListener"),Nc.prototype),il(Nc.prototype,"clearTable",[Mc],Object.getOwnPropertyDescriptor(Nc.prototype,"clearTable"),Nc.prototype),il(Nc.prototype,"clearDateFilter",[Ac],Object.getOwnPropertyDescriptor(Nc.prototype,"clearDateFilter"),Nc.prototype),il(Nc.prototype,"handleDateChange",[Rc],Object.getOwnPropertyDescriptor(Nc.prototype,"handleDateChange"),Nc.prototype),Nc),El=r("@deriv/shared/utils/string");function Pl(e){return(Pl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Cl(e){return function(e){if(Array.isArray(e))return Dl(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Dl(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Dl(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dl(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Tl(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function Ml(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){Tl(i,n,o,a,s,"next",e)}function s(e){Tl(i,n,o,a,s,"throw",e)}a(void 0)}))}}function Al(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function Rl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Nl(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Il(e,t){return(Il=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function zl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=ql(e);if(t){var o=ql(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Ll(this,r)}}function Ll(e,t){return!t||"object"!==Pl(t)&&"function"!=typeof t?Ul(e):t}function Ul(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ql(e){return(ql=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Fl(e,t,r,n,o){var i={};return Object.keys(n).forEach((function(e){i[e]=n[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var Hl=(al=et.action.bound,sl=et.action.bound,cl=et.action.bound,ll=et.action.bound,ul=et.action.bound,pl=et.action.bound,dl=et.action.bound,fl=et.action.bound,ml=et.action.bound,hl=et.action.bound,kl=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Il(e,t)}(s,e);var t,r,n,o,i,a=zl(s);function s(){var e;Rl(this,s);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Al(e=a.call.apply(a,[this].concat(r)),"data",yl,Ul(e)),Al(e,"is_loading",_l,Ul(e)),Al(e,"has_loaded_all",vl,Ul(e)),Al(e,"date_from",gl,Ul(e)),Al(e,"date_to",wl,Ul(e)),Al(e,"error",Ol,Ul(e)),Al(e,"filtered_date_range",jl,Ul(e)),Al(e,"client_loginid",Sl,Ul(e)),e.fetchOnScroll=mc()((function(t){t<2e3&&e.fetchNextBatch()}),150),e}return t=s,(r=[{key:"clearTable",value:function(){this.data=[],this.has_loaded_all=!1,this.is_loading=!1}},{key:"clearDateFilter",value:function(){this.date_from=null,this.date_to=Object(fo.toMoment)().startOf("day").add(1,"d").subtract(1,"s").unix(),this.partial_fetch_time=0}},{key:"shouldFetchNextBatch",value:function(e){if(!e&&(this.has_loaded_all||this.is_loading))return!1;var t=Object(fo.toMoment)().startOf("day").add(1,"d").subtract(1,"s").unix();return!(this.date_to<t)||!e&&this.partial_fetch_time}},{key:"fetchNextBatch",value:(i=Ml(regeneratorRuntime.mark((function e(){var t,r,n=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.length>0&&void 0!==n[0]&&n[0],this.shouldFetchNextBatch(t)){e.next=3;break}return e.abrupt("return");case 3:return this.is_loading=!0,e.next=6,ao.a.statement(100,t?void 0:this.data.length,wc(this.date_from,this.date_to,this.partial_fetch_time,t));case 6:r=e.sent,this.statementHandler(r,t);case 8:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"statementHandler",value:function(e,t){var r=this;if("error"in e)this.error=e.error.message;else{var n=e.statement.transactions.map((function(e){return function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n="DD MMM YYYY HH:mm:ss",o=Object(fo.toMoment)(e.transaction_time).format(n),i=parseFloat(e.payout),a=parseFloat(e.amount),s=parseFloat(e.balance_after),c=!0,l=["buy","sell"].includes(e.action_type)?e.shortcode:null,u=l?Ws(r,Object(Gs.b)(l).underlying):"";return{action:Object(v.localize)(Object(El.toTitleCase)(e.action_type)),date:o,display_name:u,refid:e.transaction_id,payout:isNaN(i)?"-":ke.a.formatMoney(t,i,c),amount:isNaN(a)?"-":ke.a.formatMoney(t,a,c),balance:isNaN(s)?"-":ke.a.formatMoney(t,s,c),desc:e.longcode.replace(/\n/g,"<br />"),id:e.contract_id,app_id:e.app_id,shortcode:l,action_type:e.action_type}}(e,r.root_store.client.currency,r.root_store.modules.trade.active_symbols)}));this.data=t?[].concat(Cl(n),Cl(this.data)):[].concat(Cl(this.data),Cl(n)),this.has_loaded_all=!t&&n.length<100,this.is_loading=!1,n.length>0&&(this.partial_fetch_time=Object(fo.toMoment)().unix())}}},{key:"handleDateChange",value:function(e){var t,r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=n.date_range;this.filtered_date_range=o,this.date_from=null!==(t=null==e?void 0:e.from)&&void 0!==t?t:e.is_batch?null:this.date_from,this.date_to=null!==(r=null==e?void 0:e.to)&&void 0!==r?r:this.date_to,this.clearTable(),this.fetchNextBatch()}},{key:"handleScroll",value:function(e){var t=e.target,r=t.scrollTop,n=t.scrollHeight-(r+t.clientHeight);this.fetchOnScroll(n)}},{key:"accountSwitcherListener",value:function(){var e=this;return new Promise((function(t){return e.clearTable(),e.clearDateFilter(),t(e.fetchNextBatch())}))}},{key:"networkStatusChangeListener",value:function(e){this.is_loading=!e}},{key:"onMount",value:(o=Ml(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertHasValidCache(this.client_loginid,this.clearDateFilter,this.clearTable,ao.a.forgetAll.bind(null,"proposal")),this.client_loginid=this.root_store.client.loginid,this.onSwitchAccount(this.accountSwitcherListener),this.onNetworkStatusChange(this.networkStatusChangeListener),e.next=6,ao.a.wait("authorize");case 6:this.fetchNextBatch(!0);case 7:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"onUnmount",value:function(){this.clearTable(),this.clearDateFilter(),this.disposeSwitchAccount(),ao.a.forgetAll("proposal")}},{key:"is_empty",get:function(){return!this.is_loading&&0===this.data.length}},{key:"has_selected_date",get:function(){return!(!this.date_from&&!this.date_to)}},{key:"data_source",get:function(){return Object(P.isDesktop)()?this.data:this.data.filter((function(e){return!ie.a.isMultiplier({shortcode:e.shortcode})}))}}])&&Nl(t.prototype,r),n&&Nl(t,n),s}(Zi.a),yl=Fl((bl=kl).prototype,"data",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_l=Fl(bl.prototype,"is_loading",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),vl=Fl(bl.prototype,"has_loaded_all",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),gl=Fl(bl.prototype,"date_from",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),wl=Fl(bl.prototype,"date_to",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Object(fo.toMoment)().startOf("day").add(1,"d").subtract(1,"s").unix()}}),Ol=Fl(bl.prototype,"error",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),jl=Fl(bl.prototype,"filtered_date_range",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Sl=Fl(bl.prototype,"client_loginid",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Fl(bl.prototype,"is_empty",[et.computed],Object.getOwnPropertyDescriptor(bl.prototype,"is_empty"),bl.prototype),Fl(bl.prototype,"has_selected_date",[et.computed],Object.getOwnPropertyDescriptor(bl.prototype,"has_selected_date"),bl.prototype),Fl(bl.prototype,"data_source",[et.computed],Object.getOwnPropertyDescriptor(bl.prototype,"data_source"),bl.prototype),Fl(bl.prototype,"clearTable",[al],Object.getOwnPropertyDescriptor(bl.prototype,"clearTable"),bl.prototype),Fl(bl.prototype,"clearDateFilter",[sl],Object.getOwnPropertyDescriptor(bl.prototype,"clearDateFilter"),bl.prototype),Fl(bl.prototype,"fetchNextBatch",[cl],Object.getOwnPropertyDescriptor(bl.prototype,"fetchNextBatch"),bl.prototype),Fl(bl.prototype,"statementHandler",[ll],Object.getOwnPropertyDescriptor(bl.prototype,"statementHandler"),bl.prototype),Fl(bl.prototype,"handleDateChange",[ul],Object.getOwnPropertyDescriptor(bl.prototype,"handleDateChange"),bl.prototype),Fl(bl.prototype,"handleScroll",[pl],Object.getOwnPropertyDescriptor(bl.prototype,"handleScroll"),bl.prototype),Fl(bl.prototype,"accountSwitcherListener",[dl],Object.getOwnPropertyDescriptor(bl.prototype,"accountSwitcherListener"),bl.prototype),Fl(bl.prototype,"networkStatusChangeListener",[fl],Object.getOwnPropertyDescriptor(bl.prototype,"networkStatusChangeListener"),bl.prototype),Fl(bl.prototype,"onMount",[ml],Object.getOwnPropertyDescriptor(bl.prototype,"onMount"),bl.prototype),Fl(bl.prototype,"onUnmount",[hl],Object.getOwnPropertyDescriptor(bl.prototype,"onUnmount"),bl.prototype),bl),Yl=r("./_common/base/server_time.js"),Vl=r.n(Yl);function Bl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Wl(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Bl(Object(r),!0).forEach((function(t){Gl(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bl(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Gl(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xl(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}var $l=function(){var e,t=(e=regeneratorRuntime.mark((function e(t,r,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ao.a.buy(Wl({proposal_id:t,price:r},n&&{passthrough:n})));case 1:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){Xl(i,n,o,a,s,"next",e)}function s(e){Xl(i,n,o,a,s,"throw",e)}a(void 0)}))});return function(e,r,n){return t.apply(this,arguments)}}(),Zl=r("./Stores/Modules/Trading/Helpers/contract-type.js");function Jl(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}var Kl=function(){var e,t=(e=regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Zl.a.buildContractTypesConfig(t);case 2:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){Jl(i,n,o,a,s,"next",e)}function s(e){Jl(i,n,o,a,s,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}(),Ql=r("./Stores/Modules/Trading/Helpers/start-date.js");function eu(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return tu(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tu(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tu(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ru(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function nu(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ou=function(){return{stop_loss:{rules:[["req",{condition:function(e){return e.has_stop_loss&&!e.stop_loss},message:Object(v.localize)("Please enter a stop loss amount.")}]]},take_profit:{rules:[["req",{condition:function(e){return e.has_take_profit&&!e.take_profit},message:Object(v.localize)("Please enter a take profit amount.")}]]}}},iu=function(){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ru(Object(r),!0).forEach((function(t){nu(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ru(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({amount:{rules:[["req",{message:Object(v.localize)("Amount is a required field.")}],["number",{min:0,type:"float"}]]},barrier_1:{rules:[["req",{condition:function(e){return e.barrier_count&&e.form_components.indexOf("barrier")>-1},message:Object(v.localize)("Barrier is a required field.")}],["barrier",{condition:function(e){return e.barrier_count}}],["custom",{func:function(e,t,r,n){return!(r.barrier_count>1)||+e>+n.barrier_2},message:Object(v.localize)("Higher barrier must be higher than lower barrier.")}]],trigger:"barrier_2"},barrier_2:{rules:[["req",{condition:function(e){return e.barrier_count>1&&e.form_components.indexOf("barrier")>-1},message:Object(v.localize)("Barrier is a required field.")}],["barrier",{condition:function(e){return e.barrier_count}}],["custom",{func:function(e,t,r,n){return/^[+-]/g.test(n.barrier_1)&&/^[+-]/g.test(e)||/^(?![+-])/g.test(n.barrier_1)&&/^(?![+-])/g.test(e)},message:Object(v.localize)("Both barriers should be relative or absolute")}],["custom",{func:function(e,t,r,n){return+n.barrier_1>+e},message:Object(v.localize)("Lower barrier must be lower than higher barrier.")}]],trigger:"barrier_1"},duration:{rules:[["req",{message:Object(v.localize)("Duration is a required field.")}]]},start_date:{trigger:"start_time"},expiry_date:{trigger:"expiry_time"},start_time:{rules:[["custom",{func:function(e,t,r){return"spot"===r.contract_start_type||Object(fo.isTimeValid)(e)},message:Object(v.localize)('Please enter the start time in the format "HH:MM".')}],["custom",{func:function(e,t,r){return"spot"===r.contract_start_type||Object(fo.isHourValid)(e)},message:Object(v.localize)("Hour must be between 0 and 23.")}],["custom",{func:function(e,t,r){return"spot"===r.contract_start_type||Object(fo.isMinuteValid)(e)},message:Object(v.localize)("Minute must be between 0 and 59.")}],["custom",{func:function(e,t,r){if("spot"===r.contract_start_type)return!0;if(!Object(fo.isTimeValid)(e))return!1;var n=Object(fo.toMoment)(r.start_date),o=n.clone(),i=eu(e.split(":"),2),a=i[0],s=i[1];return Object(Ql.b)(r.sessions,o.hour(a).minute(s),n)},message:Object(v.localize)("Start time cannot be in the past.")}]]},expiry_time:{rules:[["custom",{func:function(e,t,r){return"spot"===r.contract_start_type||Object(fo.isTimeValid)(e)},message:Object(v.localize)('Please enter the start time in the format "HH:MM".')}],["custom",{func:function(e,t,r){return"spot"===r.contract_start_type||Object(fo.isHourValid)(e)},message:Object(v.localize)("Hour must be between 0 and 23.")}],["custom",{func:function(e,t,r){return"spot"===r.contract_start_type||Object(fo.isMinuteValid)(e)},message:Object(v.localize)("Minute must be between 0 and 59.")}],["custom",{func:function(e,t,r){if("spot"===r.contract_start_type)return!0;if(!Object(fo.isTimeValid)(e))return!1;var n=Object(fo.toMoment)(r.start_date),o=n.clone(),i=eu(e.split(":"),2),a=i[0],s=i[1];return Object(Ql.b)(r.sessions,o.hour(a).minute(s),n)},message:Object(v.localize)("Expiry time cannot be in the past.")}]]}},ou())},au=r("./Stores/Modules/Trading/Helpers/duration.js"),su=function(e){var t=e.contract_types_list,r=e.contract_type;return Zl.a.getContractType(t,r)},cu=function(e){return Zl.a.getContractValues(e)};function lu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function uu(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var pu=function(e){var t=Object(au.d)(e);return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?lu(Object(r),!0).forEach((function(t){uu(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lu(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({contract_expiry_type:t},e.contract_expiry_type!==t&&Zl.a.getBarriers(e.contract_type,t))};function du(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function fu(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?du(Object(r),!0).forEach((function(t){mu(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):du(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function mu(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hu(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}var bu=function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var r,n,o,i,a,s,c,l,u,p,d,f,m,h,b,y,_,v,g,w,O,j,S,k,x;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.contract_type,n=t.duration_unit,o=t.expiry_time,i=t.start_date,a=t.symbol,s=t.root_store.common.server_time,c=t.start_time,l=t.expiry_date,u=t.expiry_type,c=c||s.clone().add(6,"minute").format("HH:mm"),p=Zl.a.getStartType(i),d=p.contract_start_type,f=Zl.a.getSessions(r,i),m=f.sessions,h=Zl.a.getStartTime(m,i,c),c=h.start_time,b=Zl.a.getDurationUnitsList(r,d),y=b.duration_units_list,_=Zl.a.getDurationUnit(n,r,d),v=Zl.a.getExpiryType(y,u),u=v.expiry_type,g=Zl.a.getExpiryDate(y,l,u,i),l=g.expiry_date,e.next=19,Zl.a.getTradingTimes(l,a);case 19:return w=e.sent,O={market_open_times:w.open},j={market_close_times:w.close},S=j.market_close_times,k=Zl.a.getExpiryTime(l,o,u,S,m,i,c),x=Zl.a.getDurationMinMax(r,d),e.abrupt("return",fu(fu(fu(fu(fu(fu(fu(fu(fu(fu(fu({},p),b),x),_),f),h),g),k),v),O),j));case 26:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){hu(i,n,o,a,s,"next",e)}function s(e){hu(i,n,o,a,s,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}();function yu(e){return function(e){if(Array.isArray(e))return _u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return _u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _u(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function vu(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}var gu=function(){var e,t=(e=regeneratorRuntime.mark((function e(t,r){var n,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.getSnapshot(),o=wu(t,r),i=0;case 3:if(!(i<o.length)){e.next=13;break}return e.t0=Ou,e.t1=n,e.next=8,o[i](n);case 8:e.t2=e.sent,(0,e.t0)(e.t1,e.t2);case 10:i++,e.next=3;break;case 13:return e.abrupt("return",n);case 14:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){vu(i,n,o,a,s,"next",e)}function s(e){vu(i,n,o,a,s,"throw",e)}a(void 0)}))});return function(e,r){return t.apply(this,arguments)}}(),wu=function(e,t){return[Zl.a.getContractCategories,su].concat(yu(/\b(symbol|contract_type)\b/.test(Object.keys(t))||!e.contract_type?[cu]:[]),[bu,pu])},Ou=function(e,t){["basis_list","contract_types_list","duration_units_list","expiry_type","form_components","market_close_times","trade_types"].forEach((function(r){r in t&&(e[r]=void 0)})),co()(!0,e,t)},ju=r("./_common/common_functions.js");function Su(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ku(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Su(Object(r),!0).forEach((function(t){xu(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Su(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function xu(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Eu,Pu,Cu,Du,Tu,Mu,Au,Ru,Nu,Iu,zu,Lu,Uu,qu,Fu,Hu,Yu,Vu,Bu,Wu,Gu,Xu,$u,Zu,Ju,Ku,Qu,ep,tp,rp,np,op,ip,ap,sp,cp,lp,up,pp,dp,fp,mp,hp,bp,yp,_p,vp,gp,wp,Op,jp,Sp,kp,xp,Ep,Pp,Cp,Dp,Tp,Mp,Ap,Rp,Np,Ip,zp,Lp,Up,qp,Fp,Hp,Yp,Vp,Bp,Wp,Gp,Xp,$p,Zp,Jp,Kp,Qp,ed,td,rd,nd,od,id,ad,sd,cd,ld,ud,pd,dd,fd,md,hd,bd,yd,_d,vd,gd,wd,Od,jd,Sd,kd,xd,Ed={barrier:"barrier_1",barrier2:"barrier_2",date_expiry:"expiry_date"},Pd=function(e){var t=Nr.a.getPropertyValue(e,["error","details","field"]);if(!t)return null;var r=Ed[t]||t,n=document.getElementsByName(r)[0];return n&&Object(ju.isVisible)(n)?r:null},Cd=function(e,t){var r={},n={};if("endtime"===e.expiry_type){var o=Object(fo.toMoment)(e.expiry_date);r.date_expiry=Object(fo.convertToUnix)(o.unix(),e.expiry_time)}return e.is_multiplier&&function(e,t){t.multiplier=e.multiplier,t.cancellation=e.has_cancellation?e.cancellation_duration:void 0,t.limit_order=e.has_take_profit||e.has_stop_loss?{}:void 0,e.has_take_profit&&e.take_profit&&(t.limit_order.take_profit=+e.take_profit||0),e.has_stop_loss&&e.stop_loss&&(t.limit_order.stop_loss=+e.stop_loss||0)}(e,n),ku(ku(ku(ku(ku({proposal:1,subscribe:1,amount:parseFloat(e.amount)||0,basis:e.basis,contract_type:t,currency:e.currency,symbol:e.symbol},e.start_date&&{date_start:Object(fo.convertToUnix)(e.start_date,e.start_time)}),"duration"===e.expiry_type?{duration:parseInt(e.duration),duration_unit:e.duration_unit}:r),(e.barrier_count>0||-1!==e.form_components.indexOf("last_digit"))&&{barrier:e.barrier_1||e.last_digit}),2===e.barrier_count&&{barrier2:e.barrier_2}),n)},Dd=r("./Stores/Modules/Trading/Helpers/barrier.js");function Td(e){return(Td="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Md(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ad(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Md(Object(r),!0).forEach((function(t){Rd(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Md(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Rd(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nd(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function Id(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){Nd(i,n,o,a,s,"next",e)}function s(e){Nd(i,n,o,a,s,"throw",e)}a(void 0)}))}}function zd(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function Ld(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ud(e,t){return(Ud=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function qd(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Yd(e);if(t){var o=Yd(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Fd(this,r)}}function Fd(e,t){return!t||"object"!==Td(t)&&"function"!=typeof t?Hd(e):t}function Hd(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yd(e){return(Yd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Vd(e,t,r,n,o){var i={};return Object.keys(n).forEach((function(e){i[e]=n[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var Bd={},Wd=(Eu=et.observable.ref,Pu=et.observable.ref,Cu=et.action.bound,Du=et.action.bound,Tu=et.action.bound,Mu=et.action.bound,Au=et.action.bound,Ru=et.action.bound,Nu=et.action.bound,Iu=et.action.bound,zu=et.action.bound,Lu=et.action.bound,Uu=et.action.bound,qu=et.action.bound,Fu=et.action.bound,Hu=et.action.bound,Yu=et.action.bound,Vu=et.action.bound,Bu=et.action.bound,Wu=et.action.bound,Gu=et.action.bound,Xu=et.action.bound,$u=et.action.bound,Zu=et.action.bound,Ju=et.action.bound,Ku=et.action.bound,Qu=et.action.bound,ep=et.action.bound,tp=et.action.bound,rp=et.action.bound,np=et.action.bound,op=et.action.bound,ip=et.action.bound,ap=et.action.bound,sp=et.action.bound,cp=et.action.bound,lp=et.action.bound,up=et.action.bound,pp=et.action.bound,dp=et.action.bound,fp=et.action.bound,mp=et.action.bound,hp=et.action.bound,bp=et.action.bound,yp=et.action.bound,_p=et.action.bound,vp=et.action.bound,gp=et.action.bound,xd=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ud(e,t)}(h,e);var t,r,n,o,i,a,s,c,l,u,p,d,f,m=qd(h);function h(e){var t,r=e.root_store;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,h);return zd(t=m.call(this,{root_store:r,local_storage_properties:["amount","barrier_1","barrier_2","basis","contract_start_type","contract_type","duration","duration_unit","expiry_date","expiry_type","has_take_profit","has_stop_loss","is_equal","last_digit","multiplier","start_date","start_time","symbol","stop_loss","take_profit","is_trade_params_expanded"],store_name:"trade_store",validation_rules:iu()}),"is_trade_component_mounted",Op,Hd(t)),zd(t,"is_purchase_enabled",jp,Hd(t)),zd(t,"is_trade_enabled",Sp,Hd(t)),zd(t,"is_equal",kp,Hd(t)),zd(t,"symbol",xp,Hd(t)),zd(t,"is_market_closed",Ep,Hd(t)),zd(t,"previous_symbol",Pp,Hd(t)),zd(t,"active_symbols",Cp,Hd(t)),zd(t,"should_refresh_active_symbols",Dp,Hd(t)),zd(t,"contract_expiry_type",Tp,Hd(t)),zd(t,"contract_start_type",Mp,Hd(t)),zd(t,"contract_type",Ap,Hd(t)),zd(t,"contract_types_list",Rp,Hd(t)),zd(t,"form_components",Np,Hd(t)),zd(t,"trade_types",Ip,Hd(t)),zd(t,"amount",zp,Hd(t)),zd(t,"basis",Lp,Hd(t)),zd(t,"basis_list",Up,Hd(t)),zd(t,"currency",qp,Hd(t)),zd(t,"duration",Fp,Hd(t)),zd(t,"duration_unit",Hp,Hd(t)),zd(t,"duration_units_list",Yp,Hd(t)),zd(t,"duration_min_max",Vp,Hd(t)),zd(t,"expiry_date",Bp,Hd(t)),zd(t,"expiry_time",Wp,Hd(t)),zd(t,"expiry_type",Gp,Hd(t)),zd(t,"barrier_1",Xp,Hd(t)),zd(t,"barrier_2",$p,Hd(t)),zd(t,"barrier_count",Zp,Hd(t)),zd(t,"main_barrier",Jp,Hd(t)),zd(t,"barriers",Kp,Hd(t)),zd(t,"start_date",Qp,Hd(t)),zd(t,"start_dates_list",ed,Hd(t)),zd(t,"start_time",td,Hd(t)),zd(t,"sessions",rd,Hd(t)),zd(t,"market_open_times",nd,Hd(t)),zd(t,"market_close_times",od,Hd(t)),zd(t,"last_digit",id,Hd(t)),zd(t,"is_mobile_digit_view_selected",ad,Hd(t)),zd(t,"proposal_info",sd,Hd(t)),zd(t,"purchase_info",cd,Hd(t)),zd(t,"is_chart_loading",ld,Hd(t)),zd(t,"multiplier",ud,Hd(t)),zd(t,"multiplier_range_list",pd,Hd(t)),zd(t,"stop_loss",dd,Hd(t)),zd(t,"take_profit",fd,Hd(t)),zd(t,"has_stop_loss",md,Hd(t)),zd(t,"has_take_profit",hd,Hd(t)),zd(t,"has_cancellation",bd,Hd(t)),zd(t,"commission",yd,Hd(t)),zd(t,"cancellation_price",_d,Hd(t)),zd(t,"hovered_contract_type",vd,Hd(t)),zd(t,"cancellation_duration",gd,Hd(t)),zd(t,"cancellation_range_list",wd,Hd(t)),zd(t,"is_trade_params_expanded",Od,Hd(t)),t.addTickByProposal=function(){return null},t.debouncedProposal=mc()(t.requestProposal,500),t.proposal_requests={},t.initial_barriers=void 0,t.is_initial_barrier_applied=!1,zd(t,"should_skip_prepost_lifecycle",jd,Hd(t)),zd(t,"init",Sd,Hd(t)),zd(t,"clearContracts",kd,Hd(t)),t.setMainBarrier=function(e){if(e){var r=e.contract_type,n=e.barrier,o=e.high_barrier,i=e.low_barrier;if(Object(mi.b)(r)){var a=t.root_store.ui.is_dark_mode_on?fi.a.DARK_GRAY:fi.a.GRAY,s=new hi.a(n||o,i,t.onChartBarrierChange,{color:a});t.main_barrier=s}else t.main_barrier=null}},t.disablePurchaseButtons=function(){var e=document.getElementsByClassName("trade-container__price-info"),t=document.getElementsByClassName("btn-purchase");[].forEach.bind(t,(function(e){e.classList.add("btn-purchase--disabled")}))(),[].forEach.bind(e,(function(e){e.classList.add("trade-container__price-info--fade")}))()},t.prev_chart_layout=null,t.wsSubscribe=function(e,t){if(1===e.subscribe){var r=JSON.stringify(e),n=ao.a.subscribeTicksHistory(e,t);Bd[r]=n}},t.wsForget=function(e){var t=JSON.stringify(e);Bd[t]&&(Bd[t].unsubscribe(),delete Bd[t])},t.wsForgetStream=function(e){ao.a.forgetStream(e)},t.wsSendRequest=function(e){return e.time?Vl.a.timePromise().then((function(e){return e?{msg_type:"time",time:e.unix()}:ao.a.time()})):e.active_symbols?t.should_refresh_active_symbols?ao.a.activeSymbols("brief"):ao.a.wait("active_symbols"):ao.a.storage.send(e)},t.refToAddTick=function(e){t.addTickByProposal=e},Object(et.reaction)((function(){return[t.contract_expiry_type,t.duration_min_max,t.duration_unit,t.expiry_type]}),(function(){t.changeDurationValidationRules()})),Object(et.reaction)((function(){return t.is_equal}),(function(){t.onAllowEqualsChange()})),Object(et.reaction)((function(){return t.symbol}),(function(){var e=Object(au.f)(t.symbol,t.expiry_type);e&&(t.expiry_date=e)})),Object(et.reaction)((function(){return t.duration_unit}),(function(){t.contract_expiry_type="t"===t.duration_unit?"tick":"intraday"})),Object(et.reaction)((function(){return[t.has_stop_loss,t.has_take_profit]}),(function(){t.has_stop_loss||(t.validation_errors.stop_loss=[]),t.has_take_profit||(t.validation_errors.take_profit=[])})),t}return t=h,(r=[{key:"setSkipPrePostLifecycle",value:function(e){!!e!=!!this.should_skip_prepost_lifecycle&&(this.should_skip_prepost_lifecycle=e,e||this.onUnmount())}},{key:"setTradeStatus",value:function(e){this.is_trade_enabled=e}},{key:"refresh",value:function(){this.forgetAllProposal(),this.proposal_info={},this.purchase_info={},this.proposal_requests={}}},{key:"setDefaultSymbol",value:(f=Id(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.is_symbol_in_active_symbols){e.next=3;break}return e.next=3,this.processNewValuesAsync({symbol:qs(this.active_symbols)});case 3:case"end":return e.stop()}}),e,this)}))),function(){return f.apply(this,arguments)})},{key:"setActiveSymbols",value:(d=Id(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.should_refresh_active_symbols){e.next=6;break}return e.next=3,ao.a.wait("active_symbols");case 3:e.t0=e.sent,e.next=9;break;case 6:return e.next=8,ao.a.activeSymbols();case 8:e.t0=e.sent;case 9:if(t=e.t0,r=t.active_symbols,!t.error){e.next=17;break}return this.root_store.common.showError(Object(v.localize)("Trading is unavailable at this time.")),e.abrupt("return");case 17:if(r&&r.length){e.next=20;break}return Ls(this.root_store.common.showError),e.abrupt("return");case 20:this.processNewValuesAsync({active_symbols:r});case 21:case"end":return e.stop()}}),e,this)}))),function(){return d.apply(this,arguments)})},{key:"setContractTypes",value:(p=Id(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.symbol||!this.is_symbol_in_active_symbols){e.next=4;break}return e.next=3,Kl(this.symbol);case 3:Object(et.runInAction)((function(){var e=Zl.a.getContractCategories();t.processNewValuesAsync(Ad(Ad({},e),Zl.a.getContractType(e.contract_types_list,t.contract_type))),t.processNewValuesAsync(Zl.a.getContractValues(t))}));case 4:case"end":return e.stop()}}),e,this)}))),function(){return p.apply(this,arguments)})},{key:"prepareTradeStore",value:(u=Id(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.currency=this.root_store.client.currency||this.root_store.client.default_currency,this.initial_barriers={barrier_1:this.barrier_1,barrier_2:this.barrier_2},e.next=4,ao.a.wait("authorize");case 4:return e.next=6,Object(et.when)((function(){return!t.root_store.client.is_populating_account_list}));case 6:return e.next=8,this.setActiveSymbols();case 8:Object(et.runInAction)(Id(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ao.a.storage.contractsFor(t.symbol).then(function(){var e=Id(regeneratorRuntime.mark((function e(r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.error||"InvalidSymbol"!==r.error.code){e.next=8;break}return e.next=3,t.resetRefresh();case 3:return e.next=5,t.setActiveSymbols();case 5:return e.next=7,qs();case 7:Object(et.runInAction)((function(){return t.should_refresh_active_symbols=!0}));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:return e.next=4,t.setDefaultSymbol();case 4:return e.next=6,t.setContractTypes();case 6:return e.next=8,t.processNewValuesAsync({is_market_closed:Us(t.active_symbols,t.symbol)},!0,null,!1);case 8:case"end":return e.stop()}}),e)}))));case 9:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"onChangeMultiple",value:(l=Id(regeneratorRuntime.mark((function e(t){var r=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object.keys(t).forEach((function(e){if(!(e in r))throw new Error("Invalid Argument: ".concat(e))})),e.next=3,this.processNewValuesAsync(Ad({},t),!0);case 3:this.validateAllProperties();case 4:case"end":return e.stop()}}),e,this)}))),function(e){return l.apply(this,arguments)})},{key:"onChange",value:(c=Id(regeneratorRuntime.mark((function e(t){var r,n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.target,n=r.name,o=r.value,"symbol"===n&&o&&(this.setChartStatus(!0),this.is_trade_enabled=!1),"currency"!==n){e.next=6;break}this.root_store.client.is_logged_in||this.root_store.client.selectCurrency(o),e.next=12;break;case 6:if("expiry_date"!==n){e.next=10;break}this.expiry_time=null,e.next=12;break;case 10:if(n in this){e.next=12;break}throw new Error("Invalid Argument: ".concat(n));case 12:return e.next=14,this.processNewValuesAsync(Rd({},n,o),!0,"contract_type"===n?{contract_type:this.contract_type}:{},!0);case 14:this.validateAllProperties();case 15:case"end":return e.stop()}}),e,this)}))),function(e){return c.apply(this,arguments)})},{key:"setPreviousSymbol",value:function(e){this.previous_symbol!==e&&(this.previous_symbol=e)}},{key:"setAllowEqual",value:function(e){this.is_equal=e}},{key:"setIsTradeParamsExpanded",value:function(e){this.is_trade_params_expanded=e}},{key:"resetPreviousSymbol",value:(s=Id(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setMarketStatus(Us(this.active_symbols,this.previous_symbol)),e.next=3,Kl(this.previous_symbol);case 3:return e.next=5,this.updateSymbol(this.symbol);case 5:this.setChartStatus(!1),Object(et.runInAction)((function(){t.previous_symbol=""}));case 7:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"updateBarrierColor",value:function(e){this.main_barrier&&this.main_barrier.updateBarrierColor(e)}},{key:"onHoverPurchase",value:function(e,t){this.is_purchase_enabled&&this.main_barrier&&!this.is_multiplier&&this.main_barrier.updateBarrierShade(e,t),this.hovered_contract_type=e?t:null,Object(xe.c)({barriers:this.barriers,is_over:e,contract_type:t,contract_info:this.proposal_info[t]})}},{key:"setPurchaseSpotBarrier",value:function(e,t){var r="PURCHASE_SPOT_BARRIER";if(e){var n=this.barriers.find((function(e){return e.key===r}));n?n.high!==+t.contract_info.entry_spot&&n.onChange({high:t.contract_info.entry_spot}):((n=new hi.a(t.contract_info.entry_spot)).key=r,n.draggable=!1,n.hideOffscreenBarrier=!0,n.isSingleBarrier=!0,n.updateBarrierColor(this.root_store.ui.is_dark_mode_on),this.barriers.push(n))}else Object(mi.c)(this.barriers,r)}},{key:"updateLimitOrderBarriers",value:function(e,t){var r=t.contract_info,n=this.barriers;Object(xe.c)({barriers:n,contract_info:r,contract_type:r.contract_type,is_over:e})}},{key:"clearLimitOrderBarriers",value:function(){this.hovered_contract_type=null;var e=this.barriers;Object(xe.c)({barriers:e,is_over:!1})}},{key:"onPurchase",value:function(e,t,r){var n=this;if(this.is_purchase_enabled&&e){this.is_purchase_enabled=!1;var o="t"===this.duration_unit;$l(e,t).then(Object(et.action)((function(t){var i,a=+n.last_digit;if((null===(i=n.proposal_info[r])||void 0===i?void 0:i.id)!==e)throw new Error("Proposal ID does not match.");if(t.buy){var s=Ad(Ad(Ad({},n.proposal_requests[r]),n.proposal_info[r]),{},{buy_price:t.buy.buy_price}),c=t.buy,l=c.contract_id,u=c.longcode,p=c.start_time;if(l){var d=t.buy.shortcode,f=ie.a.extractInfoFromShortcode(d),m=f.category,h=f.underlying,b=Object(D.a)(m.toUpperCase()),y=m.toUpperCase();return n.root_store.modules.contract_trade.addContract({contract_id:l,start_time:p,longcode:u,underlying:h,barrier:b?a:null,contract_type:y,is_tick_contract:o}),n.root_store.modules.portfolio.onBuyResponse({contract_id:l,longcode:u,contract_type:y}),Object(P.isDesktop)()&&n.root_store.ui.openPositionsDrawer(),n.proposal_info={},n.forgetAllProposal(),n.purchase_info=t,n.proposal_requests={},n.debouncedProposal(),n.clearLimitOrderBarriers(),void n.pushPurchaseDataToGtm(s)}}else t.error&&(n.disablePurchaseButtons(),"InvalidToken"!==t.error.code&&(n.root_store.common.services_error=Ad({type:t.msg_type},t.error),n.root_store.ui.toggleServicesErrorModal(!0)));n.forgetAllProposal(),n.purchase_info=t,n.is_purchase_enabled=!0})))}}},{key:"updateStore",value:function(e){var t=this;return Object.keys(Nr.a.cloneObject(e)).forEach((function(r){"root_store"===r||["validation_rules","validation_errors","currency"].indexOf(r)>-1||(JSON.stringify(t[r])===JSON.stringify(e[r])?delete e[r]:("symbol"===r&&(t.is_purchase_enabled=!1,t.is_trade_enabled=!1),e.start_date&&"string"==typeof e.start_date&&(e.start_date=parseInt(e.start_date)),t[r]=e[r],"barrier_2"===r&&e.barrier_1&&(t.barrier_1=e.barrier_1)))})),e}},{key:"processNewValuesAsync",value:(a=Id(regeneratorRuntime.mark((function e(){var t,r,n,o,i,a,s,c,l=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=l.length>0&&void 0!==l[0]?l[0]:{},r=l.length>1&&void 0!==l[1]&&l[1],n=l.length>2&&void 0!==l[2]?l[2]:{},o=!(l.length>3&&void 0!==l[3])||l[3],/\bduration\b/.test(Object.keys(t))&&"string"==typeof t.duration&&(t.duration=+t.duration),o&&(this.forgetAllProposal(),this.proposal_requests={}),r&&/\bcurrency\b/.test(Object.keys(t))&&(i=n&&!Nr.a.isEmptyObject(n)&&n.currency?n.currency:this.currency,ke.a.isCryptocurrency(t.currency)!==ke.a.isCryptocurrency(i)&&(t.amount=r&&t.amount?t.amount:ke.a.getMinPayout(t.currency)),this.currency=t.currency),!Object.keys(t).includes("symbol")){e.next=13;break}return this.setPreviousSymbol(this.symbol),e.next=11,Kl(t.symbol);case 11:this.setMarketStatus(Us(this.active_symbols,t.symbol)),a=Zl.a.getContractCategories().has_only_forward_starting_contracts;case 13:if(this.root_store.ui.setHasOnlyForwardingContracts(a),!a){e.next=16;break}return e.abrupt("return");case 16:if(s=this.updateStore(Nr.a.cloneObject(t)),!r&&!/\b(symbol|contract_types_list)\b/.test(Object.keys(s))){e.next=30;break}return this.updateStore({is_purchase_enabled:!1,proposal_info:{}}),t.contract_type&&this.root_store.ui.is_advanced_duration&&Object(D.b)(t.contract_type)&&(this.barrier_1="",this.barrier_2="",this.expiry_type="duration",this.root_store.ui.is_advanced_duration=!1),"multiplier"!==(null==t?void 0:t.contract_type)&&"multiplier"===(null==n?void 0:n.contract_type)&&(delete this.validation_rules.stop_loss,delete this.validation_rules.take_profit),"multiplier"===(null==t?void 0:t.contract_type)&&"multiplier"!==(null==n?void 0:n.contract_type)&&Object.assign(this.validation_rules,ou()),e.next=24,gu(this,s);case 24:(c=e.sent).is_trade_enabled=!0,this.updateStore(Ad(Ad({},c),this.is_initial_barrier_applied?{}:this.initial_barriers)),this.is_initial_barrier_applied=!0,/\bcontract_type\b/.test(Object.keys(s))&&this.validateAllProperties(),this.debouncedProposal();case 30:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"setMobileDigitView",value:function(e){this.is_mobile_digit_view_selected=e}},{key:"pushPurchaseDataToGtm",value:function(e){var t={event:"buy_contract",bom_ui:"new",contract:{amount:e.amount,barrier1:e.barrier,barrier2:e.barrier2,basis:e.basis,buy_price:e.buy_price,contract_type:e.contract_type,currency:e.currency,date_expiry:e.date_expiry,date_start:e.date_start,duration:e.duration,duration_unit:e.duration_unit,payout:e.payout,symbol:e.symbol},settings:{theme:this.root_store.ui.is_dark_mode_on?"dark":"light",positions_drawer:this.root_store.ui.is_positions_drawer_on?"open":"closed",purchase_confirm:this.root_store.ui.is_purchase_confirm_on?"enabled":"disabled",chart:{toolbar_position:this.root_store.ui.is_chart_layout_default?"bottom":"left",chart_asset_info:this.root_store.ui.is_chart_asset_info_visible?"visible":"hidden",chart_type:this.root_store.modules.contract_trade.chart_type,granularity:this.root_store.modules.contract_trade.granularity}}};this.root_store.gtm.pushDataLayer(t)}},{key:"clearPurchaseInfo",value:function(){this.purchase_info={},this.proposal_requests={},this.proposal_info={}}},{key:"requestProposal",value:function(){var e=this,t=function(e){var t={};return Object.keys(e.trade_types).forEach((function(r){var n=Cd(e,r);t[r]=n})),t}(this);if(Object.values(this.validation_errors).some((function(e){return e.length})))return this.proposal_info={},this.purchase_info={},void this.forgetAllProposal();Nr.a.isEmptyObject(t)||(this.proposal_requests=t,this.purchase_info={},Object.keys(this.proposal_requests).forEach((function(t){ao.a.subscribeProposal(e.proposal_requests[t],e.onProposalResponse)}))),this.root_store.ui.resetPurchaseStates()}},{key:"forgetAllProposal",value:function(){Object.keys(this.proposal_requests).length>0&&ao.a.forgetAll("proposal")}},{key:"setMarketStatus",value:function(e){this.is_market_closed=e}},{key:"onProposalResponse",value:function(e){var t=e.echo_req.contract_type,r=Nr.a.getPropertyValue(this.proposal_info,t)||{},n=Nr.a.getPropertyValue(r,"obj_contract_basis")||{};if(this.proposal_info=Ad(Ad({},this.proposal_info),{},Rd({},t,function(e,t,r){var n,o,i,a=t.proposal||{},s=a.payout-a.ask_price||0,c=100*s/(a.ask_price||1),l=a.display_value,u=e.basis_list.find((function(t){return t.value!==e.basis}))||{},p="Stake"===u.text?l:a[u.value],d=p>r.value;r.value&&p!==r.value||(d=null);var f={text:u.text||"",value:p||""};return{commission:a.commission,cancellation:a.cancellation,id:a.id||"",has_error:!!t.error,has_error_details:!!Pd(t),error_code:null==t||null===(n=t.error)||void 0===n?void 0:n.code,error_field:null==t||null===(o=t.error)||void 0===o||null===(i=o.details)||void 0===i?void 0:i.field,has_increased:d,limit_order:a.limit_order,message:a.longcode||t.error.message,obj_contract_basis:f,payout:a.payout,profit:s.toFixed(ke.a.getDecimalPlaces(e.currency)),returns:"".concat(c.toFixed(2),"%"),stake:l}}(this,e,n))),this.is_multiplier&&this.proposal_info&&this.proposal_info.MULTUP){var o=this.proposal_info.MULTUP,i=o.commission,a=o.cancellation;i&&(this.commission=i),a&&(this.cancellation_price=this.proposal_info.MULTUP.cancellation.ask_price)}if(this.setMainBarrier(e.echo_req),this.hovered_contract_type===t&&(this.addTickByProposal(e),Object(xe.c)({barriers:this.barriers,contract_info:this.proposal_info[this.hovered_contract_type],contract_type:t,is_over:!0})),e.error){var s=Pd(e);if(s&&this.setValidationErrorMessages(s,[e.error.message]),this.is_multiplier){var c=e.error,l=c.message,u=c.details,p=(l||"").match(/\((\d+\.*\d*)\)/);"stop_loss"===u.field&&p&&p[1]&&(this.commission=p[1])}}else this.validateAllProperties();this.is_purchase_enabled=!0}},{key:"onChartBarrierChange",value:function(e,t){this.processNewValuesAsync({barrier_1:e,barrier_2:t},!0)}},{key:"onAllowEqualsChange",value:function(){this.processNewValuesAsync({contract_type:parseInt(this.is_equal)?"rise_fall_equal":"rise_fall"},!0)}},{key:"updateSymbol",value:function(e){e&&this.onChange({target:{name:"symbol",value:e}})}},{key:"changeDurationValidationRules",value:function(){if("endtime"!==this.expiry_type){if(this.validation_rules.duration){var e=this.validation_rules.duration.rules.findIndex((function(e){return"number"===e[0]})),t=this.duration_min_max[this.contract_expiry_type]||!1;if(t){var r={min:Object(au.b)(+t.min,this.duration_unit),max:Object(au.b)(+t.max,this.duration_unit)};e>-1?this.validation_rules.duration.rules[e][1]=r:this.validation_rules.duration.rules.push(["number",r]),this.validateProperty("duration",this.duration)}}}else this.validation_errors.duration=[]}},{key:"accountSwitcherListener",value:(i=Id(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.resetErrorServices(),e.next=3,this.setContractTypes();case 3:return Object(et.runInAction)(Id(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.processNewValuesAsync({currency:t.root_store.client.currency||t.root_store.client.default_currency},!0,{currency:t.currency},!1);case 1:case"end":return e.stop()}}),e)})))),e.abrupt("return",Promise.resolve());case 5:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"preSwitchAccountListener",value:function(){return this.clearContracts(),this.is_trade_enabled=!1,Promise.resolve()}},{key:"logoutListener",value:function(){return this.should_refresh_active_symbols=!0,this.clearContracts(),this.refresh(),this.debouncedProposal(),this.resetErrorServices(),this.setContractTypes(),Promise.resolve()}},{key:"clientInitListener",value:function(){return this.should_refresh_active_symbols=!0,this.initAccountCurrency(this.root_store.client.currency||this.root_store.client.default_currency),Promise.resolve()}},{key:"networkStatusChangeListener",value:function(e){this.setTradeStatus(e)}},{key:"themeChangeListener",value:function(e){this.updateBarrierColor(e)}},{key:"resetErrorServices",value:function(){this.root_store.ui.toggleServicesErrorModal(!1)}},{key:"onMount",value:function(){var e=this;this.should_skip_prepost_lifecycle||(this.onPreSwitchAccount(this.preSwitchAccountListener),this.onSwitchAccount(this.accountSwitcherListener),this.onLogout(this.logoutListener),this.onClientInit(this.clientInitListener),this.onNetworkStatusChange(this.networkStatusChangeListener),this.onThemeChange(this.themeChangeListener),this.setChartStatus(!0),Object(et.runInAction)(Id(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.is_trade_component_mounted=!0,e.prepareTradeStore();case 2:case"end":return t.stop()}}),t)})))))}},{key:"setChartStatus",value:function(e){this.is_chart_loading=e}},{key:"initAccountCurrency",value:(o=Id(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currency!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.processNewValuesAsync({currency:t},!0,{currency:this.currency},!1);case 4:this.refresh(),this.debouncedProposal();case 6:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})},{key:"onUnmount",value:function(){this.should_skip_prepost_lifecycle||(this.disposePreSwitchAccount(),this.disposeSwitchAccount(),this.disposeLogout(),this.disposeClientInit(),this.disposeNetworkStatusChange(),this.disposeThemeChange(),this.is_trade_component_mounted=!1,this.root_store.modules.contract_trade.onUnmount(),this.refresh(),this.resetErrorServices(),this.root_store.ui.is_notifications_visible&&this.root_store.ui.toggleNotificationsModal(),window.history.pushState(null,null,window.location.pathname),this.prev_chart_layout&&(this.prev_chart_layout.is_used=!1))}},{key:"exportLayout",value:function(e){var t=this;delete e.previousMaxTicks,this.prev_chart_layout=e,this.prev_chart_layout.isDone=function(){t.prev_chart_layout.is_used=!0,t.setChartStatus(!1)}}},{key:"resetRefresh",value:function(){this.should_refresh_active_symbols=!1}},{key:"is_symbol_in_active_symbols",get:function(){var e=this;return this.active_symbols.some((function(t){return t.symbol===e.symbol&&1===t.exchange_is_open}))}},{key:"barrier_pipsize",get:function(){return Object(Dd.b)(this.barrier_1)}},{key:"main_barrier_flattened",get:function(){return Object(D.b)(this.contract_type)?null:Object(et.toJS)(this.main_barrier)}},{key:"barriers_flattened",get:function(){return this.barriers&&Object(et.toJS)(this.barriers)}},{key:"show_digits_stats",get:function(){return Object(D.b)(this.contract_type)}},{key:"chart_layout",get:function(){var e=null;return this.prev_chart_layout&&!1===this.prev_chart_layout.is_used&&(e=this.prev_chart_layout),e}},{key:"has_alternative_source",get:function(){return this.is_multiplier&&!!this.hovered_contract_type}},{key:"is_multiplier",get:function(){return"multiplier"===this.contract_type}}])&&Ld(t.prototype,r),n&&Ld(t,n),h}(Zi.a),Op=Vd((wp=xd).prototype,"is_trade_component_mounted",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),jp=Vd(wp.prototype,"is_purchase_enabled",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Sp=Vd(wp.prototype,"is_trade_enabled",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),kp=Vd(wp.prototype,"is_equal",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),xp=Vd(wp.prototype,"symbol",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ep=Vd(wp.prototype,"is_market_closed",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Pp=Vd(wp.prototype,"previous_symbol",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Cp=Vd(wp.prototype,"active_symbols",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Dp=Vd(wp.prototype,"should_refresh_active_symbols",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Tp=Vd(wp.prototype,"contract_expiry_type",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Mp=Vd(wp.prototype,"contract_start_type",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Ap=Vd(wp.prototype,"contract_type",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Rp=Vd(wp.prototype,"contract_types_list",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Np=Vd(wp.prototype,"form_components",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ip=Vd(wp.prototype,"trade_types",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),zp=Vd(wp.prototype,"amount",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),Lp=Vd(wp.prototype,"basis",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Up=Vd(wp.prototype,"basis_list",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),qp=Vd(wp.prototype,"currency",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Fp=Vd(wp.prototype,"duration",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),Hp=Vd(wp.prototype,"duration_unit",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Yp=Vd(wp.prototype,"duration_units_list",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Vp=Vd(wp.prototype,"duration_min_max",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Bp=Vd(wp.prototype,"expiry_date",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Wp=Vd(wp.prototype,"expiry_time",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Gp=Vd(wp.prototype,"expiry_type",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"duration"}}),Xp=Vd(wp.prototype,"barrier_1",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),$p=Vd(wp.prototype,"barrier_2",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Zp=Vd(wp.prototype,"barrier_count",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Jp=Vd(wp.prototype,"main_barrier",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Kp=Vd(wp.prototype,"barriers",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Qp=Vd(wp.prototype,"start_date",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Number(0)}}),ed=Vd(wp.prototype,"start_dates_list",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),td=Vd(wp.prototype,"start_time",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),rd=Vd(wp.prototype,"sessions",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),nd=Vd(wp.prototype,"market_open_times",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),od=Vd(wp.prototype,"market_close_times",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),id=Vd(wp.prototype,"last_digit",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),ad=Vd(wp.prototype,"is_mobile_digit_view_selected",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),sd=Vd(wp.prototype,"proposal_info",[Eu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),cd=Vd(wp.prototype,"purchase_info",[Pu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),ld=Vd(wp.prototype,"is_chart_loading",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ud=Vd(wp.prototype,"multiplier",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pd=Vd(wp.prototype,"multiplier_range_list",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),dd=Vd(wp.prototype,"stop_loss",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fd=Vd(wp.prototype,"take_profit",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),md=Vd(wp.prototype,"has_stop_loss",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),hd=Vd(wp.prototype,"has_take_profit",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),bd=Vd(wp.prototype,"has_cancellation",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),yd=Vd(wp.prototype,"commission",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),_d=Vd(wp.prototype,"cancellation_price",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),vd=Vd(wp.prototype,"hovered_contract_type",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gd=Vd(wp.prototype,"cancellation_duration",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"60m"}}),wd=Vd(wp.prototype,"cancellation_range_list",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Od=Vd(wp.prototype,"is_trade_params_expanded",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),jd=Vd(wp.prototype,"should_skip_prepost_lifecycle",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Sd=Vd(wp.prototype,"init",[Cu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return Id(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ao.a.wait("authorize","website_status");case 2:return t.next=4,Object(et.when)((function(){return!e.root_store.client.is_populating_account_list}));case 4:ao.a.storage.activeSymbols("brief").then((function(t){var r=t.active_symbols;Object(et.runInAction)((function(){e.active_symbols=r}))}));case 5:case"end":return t.stop()}}),t)})))}}),Vd(wp.prototype,"is_symbol_in_active_symbols",[et.computed],Object.getOwnPropertyDescriptor(wp.prototype,"is_symbol_in_active_symbols"),wp.prototype),Vd(wp.prototype,"setSkipPrePostLifecycle",[Du],Object.getOwnPropertyDescriptor(wp.prototype,"setSkipPrePostLifecycle"),wp.prototype),Vd(wp.prototype,"setTradeStatus",[Tu],Object.getOwnPropertyDescriptor(wp.prototype,"setTradeStatus"),wp.prototype),Vd(wp.prototype,"refresh",[Mu],Object.getOwnPropertyDescriptor(wp.prototype,"refresh"),wp.prototype),kd=Vd(wp.prototype,"clearContracts",[Au],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.root_store.modules.contract_trade.contracts=[]}}}),Vd(wp.prototype,"setDefaultSymbol",[Ru],Object.getOwnPropertyDescriptor(wp.prototype,"setDefaultSymbol"),wp.prototype),Vd(wp.prototype,"setActiveSymbols",[Nu],Object.getOwnPropertyDescriptor(wp.prototype,"setActiveSymbols"),wp.prototype),Vd(wp.prototype,"setContractTypes",[Iu],Object.getOwnPropertyDescriptor(wp.prototype,"setContractTypes"),wp.prototype),Vd(wp.prototype,"prepareTradeStore",[zu],Object.getOwnPropertyDescriptor(wp.prototype,"prepareTradeStore"),wp.prototype),Vd(wp.prototype,"onChangeMultiple",[Lu],Object.getOwnPropertyDescriptor(wp.prototype,"onChangeMultiple"),wp.prototype),Vd(wp.prototype,"onChange",[Uu],Object.getOwnPropertyDescriptor(wp.prototype,"onChange"),wp.prototype),Vd(wp.prototype,"setPreviousSymbol",[qu],Object.getOwnPropertyDescriptor(wp.prototype,"setPreviousSymbol"),wp.prototype),Vd(wp.prototype,"setAllowEqual",[Fu],Object.getOwnPropertyDescriptor(wp.prototype,"setAllowEqual"),wp.prototype),Vd(wp.prototype,"setIsTradeParamsExpanded",[Hu],Object.getOwnPropertyDescriptor(wp.prototype,"setIsTradeParamsExpanded"),wp.prototype),Vd(wp.prototype,"resetPreviousSymbol",[Yu],Object.getOwnPropertyDescriptor(wp.prototype,"resetPreviousSymbol"),wp.prototype),Vd(wp.prototype,"updateBarrierColor",[Vu],Object.getOwnPropertyDescriptor(wp.prototype,"updateBarrierColor"),wp.prototype),Vd(wp.prototype,"onHoverPurchase",[Bu],Object.getOwnPropertyDescriptor(wp.prototype,"onHoverPurchase"),wp.prototype),Vd(wp.prototype,"setPurchaseSpotBarrier",[Wu],Object.getOwnPropertyDescriptor(wp.prototype,"setPurchaseSpotBarrier"),wp.prototype),Vd(wp.prototype,"updateLimitOrderBarriers",[Gu],Object.getOwnPropertyDescriptor(wp.prototype,"updateLimitOrderBarriers"),wp.prototype),Vd(wp.prototype,"clearLimitOrderBarriers",[Xu],Object.getOwnPropertyDescriptor(wp.prototype,"clearLimitOrderBarriers"),wp.prototype),Vd(wp.prototype,"barrier_pipsize",[et.computed],Object.getOwnPropertyDescriptor(wp.prototype,"barrier_pipsize"),wp.prototype),Vd(wp.prototype,"main_barrier_flattened",[et.computed],Object.getOwnPropertyDescriptor(wp.prototype,"main_barrier_flattened"),wp.prototype),Vd(wp.prototype,"barriers_flattened",[et.computed],Object.getOwnPropertyDescriptor(wp.prototype,"barriers_flattened"),wp.prototype),Vd(wp.prototype,"onPurchase",[$u],Object.getOwnPropertyDescriptor(wp.prototype,"onPurchase"),wp.prototype),Vd(wp.prototype,"updateStore",[Zu],Object.getOwnPropertyDescriptor(wp.prototype,"updateStore"),wp.prototype),Vd(wp.prototype,"show_digits_stats",[et.computed],Object.getOwnPropertyDescriptor(wp.prototype,"show_digits_stats"),wp.prototype),Vd(wp.prototype,"setMobileDigitView",[Ju],Object.getOwnPropertyDescriptor(wp.prototype,"setMobileDigitView"),wp.prototype),Vd(wp.prototype,"pushPurchaseDataToGtm",[Ku],Object.getOwnPropertyDescriptor(wp.prototype,"pushPurchaseDataToGtm"),wp.prototype),Vd(wp.prototype,"clearPurchaseInfo",[Qu],Object.getOwnPropertyDescriptor(wp.prototype,"clearPurchaseInfo"),wp.prototype),Vd(wp.prototype,"requestProposal",[ep],Object.getOwnPropertyDescriptor(wp.prototype,"requestProposal"),wp.prototype),Vd(wp.prototype,"forgetAllProposal",[tp],Object.getOwnPropertyDescriptor(wp.prototype,"forgetAllProposal"),wp.prototype),Vd(wp.prototype,"setMarketStatus",[rp],Object.getOwnPropertyDescriptor(wp.prototype,"setMarketStatus"),wp.prototype),Vd(wp.prototype,"onProposalResponse",[np],Object.getOwnPropertyDescriptor(wp.prototype,"onProposalResponse"),wp.prototype),Vd(wp.prototype,"onChartBarrierChange",[op],Object.getOwnPropertyDescriptor(wp.prototype,"onChartBarrierChange"),wp.prototype),Vd(wp.prototype,"onAllowEqualsChange",[ip],Object.getOwnPropertyDescriptor(wp.prototype,"onAllowEqualsChange"),wp.prototype),Vd(wp.prototype,"updateSymbol",[ap],Object.getOwnPropertyDescriptor(wp.prototype,"updateSymbol"),wp.prototype),Vd(wp.prototype,"changeDurationValidationRules",[sp],Object.getOwnPropertyDescriptor(wp.prototype,"changeDurationValidationRules"),wp.prototype),Vd(wp.prototype,"accountSwitcherListener",[cp],Object.getOwnPropertyDescriptor(wp.prototype,"accountSwitcherListener"),wp.prototype),Vd(wp.prototype,"preSwitchAccountListener",[lp],Object.getOwnPropertyDescriptor(wp.prototype,"preSwitchAccountListener"),wp.prototype),Vd(wp.prototype,"logoutListener",[up],Object.getOwnPropertyDescriptor(wp.prototype,"logoutListener"),wp.prototype),Vd(wp.prototype,"clientInitListener",[pp],Object.getOwnPropertyDescriptor(wp.prototype,"clientInitListener"),wp.prototype),Vd(wp.prototype,"networkStatusChangeListener",[dp],Object.getOwnPropertyDescriptor(wp.prototype,"networkStatusChangeListener"),wp.prototype),Vd(wp.prototype,"themeChangeListener",[fp],Object.getOwnPropertyDescriptor(wp.prototype,"themeChangeListener"),wp.prototype),Vd(wp.prototype,"resetErrorServices",[mp],Object.getOwnPropertyDescriptor(wp.prototype,"resetErrorServices"),wp.prototype),Vd(wp.prototype,"onMount",[hp],Object.getOwnPropertyDescriptor(wp.prototype,"onMount"),wp.prototype),Vd(wp.prototype,"setChartStatus",[bp],Object.getOwnPropertyDescriptor(wp.prototype,"setChartStatus"),wp.prototype),Vd(wp.prototype,"initAccountCurrency",[yp],Object.getOwnPropertyDescriptor(wp.prototype,"initAccountCurrency"),wp.prototype),Vd(wp.prototype,"onUnmount",[_p],Object.getOwnPropertyDescriptor(wp.prototype,"onUnmount"),wp.prototype),Vd(wp.prototype,"exportLayout",[vp],Object.getOwnPropertyDescriptor(wp.prototype,"exportLayout"),wp.prototype),Vd(wp.prototype,"resetRefresh",[gp],Object.getOwnPropertyDescriptor(wp.prototype,"resetRefresh"),wp.prototype),Vd(wp.prototype,"has_alternative_source",[et.computed],Object.getOwnPropertyDescriptor(wp.prototype,"has_alternative_source"),wp.prototype),Vd(wp.prototype,"is_multiplier",[et.computed],Object.getOwnPropertyDescriptor(wp.prototype,"is_multiplier"),wp.prototype),wp);var Gd=function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.cashier=r.modules.cashier,this.contract_replay=new La({root_store:t}),this.contract_trade=new Ts({root_store:t}),this.mt5=new Ms.a({root_store:t}),this.portfolio=new dc({root_store:t}),this.profit_table=new xl({root_store:t}),this.statement=new Hl({root_store:t}),this.trade=new Wd({root_store:t})};var Xd=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.client=t.client,this.common=t.common,this.modules=new Gd(this,t),this.ui=t.ui,this.gtm=t.gtm,this.segment=t.segment};Object(et.configure)({enforceActions:"observed"});var $d=function(e,t,r){Vl.a.init(e.common),Object(ao.b)(t),Object(zs.b)(r);var n=new Xd(e);return n.modules.trade.init(),n};r("./sass/app.scss");function Zd(e){return(Zd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Jd(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Kd(e,t){return(Kd=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Qd(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=tf(e);if(t){var o=tf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return ef(this,r)}}function ef(e,t){return!t||"object"!==Zd(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function tf(e){return(tf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var rf=s()({loader:function(){return r.e("trade-modals").then(r.bind(null,"./App/Containers/Modals/index.js"))},loading:function(){return null}}),nf=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Kd(e,t)}(a,e);var t,r,n,o=Qd(a);function a(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),t=o.call(this,e);var r=e.passthrough,n=r.WS,i=r.root_store,s=r.client_base;return t.root_store=$d(i,n,s),t}return t=a,(r=[{key:"componentWillUnmount",value:function(){this.root_store.ui.setPromptHandler(!1)}},{key:"render",value:function(){return i.createElement(T.a,{store:this.root_store},i.createElement(i.Fragment,null,i.createElement(tn,null),i.createElement(rf,null),i.createElement(io.a,null),i.createElement(Ln,{store:this.root_store}),i.createElement(Gn,null),i.createElement(oo,{store:this.root_store})))}}])&&Jd(t.prototype,r),n&&Jd(t,n),a}(i.Component);nf.propTypes={passthrough:o.a.shape({root_store:o.a.object,WS:o.a.object})};var of=nf},"./sass/app.scss":function(e,t,r){},"./sass/app/_common/components/positions-toggle.scss":function(e,t,r){},"./sass/app/modules/contract/digits.scss":function(e,t,r){},"@deriv/account/dist/js/file-uploader-container":function(t,r){t.exports=e},"@deriv/account/dist/js/form-sub-header":function(e,r){e.exports=t},"@deriv/account/dist/js/poa-expired":function(e,t){e.exports=r},"@deriv/account/dist/js/poa-needs-review":function(e,t){e.exports=n},"@deriv/account/dist/js/poa-status-codes":function(e,t){e.exports=o},"@deriv/account/dist/js/poa-submitted":function(e,t){e.exports=i},"@deriv/account/dist/js/poa-unverified":function(e,t){e.exports=a},"@deriv/account/dist/js/poa-verified":function(e,t){e.exports=s},"@deriv/account/dist/js/proof-of-identity-container":function(e,t){e.exports=c},"@deriv/components/lib/auto-height-wrapper":function(e,t){e.exports=l},"@deriv/components/lib/autocomplete":function(e,t){e.exports=u},"@deriv/components/lib/autocomplete.css":function(e,t){e.exports=p},"@deriv/components/lib/button":function(e,t){e.exports=d},"@deriv/components/lib/button-toggle":function(e,t){e.exports=f},"@deriv/components/lib/button-toggle.css":function(e,t){e.exports=m},"@deriv/components/lib/button.css":function(e,t){e.exports=h},"@deriv/components/lib/calendar":function(e,t){e.exports=b},"@deriv/components/lib/calendar.css":function(e,t){e.exports=y},"@deriv/components/lib/checkbox":function(e,t){e.exports=_},"@deriv/components/lib/checkbox.css":function(e,t){e.exports=v},"@deriv/components/lib/circular-progress":function(e,t){e.exports=g},"@deriv/components/lib/circular-progress.css":function(e,t){e.exports=w},"@deriv/components/lib/clipboard":function(e,t){e.exports=O},"@deriv/components/lib/clipboard.css":function(e,t){e.exports=j},"@deriv/components/lib/collapsible":function(e,t){e.exports=S},"@deriv/components/lib/collapsible.css":function(e,t){e.exports=k},"@deriv/components/lib/data-list":function(e,t){e.exports=x},"@deriv/components/lib/data-list.css":function(e,t){e.exports=E},"@deriv/components/lib/data-table":function(e,t){e.exports=P},"@deriv/components/lib/data-table.css":function(e,t){e.exports=C},"@deriv/components/lib/date-picker":function(e,t){e.exports=D},"@deriv/components/lib/date-picker.css":function(e,t){e.exports=T},"@deriv/components/lib/desktop-wrapper":function(e,t){e.exports=M},"@deriv/components/lib/desktop-wrapper.css":function(e,t){e.exports=A},"@deriv/components/lib/dialog":function(e,t){e.exports=R},"@deriv/components/lib/dialog.css":function(e,t){e.exports=N},"@deriv/components/lib/div100vh-container":function(e,t){e.exports=I},"@deriv/components/lib/div100vh-container.css":function(e,t){e.exports=z},"@deriv/components/lib/dropdown":function(e,t){e.exports=L},"@deriv/components/lib/dropdown.css":function(e,t){e.exports=U},"@deriv/components/lib/fade-wrapper":function(e,t){e.exports=q},"@deriv/components/lib/fade-wrapper.css":function(e,t){e.exports=F},"@deriv/components/lib/form-progress":function(e,t){e.exports=H},"@deriv/components/lib/form-progress.css":function(e,t){e.exports=Y},"@deriv/components/lib/form-submit-button":function(e,t){e.exports=V},"@deriv/components/lib/form-submit-button.css":function(e,t){e.exports=B},"@deriv/components/lib/icon":function(e,t){e.exports=W},"@deriv/components/lib/icon-trade-types":function(e,t){e.exports=G},"@deriv/components/lib/icon-trade-types.css":function(e,t){e.exports=X},"@deriv/components/lib/icon.css":function(e,t){e.exports=$},"@deriv/components/lib/input":function(e,t){e.exports=Z},"@deriv/components/lib/input.css":function(e,t){e.exports=J},"@deriv/components/lib/label":function(e,t){e.exports=K},"@deriv/components/lib/label.css":function(e,t){e.exports=Q},"@deriv/components/lib/loading":function(e,t){e.exports=ee},"@deriv/components/lib/loading.css":function(e,t){e.exports=te},"@deriv/components/lib/mobile-dialog":function(e,t){e.exports=re},"@deriv/components/lib/mobile-dialog.css":function(e,t){e.exports=ne},"@deriv/components/lib/mobile-wrapper":function(e,t){e.exports=oe},"@deriv/components/lib/mobile-wrapper.css":function(e,t){e.exports=ie},"@deriv/components/lib/modal":function(e,t){e.exports=ae},"@deriv/components/lib/modal.css":function(e,t){e.exports=se},"@deriv/components/lib/money":function(e,t){e.exports=ce},"@deriv/components/lib/money.css":function(e,t){e.exports=le},"@deriv/components/lib/multi-step":function(e,t){e.exports=ue},"@deriv/components/lib/multi-step.css":function(e,t){e.exports=pe},"@deriv/components/lib/numpad":function(e,t){e.exports=de},"@deriv/components/lib/numpad.css":function(e,t){e.exports=fe},"@deriv/components/lib/page-error":function(e,t){e.exports=me},"@deriv/components/lib/page-error.css":function(e,t){e.exports=he},"@deriv/components/lib/page-overlay":function(e,t){e.exports=be},"@deriv/components/lib/page-overlay.css":function(e,t){e.exports=ye},"@deriv/components/lib/password-input":function(e,t){e.exports=_e},"@deriv/components/lib/password-input.css":function(e,t){e.exports=ve},"@deriv/components/lib/password-meter":function(e,t){e.exports=ge},"@deriv/components/lib/password-meter.css":function(e,t){e.exports=we},"@deriv/components/lib/popover":function(e,t){e.exports=Oe},"@deriv/components/lib/popover.css":function(e,t){e.exports=je},"@deriv/components/lib/progress-bar":function(e,t){e.exports=Se},"@deriv/components/lib/progress-bar.css":function(e,t){e.exports=ke},"@deriv/components/lib/relative-datepicker":function(e,t){e.exports=xe},"@deriv/components/lib/relative-datepicker.css":function(e,t){e.exports=Ee},"@deriv/components/lib/select-native":function(e,t){e.exports=Pe},"@deriv/components/lib/select-native.css":function(e,t){e.exports=Ce},"@deriv/components/lib/swipeable-wrapper":function(e,t){e.exports=De},"@deriv/components/lib/swipeable-wrapper.css":function(e,t){e.exports=Te},"@deriv/components/lib/table":function(e,t){e.exports=Me},"@deriv/components/lib/table.css":function(e,t){e.exports=Ae},"@deriv/components/lib/tabs":function(e,t){e.exports=Re},"@deriv/components/lib/tabs.css":function(e,t){e.exports=Ne},"@deriv/components/lib/themed-scrollbars":function(e,t){e.exports=Ie},"@deriv/components/lib/themed-scrollbars.css":function(e,t){e.exports=ze},"@deriv/components/lib/tick-picker":function(e,t){e.exports=Le},"@deriv/components/lib/tick-picker.css":function(e,t){e.exports=Ue},"@deriv/components/lib/tick-progress":function(e,t){e.exports=qe},"@deriv/components/lib/tick-progress.css":function(e,t){e.exports=Fe},"@deriv/components/lib/toast-error":function(e,t){e.exports=He},"@deriv/components/lib/toast-error.css":function(e,t){e.exports=Ye},"@deriv/components/lib/u-i-loader":function(e,t){e.exports=Ve},"@deriv/components/lib/vertical-tab":function(e,t){e.exports=Be},"@deriv/components/lib/vertical-tab.css":function(e,t){e.exports=We},"@deriv/deriv-charts":function(e,t){e.exports=Ge},"@deriv/shared/utils/config":function(e,t){e.exports=Xe},"@deriv/shared/utils/currency":function(e,t){e.exports=$e},"@deriv/shared/utils/date":function(e,t){e.exports=Ze},"@deriv/shared/utils/object":function(e,t){e.exports=Je},"@deriv/shared/utils/os":function(e,t){e.exports=Ke},"@deriv/shared/utils/route":function(e,t){e.exports=Qe},"@deriv/shared/utils/routes":function(e,t){e.exports=et},"@deriv/shared/utils/screen":function(e,t){e.exports=tt},"@deriv/shared/utils/storage":function(e,t){e.exports=rt},"@deriv/shared/utils/string":function(e,t){e.exports=nt},"@deriv/shared/utils/url":function(e,t){e.exports=ot},"@deriv/translations":function(e,t){e.exports=it},mobx:function(e,t){e.exports=at},"mobx-react":function(e,t){e.exports=st},react:function(e,t){e.exports=ct},"react-dom":function(e,t){e.exports=lt},"react-router":function(e,t){e.exports=ut},"react-router-dom":function(e,t){e.exports=pt}}).default}));
//# sourceMappingURL=trader.main.js.map
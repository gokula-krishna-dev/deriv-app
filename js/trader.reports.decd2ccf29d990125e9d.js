(window.webpackJsonp_deriv_trader=window.webpackJsonp_deriv_trader||[]).push([["reports"],{"./Modules/Reports/index.js":function(e,t,n){"use strict";n.r(t);var a=n("mobx-react"),o=n("../../../node_modules/prop-types/index.js"),r=n.n(o),c=n("react"),l=n("react-router-dom"),i=n("@deriv/components"),s=n("@deriv/shared"),u=n("@deriv/translations"),m=n("./App/Components/Elements/ContentLoader/index.js"),_=n("./App/Components/Routes/helpers.js"),d=n("./Modules/Reports/Helpers/market-underlying.js"),p=function(e){var t=e.has_selected_date,n=e.component_icon,a=e.localized_message,o=e.localized_period_message;return c.createElement(c.Fragment,null,c.createElement("div",{className:"empty-trade-history"},c.createElement(i.Icon,{icon:n,className:"empty-trade-history__icon",color:"disabled",size:96}),c.createElement("span",{className:"empty-trade-history__text"},t?o:a)))};p.propTypes={component_icon:r.a.string,has_selected_date:r.a.bool,localized_message:r.a.string,localized_period_message:r.a.string};var f=p,b=n("../../../node_modules/classnames/index.js"),y=n.n(b),v=n("./Stores/connect.js"),g=n("./Constants/contract.js"),E=function(e){var t=e.contract_info,n=e.is_loading,a=e.server_time;if(!t)return c.createElement("div",null);var o=t.tick_count&&Object(s.getCurrentTick)(t);return c.createElement(i.ProgressSlider,{current_tick:o,expiry_time:t.date_expiry,getCardLabels:g.a,is_loading:n,server_time:a,start_time:t.date_start,ticks_count:t.tick_count})};E.propTypes={contract_info:r.a.object,is_loading:r.a.bool,server_time:r.a.object};var h=Object(v.b)((function(e){var t=e.common;return{is_loading:e.modules.portfolio.is_loading,server_time:t.server_time}}))(E),C=function(e){return+e.replace(/,/g,"")>=0?"profit":"loss"};function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=M(e);if(t){var o=M(this).constructor;n=Reflect.construct(a,arguments,o)}else n=a.apply(this,arguments);return N(this,n)}}function N(e,t){return!t||"object"!==j(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function M(e){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(r,e);var t,n,a,o=k(r);function r(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(t=o.call(this,e)).state={movement:null,amount:0},t}return t=r,(n=[{key:"componentDidUpdate",value:function(e){var t=this;this.setState((function(){return{movement:e.amount>=t.state.amount?"profit":"loss",amount:e.amount}}))}},{key:"render",value:function(){var e=this.props,t=e.amount,n=e.currency,a=e.contract_info,o=e.is_footer,r=e.onClickSell,l=e.is_sell_requested,s=this.state.movement;return c.createElement("div",{className:"open-positions__indicative"},c.createElement("div",{className:"open-positions__indicative--amount"},c.createElement(i.Money,{amount:Math.abs(t),currency:n}),"no-resale"!==status&&0!==t&&c.createElement(c.Fragment,null,"profit"===s&&c.createElement(i.Icon,{icon:"IcProfit"}),"loss"===s&&c.createElement(i.Icon,{icon:"IcLoss"}))),c.createElement(i.DesktopWrapper,null,!o&&c.createElement(i.ContractCard.Sell,{contract_info:a,is_sell_requested:l,getCardLabels:g.a,onClickSell:r})))}}])&&O(t.prototype,n),a&&O(t,a),r}(c.PureComponent);x.propTypes={amount:r.a.number,currency:r.a.string,status:r.a.string,is_footer:r.a.bool,onClickSell:r.a.func};var D=Object(v.b)((function(e){return{onClickSell:e.modules.portfolio.onClickSell}}))(x),z=function(e){var t=e.payload,n=e.show_description,a=e.should_show_multiplier,o=void 0===a||a,r="string"==typeof t.shortcode,l=Object(s.extractInfoFromShortcode)(t.shortcode);return r&&l?c.createElement("div",{className:"market-symbol-icon"},c.createElement("div",{className:"market-symbol-icon-name"},c.createElement(i.Popover,{classNameTarget:"market-symbol-icon__popover",classNameBubble:"market-symbol-icon__popover-bubble",alignment:"top",message:Object(d.c)(l.underlying),disable_target_icon:!0},c.createElement(i.Icon,{icon:l.underlying?"IcUnderlying".concat(l.underlying):"IcUnknown",size:32})),n&&t.display_name),c.createElement("div",{className:"market-symbol-icon-category"},c.createElement(i.Popover,{classNameTarget:"category-type-icon__popover",classNameBubble:"category-type-icon__popover-bubble",alignment:"top",message:Object(d.d)(l.category),disable_target_icon:!0},c.createElement(i.IconTradeTypes,{type:Object(s.isHighLow)({shortcode_info:l})?"".concat(l.category.toLowerCase(),"_barrier"):l.category.toLowerCase(),color:"brand"})),n&&l.category),o&&l.multiplier&&c.createElement("div",{className:"market-symbol-icon__multiplier"},"x",l.multiplier)):["deposit","hold","release","withdrawal"].includes(t.action_type)?c.createElement("div",{className:"market-symbol-icon"},"deposit"===t.action_type&&c.createElement(i.Icon,{icon:"IcCashierDeposit",size:32}),"withdrawal"===t.action_type&&c.createElement(i.Icon,{icon:"IcCashierWithdrawal",size:32}),("hold"===t.action_type||"release"===t.action_type)&&c.createElement(i.Icon,{icon:"IcCashierDp2p",size:32})):["adjustment"].includes(t.action_type)?c.createElement("div",{className:"market-symbol-icon"},c.createElement(i.Icon,{icon:"IcAdjustment",size:32})):c.createElement("svg",{width:"32",height:"32",className:"unknown-icon"},c.createElement("rect",{width:"32",height:"32"}))};z.propTypes={action:r.a.string,payload:r.a.object,show_description:r.a.bool,should_show_multiplier:r.a.bool};var S=z,T=function(e){var t=e.value,n=e.children,a=C(t);return c.createElement("span",{className:"amount--".concat(a)},n)};T.propTypes={value:r.a.string};var I=T,Y=n("./App/Components/Elements/PositionsDrawer/PositionsDrawerCard/positions-drawer-card.jsx"),L=n("./templates/_common/components/loading.jsx"),P=function(e){var t=e.empty_message_component;return c.createElement(c.Fragment,null,e.is_empty&&c.createElement(t,{component_icon:e.component_icon,has_selected_date:e.has_selected_date,localized_message:e.localized_message,localized_period_message:e.localized_period_message}),e.is_loading&&c.createElement(L.a,null))};P.propTypes={component_icon:r.a.string,empty_message_component:r.a.func,has_selected_date:r.a.bool,localized_message:r.a.string};var R=P;function A(){return(A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function F(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,o=!1,r=void 0;try{for(var c,l=e[Symbol.iterator]();!(a=(c=l.next()).done)&&(n.push(c.value),!t||n.length!==t);a=!0);}catch(e){o=!0,r=e}finally{try{a||null==l.return||l.return()}finally{if(o)throw r}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return B(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return B(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var U=function(e){return c.createElement(c.Fragment,null,e.is_empty?c.createElement(R,{is_empty:e.is_empty,empty_message_component:f,component_icon:e.component_icon,localized_message:Object(u.localize)("You have no open positions yet.")}):e.children)},W=function(e){var t,n=e.row,a=e.is_footer,o=e.columns_map,r=e.server_time,l=e.onClickCancel,u=e.onClickSell,m=e.measure;if(c.useEffect((function(){a||m()}),[null===(t=n.contract_info)||void 0===t?void 0:t.underlying,m,a]),a)return c.createElement(c.Fragment,null,c.createElement("div",{className:"open-positions__data-list-footer--content"},c.createElement("div",null,c.createElement(i.DataList.Cell,{row:n,column:o.purchase}),c.createElement(i.DataList.Cell,{row:n,column:o.payout})),c.createElement("div",null,c.createElement(i.DataList.Cell,{className:"data-list__row-cell--amount",row:n,column:o.indicative}),c.createElement(i.DataList.Cell,{className:"data-list__row-cell--amount",row:n,column:o.profit}))));var _=n.contract_info,p=n.contract_update,f=n.type,b=n.is_sell_requested,y=_.currency,v=_.status,E=_.date_expiry,h=_.date_start,C=Object(d.a)(_.longcode),j=Object(s.getTimePercentage)(r,h,E)/100;return Object(s.isMultiplierContract)(f)?c.createElement(Y.a,{contract_info:_,contract_update:p,currency:y,is_multiplier:!0,is_link_disabled:!0,onClickCancel:l,onClickSell:u,server_time:r,status:v}):c.createElement(c.Fragment,null,c.createElement("div",{className:"data-list__row"},c.createElement(i.DataList.Cell,{row:n,column:o.type}),c.createElement(i.ProgressBar,{label:C,value:j})),c.createElement("div",{className:"data-list__row"},c.createElement(i.DataList.Cell,{row:n,column:o.reference}),c.createElement(i.DataList.Cell,{className:"data-list__row-cell--amount",row:n,column:o.currency})),c.createElement("div",{className:"data-list__row"},c.createElement(i.DataList.Cell,{row:n,column:o.purchase}),c.createElement(i.DataList.Cell,{className:"data-list__row-cell--amount",row:n,column:o.indicative})),c.createElement("div",{className:"data-list__row"},c.createElement(i.DataList.Cell,{row:n,column:o.payout}),c.createElement(i.DataList.Cell,{className:"data-list__row-cell--amount",row:n,column:o.profit})),c.createElement("div",{className:"data-list__row-divider"}),c.createElement("div",{className:"data-list__row"},c.createElement(i.ContractCard.Sell,{contract_info:_,is_sell_requested:b,getCardLabels:g.a,onClickSell:u})))},q=function(e){var t=e.className,n=e.columns,a=e.component_icon,o=e.currency,r=e.active_positions,l=e.is_loading,s=e.getRowAction,_=e.mobileRowRenderer,d=e.preloaderCheck,p=e.row_size,b=e.totals;return c.createElement(c.Fragment,null,l?c.createElement(R,{is_loading:l,empty_message_component:f,component_icon:a,localized_message:Object(u.localize)("You have no open positions yet.")}):o&&c.createElement("div",{className:"reports__content"},c.createElement(i.DesktopWrapper,null,c.createElement(U,{component_icon:a,is_empty:0===r.length},c.createElement(i.DataTable,{className:t,columns:n,preloaderCheck:d,footer:b,data_source:r,getRowAction:s,getRowSize:function(){return p},content_loader:m.b},c.createElement(R,{is_loading:l})))),c.createElement(i.MobileWrapper,null,c.createElement(U,{component_icon:a,is_empty:0===r.length},c.createElement(i.DataList,{className:t,data_source:r,footer:b,rowRenderer:_,getRowAction:s,row_gap:8},c.createElement(R,{is_loading:l}))))))},V=function(e){return e.is_unsupported?{component:c.createElement(u.Localize,{i18n_default_text:"This trade type is currently not supported on {{website_name}}. Please go to <0>Binary.com</0> for details.",values:{website_name:s.website_name},components:[c.createElement("a",{key:0,className:"link link--orange",rel:"noopener noreferrer",target:"_blank",href:Object(s.urlFor)("user/portfoliows",{legacy:!0})})]})}:Object(_.b)(e.id)},H=function(e){return isNaN(e.purchase)||!e.purchase},G=function(e){var t=e.active_positions,n=e.component_icon,a=e.currency,o=e.error,r=e.getPositionById,l=e.is_loading,m=e.is_multiplier,_=e.NotificationMessages,d=e.onClickCancel,p=e.onClickSell,f=e.onMount,b=e.onUnmount,v=e.server_time,E=F(c.useState(m?1:0),2),C=E[0],j=E[1],O=F(c.useState(!1),2),w=O[0],k=O[1],N=Object(i.usePrevious)(t);c.useEffect((function(){return Object(s.isMobile)()||f(),M(),function(){Object(s.isMobile)()||b()}}),[]),c.useEffect((function(){M(N)}),[N]);var M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];w||t===e||k(t.some((function(e){var t;return Object(s.isMultiplierContract)(null===(t=e.contract_info)||void 0===t?void 0:t.contract_type)})))};if(o)return c.createElement("p",null,o);var x=w&&1===C,z=t.filter((function(e){return!e.contract_info||(x?Object(s.isMultiplierContract)(e.contract_info.contract_type):!Object(s.isMultiplierContract)(e.contract_info.contract_type))})),T=function(e,t){var n;if(t){var a=0,o=0,r=0,c=0,l=0;e.forEach((function(e){r+=+e.contract_info.buy_price,c+=+e.contract_info.bid_price,l+=+e.purchase,e.contract_info&&(o+=Object(s.getTotalProfit)(e.contract_info),e.contract_info.cancellation&&(a+=e.contract_info.cancellation.ask_price||0))})),n={contract_info:{profit:o,buy_price:r,bid_price:c},purchase:l},a>0&&(n.contract_info.cancellation={ask_price:a})}else{var i=0,u=0,m=0,_=0;e.forEach((function(e){i+=+e.indicative,u+=+e.purchase,m+=e.profit_loss,_+=e.payout})),n={indicative:i,purchase:u,profit_loss:m,payout:_}}return n}(z,x),I=x?function(e){var t=e.currency,n=e.onClickCancel,a=e.onClickSell,o=e.getPositionById,r=e.server_time;return[{title:Object(s.isMobile)()?"":Object(u.localize)("Type"),col_index:"type",renderCellContent:function(e){var t=e.cell_value,n=e.row_obj;return e.is_footer?Object(u.localize)("Total"):c.createElement(S,{action:t,key:n.id,payload:n.contract_info,should_show_multiplier:!1})}},{title:Object(u.localize)("Multiplier"),col_index:"multiplier",renderCellContent:function(e){var t=e.row_obj;return t.contract_info&&t.contract_info.multiplier?"x".concat(t.contract_info.multiplier):""}},{title:Object(u.localize)("Currency"),col_index:"currency",renderCellContent:function(e){var t,n=e.row_obj;return Object(s.getCurrencyDisplayCode)(null===(t=n.contract_info)||void 0===t?void 0:t.currency)}},{title:Object(u.localize)("Stake"),col_index:"buy_price",renderCellContent:function(e){var n=e.row_obj;if(n.contract_info){var a=(n.contract_info.cancellation||{}).ask_price,o=void 0===a?0:a;return c.createElement(i.Money,{amount:n.contract_info.buy_price-o,currency:t})}return""}},{title:Object(u.localize)("Deal cancel. fee"),col_index:"cancellation",renderCellContent:function(e){var n=e.row_obj;return n.contract_info&&n.contract_info.underlying?Object(s.shouldShowCancellation)(n.contract_info.underlying)?n.contract_info.cancellation?c.createElement(i.Money,{amount:n.contract_info.cancellation.ask_price,currency:t}):"-":Object(u.localize)("N/A"):"-"}},{title:Object(s.isMobile)()?c.createElement(u.Localize,{i18n_default_text:"Total buy price"}):c.createElement(u.Localize,{i18n_default_text:"Buy price"}),col_index:"purchase",renderCellContent:function(e){var n=e.cell_value;return c.createElement(i.Money,{amount:n,currency:t})}},{title:c.createElement(u.Localize,{i18n_default_text:"Take profit<0 />Stop loss",components:[c.createElement("br",{key:0})]}),col_index:"limit_order",renderCellContent:function(e){var n,a=e.row_obj;if(e.is_footer)return"";var o=(null===(n=a.contract_info)||void 0===n?void 0:n.limit_order)||{},r=o.take_profit,l=o.stop_loss;return c.createElement(c.Fragment,null,c.createElement("div",null,(null==r?void 0:r.order_amount)?c.createElement(i.Money,{has_sign:!0,amount:r.order_amount,currency:t}):"-"),c.createElement("div",null,(null==l?void 0:l.order_amount)?c.createElement(i.Money,{has_sign:!0,amount:l.order_amount,currency:t}):"-"))}},{title:Object(u.localize)("Current stake"),col_index:"bid_price",renderCellContent:function(e){var n=e.row_obj;if(e.is_footer)return"";if(!n.contract_info||!n.contract_info.bid_price)return"-";var a=Object(s.getTotalProfit)(n.contract_info);return c.createElement("div",{className:y()("open-positions__bid_price",{"open-positions__bid_price--negative":a<0,"open-positions__bid_price--positive":a>0})},c.createElement(i.Money,{amount:n.contract_info.bid_price,currency:t}))}},{title:Object(s.isMobile)()?c.createElement(u.Localize,{i18n_default_text:"Total profit/loss"}):c.createElement(u.Localize,{i18n_default_text:"Total<0 />profit/loss",components:[c.createElement("br",{key:0})]}),col_index:"profit",renderCellContent:function(e){var n=e.row_obj;if(!n.contract_info||!n.contract_info.profit)return null;var a=Object(s.getTotalProfit)(n.contract_info);return c.createElement("div",{className:y()("open-positions__profit-loss",{"open-positions__profit-loss--negative":a<0,"open-positions__profit-loss--positive":a>0})},c.createElement(i.Money,{amount:Math.abs(a),currency:t}),c.createElement("div",{className:"open-positions__profit-loss--movement"},a>0?c.createElement(i.Icon,{icon:"IcProfit"}):c.createElement(i.Icon,{icon:"IcLoss"})))}},{title:Object(u.localize)("Action"),col_index:"action",renderCellContent:function(e){var t=e.row_obj;if(e.is_footer)return c.createElement("div",{className:"open-positions__row-action"});var l=t.contract_info,s=(o(l.contract_id)||{}).is_sell_requested;return c.createElement("div",{className:"open-positions__row-action"},c.createElement(i.ContractCard.MultiplierCloseActions,{contract_info:l,getCardLabels:g.a,is_sell_requested:s,onClickCancel:n,onClickSell:a,server_time:r}))}}]}({currency:a,onClickCancel:d,onClickSell:p,getPositionById:r,server_time:v}):function(e){return[{title:Object(s.isMobile)()?"":Object(u.localize)("Type"),col_index:"type",renderCellContent:function(e){var t=e.cell_value,n=e.row_obj;return e.is_footer?Object(u.localize)("Total"):c.createElement(S,{action:t,key:n.id,payload:n.contract_info})}},{title:Object(u.localize)("Ref. ID"),col_index:"reference"},{title:Object(u.localize)("Currency"),col_index:"currency",renderCellContent:function(e){var t,n=e.row_obj;return Object(s.getCurrencyDisplayCode)(null===(t=n.contract_info)||void 0===t?void 0:t.currency)}},{title:Object(u.localize)("Buy price"),col_index:"purchase",renderCellContent:function(t){var n=t.cell_value;return c.createElement(i.Money,{amount:n,currency:e})}},{title:Object(u.localize)("Payout limit"),col_index:"payout",renderCellContent:function(t){var n=t.cell_value;return n?c.createElement(i.Money,{amount:n,currency:e}):c.createElement("span",null,"-")}},{title:Object(u.localize)("Indicative profit/loss"),col_index:"profit",renderCellContent:function(t){var n=t.row_obj;if(n.profit_loss||n.contract_info&&n.contract_info.profit){var a=n.profit_loss||n.contract_info.profit;return c.createElement("div",{className:y()("open-positions__profit-loss",{"open-positions__profit-loss--negative":a<0,"open-positions__profit-loss--positive":a>0})},c.createElement(i.Money,{amount:Math.abs(a),currency:e}),c.createElement("div",{className:"open-positions__profit-loss--movement"},a>0?c.createElement(i.Icon,{icon:"IcProfit"}):c.createElement(i.Icon,{icon:"IcLoss"})))}}},{title:Object(u.localize)("Indicative price"),col_index:"indicative",renderCellContent:function(t){var n=t.cell_value,a=t.row_obj,o=t.is_footer;return c.createElement(D,{amount:+n,currency:e,contract_info:a.contract_info,is_sell_requested:a.is_sell_requested,is_footer:o})}},{title:Object(u.localize)("Remaining time"),col_index:"id",renderCellContent:function(e){var t=e.row_obj;return c.createElement(h,{contract_info:t.contract_info})}}]}(a),Y=I.reduce((function(e,t){return e[t.col_index]=t,e}),{}),L={active_positions:z,component_icon:n,currency:a,is_loading:l,mobileRowRenderer:function(e){return c.createElement(W,A({},e,{columns_map:Y,server_time:v,onClickCancel:d,onClickSell:p}))},getRowAction:V,preloaderCheck:H,totals:T};return c.createElement(c.Fragment,null,c.createElement(_,null),w?c.createElement(i.Tabs,{active_index:C,className:"open-positions",onTabItemClick:function(e){return j(e)},top:!0,header_fit_content:!Object(s.isMobile)()},c.createElement("div",{label:Object(u.localize)("Options")},c.createElement(q,A({className:"open-positions",columns:I},L,{row_size:Object(s.isMobile)()?5:63}))),c.createElement("div",{label:Object(u.localize)("Multipliers")},c.createElement(q,A({className:"open-positions-multiplier open-positions",is_multiplier_tab:!0,columns:I,row_size:Object(s.isMobile)()?3:68},L)))):c.createElement(q,A({className:"open-positions",columns:I},L,{row_size:Object(s.isMobile)()?5:63})))};G.propTypes={active_positions:a.PropTypes.arrayOrObservableArray,component_icon:r.a.string,currency:r.a.string,error:r.a.string,getPositionById:r.a.func,is_loading:r.a.bool,is_multiplier:r.a.bool,NotificationMessages:r.a.func,onClickCancel:r.a.func,onClickSell:r.a.func,onMount:r.a.func,onUnmount:r.a.func,server_time:r.a.object};var $=Object(v.b)((function(e){var t=e.modules,n=e.client,a=e.common,o=e.ui;return{active_positions:t.portfolio.active_positions,currency:n.currency,error:t.portfolio.error,getPositionById:t.portfolio.getPositionById,is_loading:t.portfolio.is_loading,is_multiplier:t.trade.is_multiplier,NotificationMessages:o.notification_messages_ui,onClickCancel:t.portfolio.onClickCancel,onClickSell:t.portfolio.onClickSell,onMount:t.portfolio.onMount,onUnmount:t.portfolio.onUnmount,server_time:a.server_time}}))(Object(l.withRouter)(G)),J=n("react-router"),K=n("../../../node_modules/react-loadable/lib/index.js"),Q=n.n(K);function X(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,o=!1,r=void 0;try{for(var c,l=e[Symbol.iterator]();!(a=(c=l.next()).done)&&(n.push(c.value),!t||n.length!==t);a=!0);}catch(e){o=!0,r=e}finally{try{a||null==l.return||l.return()}finally{if(o)throw r}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Z(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var ee=function(e){var t=e.id,n=e.className,a=e.selected_value,o=e.value,r=e.label,l=e.onChange;return c.createElement("label",{htmlFor:t,className:y()("composite-calendar-modal__radio",n,{"composite-calendar-modal__radio--selected":a===o}),onClick:function(){return l({label:r,value:o})}},c.createElement("input",{className:"composite-calendar-modal__radio-input",id:t,type:"radio",value:o}),c.createElement("span",{className:y()("composite-calendar-modal__radio-circle",{"composite-calendar-modal__radio-circle--selected":a===o})}),c.createElement("p",{className:"composite-calendar-modal__radio-label"},r))},te=c.memo((function(e){var t=e.input_date_range,n=e.current_focus,a=e.duration_list,o=e.onChange,r=e.setCurrentFocus,l=t||a.find((function(e){return"all_time"===e.value})),m=X(c.useState(_&&Object(s.toMoment)(_).format("DD MMM YYYY")),2),_=m[0],d=m[1],p=X(c.useState(f&&Object(s.toMoment)(f).format("DD MMM YYYY")),2),f=p[0],b=p[1],y=X(c.useState(!1),2),v=y[0],g=y[1],E=X(c.useState(l),2),h=E[0],C=E[1],j=X(c.useState(l),2),O=j[0],w=j[1],k=function(e,t){var n=e.duration;o({from:t||n?Object(s.toMoment)().startOf("day").subtract(n,"day").add(1,"s").unix():null,to:Object(s.toMoment)().endOf("day").unix(),is_batch:!0},{date_range:e})},N=function(){O.onClick?k(O):"custom"===O.value&&function(){var e=Object(s.toMoment)().format("DD MMM YYYY"),t=_||f||e,n=f||e,a=Object.assign(O,{label:"".concat(t," - ").concat(n)});o({from:Object(s.toMoment)(t,"DD MMM YYYY").startOf("day").add(1,"s").unix(),to:Object(s.toMoment)(n,"DD MMM YYYY").endOf("day").unix(),is_batch:!0},{date_range:a})}(),C(O),g(!1)},M=function(e,t){var n,a;(w({value:"custom"}),"from"===t)&&d((null===(n=e.target)||void 0===n?void 0:n.value)?Object(s.toMoment)(e.target.value).format("DD MMM YYYY"):"");"to"===t&&b((null===(a=e.target)||void 0===a?void 0:a.value)?Object(s.toMoment)(e.target.value).format("DD MMM YYYY"):"")},x=function(e){w(a.find((function(t){return e&&t.value===e.value}))||e)},D=Object(s.toMoment)().format("YYYY-MM-DD"),z=f?Object(s.toMoment)(f,"DD MMM YYYY").format("YYYY-MM-DD"):D,S=_&&Object(s.toMoment)(_,"DD MMM YYYY").format("YYYY-MM-DD");return c.createElement(c.Fragment,null,c.createElement("div",{className:"composite-calendar__input-fields composite-calendar__input-fields--fill"},c.createElement(i.InputField,{id:"dt_calendar_input",current_focus:n,is_read_only:!0,icon:function(){return c.createElement(i.Icon,{icon:"IcCalendarDatefrom",className:"inline-icon"})},onClick:function(){w(h),g(!0)},setCurrentFocus:r,value:h.label})),c.createElement(i.MobileDialog,{portal_element_id:"modal_root",title:Object(u.localize)("Please select duration"),visible:v,has_content_scroll:!0,onClose:function(){return g(!1)},content_height_offset:"94px",footer:c.createElement("div",{className:"composite-calendar-modal__actions"},c.createElement(i.Button,{className:"composite-calendar-modal__actions__cancel",text:Object(u.localize)("Cancel"),onClick:function(){return g(!1)},has_effect:!0,secondary:!0,large:!0}),c.createElement(i.Button,{className:"composite-calendar-modal__actions__ok",text:Object(u.localize)("OK"),onClick:N,has_effect:!0,primary:!0,large:!0}))},c.createElement("div",{className:"composite-calendar-modal"},c.createElement("div",{className:"composite-calendar-modal__radio-group"},a.map((function(e){return c.createElement(ee,{id:"composite-calendar-modal__radio__".concat(e.value),key:e.value,value:e.value,label:e.label,selected_value:O.value,onChange:x})}))),c.createElement("div",{className:"composite-calendar-modal__custom"},c.createElement(ee,{id:"composite-calendar-modal__custom-radio",className:"composite-calendar-modal__custom-radio",value:"custom",label:Object(u.localize)("Custom"),selected_value:O.value,onChange:x}),c.createElement("div",{className:"composite-calendar-modal__custom-date-range"},c.createElement(i.DatePicker,{className:"composite-calendar-modal__custom-date-range-start-date",is_nativepicker:!0,placeholder:Object(u.localize)("Start date"),value:_,max_date:z,onChange:function(e){return M(e,"from")}}),c.createElement(i.DatePicker,{className:"composite-calendar-modal__custom-date-range-end-date",is_nativepicker:!0,placeholder:Object(u.localize)("End date"),value:f,max_date:D,min_date:S,onChange:function(e){return M(e,"to")}}))),c.createElement(i.Button,{className:"composite-calendar-modal__actions-today",text:Object(u.localize)("Back to today"),onClick:function(){var e={duration:0,label:Object(u.localize)("Today")};k(e,!0),C(e),w(e),g(!1)},has_effect:!0,tertiary:!0,large:!0}))))}));te.propTypes={current_focus:r.a.string,duration_list:r.a.array,from:r.a.number,onChange:r.a.func,setCurrentFocus:r.a.func,to:r.a.number};var ne=te,ae=function(e){var t=e.onClick,n=e.is_active,a=e.label;return c.createElement("li",{className:y()({"composite-calendar__prepopulated-list--is-active":n}),onClick:t},a)};ae.propTypes={label:r.a.oneOfType([r.a.func,r.a.node,r.a.array]),is_active:r.a.bool,onClick:r.a.func};var oe=ae;function re(){return(re=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function ce(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var le=function(e){var t=e.items,n=e.from,a=e.to;return c.createElement("ul",{className:"composite-calendar__prepopulated-list"},t.map((function(e){var t=e.duration,o=ce(e,["duration"]),r=function(e,t,n){return 0===n?Object(s.toMoment)().endOf("day").unix()===t&&null===e:Math.ceil(t/86400)-Math.ceil(e/86400)===n}(n,a,t);return c.createElement(oe,re({key:t,is_active:r},o))})))};le.propTypes={items:r.a.array};var ie=le,se=function(e){var t=e.onClick;return c.createElement(i.Icon,{onClick:t,icon:"IcCalendarDatefrom",className:"inline-icon"})};se.propTypes={onClick:r.a.func};var ue=se;function me(){return(me=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function _e(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,o=!1,r=void 0;try{for(var c,l=e[Symbol.iterator]();!(a=(c=l.next()).done)&&(n.push(c.value),!t||n.length!==t);a=!0);}catch(e){o=!0,r=e}finally{try{a||null==l.return||l.return()}finally{if(o)throw r}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return de(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return de(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function de(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var pe=Q()({loader:function(){return n.e("two-month-picker").then(n.bind(null,"./App/Components/Form/CompositeCalendar/two-month-picker.jsx"))},loading:function(){return null},render:function(e,t){var n=e.default;return c.createElement(n,t)}}),fe=function(e){var t=e.current_focus,n=e.onChange,a=e.setCurrentFocus,o=e.to,r=e.from,l=_e(c.useState(!1),2),m=l[0],_=l[1],d=_e(c.useState(!1),2),p=d[0],f=d[1],b=_e(c.useState([{value:"all_time",label:Object(u.localize)("All time"),onClick:function(){return g()},duration:0},{value:"last_7_days",label:Object(u.localize)("Last 7 days"),onClick:function(){return g(7)},duration:7},{value:"last_30_days",label:Object(u.localize)("Last 30 days"),onClick:function(){return g(30)},duration:30},{value:"last_60_days",label:Object(u.localize)("Last 60 days"),onClick:function(){return g(60)},duration:60},{value:"last_quarter",label:Object(u.localize)("Last quarter"),onClick:function(){return g(90)},duration:90}]),1)[0],y=c.useRef();Object(i.useOnClickOutside)(y,(function(e){e.stopPropagation(),e.preventDefault(),E()}));var v,g=function(e){E(),j({from:e?Object(s.toMoment)().startOf("day").subtract(e,"day").add(1,"s").unix():null,to:Object(s.toMoment)().endOf("day").unix(),is_batch:!0})},E=function(){f(!1),_(!1)},h=function(e){"from"===e&&f(!0),"to"===e&&_(!0)},C=function(e,t){O(e,t),E()},j=function(e){n(e)},O=function(e,t){j(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},e,t))};return c.createElement(c.Fragment,null,c.createElement(i.DesktopWrapper,null,c.createElement("div",{id:"dt_composite_calendar_inputs",className:"composite-calendar__input-fields"},c.createElement(i.InputField,{id:"dt_calendar_input_from",current_focus:t,is_read_only:!0,placeholder:Object(u.localize)("Date from"),icon:ue,onClick:function(){return h("from")},setCurrentFocus:a,value:(v=Object(s.epochToMoment)(r),r?v.format("MMM, DD YYYY"):"")}),c.createElement(i.InputField,{id:"dt_calendar_input_to",current_focus:t,is_read_only:!0,placeholder:Object(u.localize)("Date to"),icon:ue,onClick:function(){return h("to")},setCurrentFocus:a,value:function(){var e=Object(s.epochToMoment)(o);return 0===Object(s.daysFromTodayTo)(e)?Object(u.localize)("Today"):e.format("MMM, DD YYYY")}()})),m&&c.createElement("div",{className:"composite-calendar",ref:y},c.createElement(ie,{from:r,to:o,items:b}),c.createElement(pe,{value:o,onChange:function(e){C("to",Object(s.epochToMoment)(e).endOf("day").unix())},isPeriodDisabled:function(e){return e+1<=r||e>Object(s.toMoment)().endOf("day").unix()}})),p&&c.createElement("div",{className:"composite-calendar",ref:y},c.createElement(ie,{from:r,to:o,items:b}),c.createElement(pe,{value:r,onChange:function(e){C("from",e),E()},isPeriodDisabled:function(e){return e-1>=o}}))),c.createElement(i.MobileWrapper,null,c.createElement(ne,me({duration_list:b},e))))};fe.displayName="CompositeCalendar",fe.propTypes={current_focus:r.a.string,from:r.a.number,onChange:r.a.func,setCurrentFocus:r.a.func,to:r.a.number};var be=c.memo(Object(v.b)((function(e){var t=e.ui;return{current_focus:t.current_focus,setCurrentFocus:t.setCurrentFocus}}))(fe)),ye=n("./Constants/index.js"),ve=function(e){var t=e.filter_component,n=e.className,a=e.optional_component;return c.createElement("div",{className:y()("reports__meta",n)},a,t&&c.createElement("div",{className:"reports__meta-filter"},t))},ge=function(e){return Object(ye.c)()[Object(s.extractInfoFromShortcode)(e.shortcode).category.toUpperCase()]?Object(_.b)(e.contract_id):{component:c.createElement(u.Localize,{i18n_default_text:"This trade type is currently not supported on {{website_name}}. Please go to <0>Binary.com</0> for details.",values:{website_name:s.website_name},components:[c.createElement("a",{key:0,className:"link link--orange",rel:"noopener noreferrer",target:"_blank",href:Object(s.urlFor)("user/profit_tablews",{legacy:!0})})]})}},Ee=function(e){var t=e.component_icon,n=e.currency,a=e.data,o=e.date_from,r=e.date_to,l=e.error,_=e.filtered_date_range,p=e.is_empty,b=e.is_loading,v=e.is_switching,g=e.handleDateChange,E=e.handleScroll,h=e.has_selected_date,C=e.onMount,j=e.onUnmount,O=e.totals;if(c.useEffect((function(){return C(),function(){j()}}),[]),l)return c.createElement("p",null,l);var w=c.createElement(be,{input_date_range:_,onChange:g,from:o,to:r}),k=function(e,t){return[{key:"icon",title:Object(s.isMobile)()?"":Object(u.localize)("Type"),col_index:"action_type",renderCellContent:function(e){var n=e.cell_value,a=e.row_obj;return e.is_footer?Object(u.localize)("Profit/loss on the last {{item_count}} contracts",{item_count:t}):c.createElement(S,{action:n,key:a.transaction_id,payload:a})}},{title:Object(u.localize)("Ref. ID"),col_index:"transaction_id"},{title:Object(u.localize)("Currency"),col_index:"currency",renderCellContent:function(t){return t.is_footer?"":Object(s.getCurrencyDisplayCode)(e)}},{title:Object(u.localize)("Buy time"),col_index:"purchase_time",renderCellContent:function(e){var t=e.cell_value;return e.is_footer?"":c.createElement("span",null,t," GMT")}},{title:Object(u.localize)("Buy price"),col_index:"buy_price",renderCellContent:function(t){var n=t.cell_value;return t.is_footer?"":c.createElement(i.Money,{amount:n,currency:e})}},{title:Object(u.localize)("Sell time"),col_index:"sell_time",renderHeader:function(e){var t=e.title;return c.createElement("span",null,t)},renderCellContent:function(e){var t=e.cell_value;return e.is_footer?"":c.createElement("span",null,t," GMT")}},{title:Object(u.localize)("Sell price"),col_index:"sell_price",renderCellContent:function(t){var n=t.cell_value;return t.is_footer?"":c.createElement(i.Money,{amount:n,currency:e})}},{title:Object(u.localize)("Profit / Loss"),col_index:"profit_loss",renderCellContent:function(t){var n=t.cell_value;return c.createElement(I,{value:n},c.createElement(i.Money,{has_sign:!0,amount:n.replace(/[,]+/g,""),currency:e}))}}]}(n,a.length),N=k.reduce((function(e,t){return e[t.col_index]=t,e}),{});return c.createElement(c.Fragment,null,c.createElement(ve,{filter_component:w,className:"profit-table__filter"}),v?c.createElement(R,{is_loading:!0}):c.createElement(c.Fragment,null,0===a.length||p?c.createElement(R,{is_loading:b,has_selected_date:h,is_empty:p,empty_message_component:f,component_icon:t,localized_message:Object(u.localize)("You have no trading activity yet."),localized_period_message:Object(u.localize)("You have no trading activity for this period.")}):c.createElement("div",{className:"reports__content"},c.createElement(i.DesktopWrapper,null,c.createElement(i.DataTable,{className:"profit-table",data_source:a,columns:k,onScroll:E,footer:O,is_empty:p,getRowAction:ge,getRowSize:function(){return 63},content_loader:m.b},c.createElement(R,{is_loading:b}))),c.createElement(i.MobileWrapper,null,c.createElement(i.DataList,{className:"profit-table",data_source:a,rowRenderer:function(e){var t=e.row,n=e.is_footer,a=Object(d.a)(t.longcode,t.shortcode),o="duration-type__".concat(a.toLowerCase());return n?c.createElement("div",{className:"data-list__row"},c.createElement(i.DataList.Cell,{row:t,column:N.action_type,is_footer:n}),c.createElement(i.DataList.Cell,{className:"data-list__row-cell--amount",row:t,column:N.profit_loss,is_footer:n})):c.createElement(c.Fragment,null,c.createElement("div",{className:"data-list__row"},c.createElement(i.DataList.Cell,{row:t,column:N.action_type}),c.createElement("div",{className:y()("duration-type",o)},c.createElement("div",{className:y()("duration-type__background","".concat(o,"__background"))}),c.createElement("span",{className:"".concat(o,"__label")},Object(u.localize)(a)))),c.createElement("div",{className:"data-list__row"},c.createElement(i.DataList.Cell,{row:t,column:N.transaction_id}),c.createElement(i.DataList.Cell,{className:"data-list__row-cell--amount",row:t,column:N.currency})),c.createElement("div",{className:"data-list__row"},c.createElement(i.DataList.Cell,{row:t,column:N.purchase_time}),c.createElement(i.DataList.Cell,{className:"data-list__row-cell--amount",row:t,column:N.buy_price})),c.createElement("div",{className:"data-list__row"},c.createElement(i.DataList.Cell,{row:t,column:N.sell_time}),c.createElement(i.DataList.Cell,{className:"data-list__row-cell--amount",row:t,column:N.sell_price})),c.createElement("div",{className:"data-list__row"},c.createElement(i.DataList.Cell,{row:t,column:N.profit_loss})))},getRowAction:ge,onScroll:E,footer:O,row_gap:8},c.createElement(R,{is_loading:b}))))))};Ee.propTypes={component_icon:r.a.string,currency:r.a.string,data:a.PropTypes.arrayOrObservableArray,date_from:r.a.number,date_to:r.a.number,error:r.a.string,filtered_date_range:r.a.object,is_empty:r.a.bool,is_loading:r.a.bool,is_switching:r.a.bool,handleDateChange:r.a.func,handleScroll:r.a.func,has_selected_date:r.a.bool,onMount:r.a.func,onUnmount:r.a.func,totals:r.a.object};var he=Object(v.b)((function(e){var t=e.modules,n=e.client;return{currency:n.currency,data:t.profit_table.data,date_from:t.profit_table.date_from,date_to:t.profit_table.date_to,error:t.profit_table.error,filtered_date_range:t.profit_table.filtered_date_range,is_empty:t.profit_table.is_empty,is_loading:t.profit_table.is_loading,is_switching:n.is_switching,handleDateChange:t.profit_table.handleDateChange,handleScroll:t.profit_table.handleScroll,has_selected_date:t.profit_table.has_selected_date,onMount:t.profit_table.onMount,onUnmount:t.profit_table.onUnmount,totals:t.profit_table.totals}}))(Object(J.withRouter)(Ee)),Ce=function(e){var t;return e.id&&["buy","sell"].includes(e.action_type)?t=Object(ye.c)()[Object(s.extractInfoFromShortcode)(e.shortcode).category.toUpperCase()]?Object(_.b)(e.id):{component:c.createElement(u.Localize,{i18n_default_text:"This trade type is currently not supported on {{website_name}}. Please go to <0>Binary.com</0> for details.",values:{website_name:s.website_name},components:[c.createElement("a",{key:0,className:"link link--orange",rel:"noopener noreferrer",target:"_blank",href:Object(s.urlFor)("user/statementws",{legacy:!0})})]})}:e.desc&&["deposit","withdrawal","adjustment","hold","release"].includes(e.action_type)&&(t={message:e.desc}),t},je=function(e){var t=e.account_statistics,n=e.component_icon,a=e.currency,o=e.data,r=e.date_from,l=e.date_to,_=e.error,d=e.filtered_date_range,p=e.handleDateChange,b=e.handleScroll,y=e.has_selected_date,v=e.is_empty,g=e.is_loading,E=e.is_mx_mlt,h=e.is_switching,j=e.onMount,O=e.onUnmount;c.useEffect((function(){return j(),function(){O()}}),[]);if(_)return c.createElement("p",null,_);var w=c.createElement(be,{input_date_range:d,onChange:p,from:r,to:l}),k=function(e){return[{key:"icon",title:Object(s.isMobile)()?"":Object(u.localize)("Type"),col_index:"icon",renderCellContent:function(e){var t=e.cell_value,n=e.row_obj;return c.createElement(S,{action:t,key:n.transaction_id,payload:n})}},{title:Object(u.localize)("Ref. ID"),col_index:"refid"},{title:Object(u.localize)("Currency"),col_index:"currency",renderCellContent:function(){return Object(s.getCurrencyDisplayCode)(e)}},{title:Object(u.localize)("Transaction time"),col_index:"date",renderCellContent:function(e){var t=e.cell_value;return c.createElement("span",null,t," GMT")}},{key:"mode",title:Object(u.localize)("Transaction"),col_index:"action_type",renderCellContent:function(e){var t,n,a=e.cell_value,o=e.row_obj;return c.createElement(i.Label,{mode:(t=a,n={buy:"success",deposit:"success",hold:"warn",release:"success",sell:"danger",withdrawal:"info",default:"default",adjustment:"adjustment"},Object.keys(n).find((function(e){return e===t}))?n[t]:n.default)},o.action)}},{title:Object(u.localize)("Credit/Debit"),col_index:"amount",renderCellContent:function(t){var n=t.cell_value;return c.createElement("div",{className:"amount--".concat(C(n))},c.createElement(i.Money,{has_sign:!0,amount:n.replace(/[,]+/g,""),currency:e}))}},{title:Object(u.localize)("Balance"),col_index:"balance",renderCellContent:function(t){var n=t.cell_value;return c.createElement(i.Money,{amount:n.replace(/[,]+/g,""),currency:e})}}]}(a),N=k.reduce((function(e,t){return e[t.col_index]=t,e}),{});return c.createElement(c.Fragment,null,c.createElement(ve,{className:E?void 0:"reports__meta--statement",filter_component:w,optional_component:!h&&E&&c.createElement(c.Fragment,null,c.createElement("div",{className:"statement__account-statistics"},c.createElement("div",{className:"statement__account-statistics-item"},c.createElement("div",{className:"statement__account-statistics--is-rectangle"},c.createElement("span",{className:"statement__account-statistics-title"},Object(u.localize)("Total deposits")," ","(".concat(a,")")),c.createElement("span",{className:"statement__account-statistics-amount"},c.createElement(i.Money,{amount:t.total_deposits,currency:a})))),c.createElement("div",{className:"statement__account-statistics-item statement__account-statistics-total-withdrawal"},c.createElement("div",{className:"statement__account-statistics--is-rectangle"},c.createElement("span",{className:"statement__account-statistics-title"},Object(u.localize)("Total withdrawals")," ","(".concat(a,")")),c.createElement("span",{className:"statement__account-statistics-amount"},c.createElement(i.Money,{amount:t.total_withdrawals,currency:a})))),c.createElement("div",{className:"statement__account-statistics-item"},c.createElement("div",{className:"statement__account-statistics--is-rectangle"},c.createElement("span",{className:"statement__account-statistics-title"},Object(u.localize)("Net deposits")," ","(".concat(a,")")),c.createElement("span",{className:"statement__account-statistics-amount"},c.createElement(i.Money,{amount:t.total_deposits-t.total_withdrawals,currency:a}))))))}),h?c.createElement(R,{is_loading:!0}):c.createElement(c.Fragment,null,0===o.length||v?c.createElement(R,{is_loading:g,has_selected_date:y,is_empty:v,empty_message_component:f,component_icon:n,localized_message:Object(u.localize)("You have no transactions yet."),localized_period_message:Object(u.localize)("You have no transactions for this period.")}):c.createElement("div",{className:"reports__content"},c.createElement(i.DesktopWrapper,null,c.createElement(i.DataTable,{className:"statement",data_source:o,columns:k,onScroll:b,getRowAction:function(e){return Ce(e)},getRowSize:function(){return 63},content_loader:m.b},c.createElement(R,{is_loading:g}))),c.createElement(i.MobileWrapper,null,c.createElement(i.DataList,{className:"statement",data_source:o,rowRenderer:function(e){var t=e.row;return c.createElement(c.Fragment,null,c.createElement("div",{className:"data-list__row"},c.createElement(i.DataList.Cell,{row:t,column:N.icon}),c.createElement(i.DataList.Cell,{row:t,column:N.action_type})),c.createElement("div",{className:"data-list__row"},c.createElement(i.DataList.Cell,{row:t,column:N.refid}),c.createElement(i.DataList.Cell,{className:"data-list__row-cell--amount",row:t,column:N.currency})),c.createElement("div",{className:"data-list__row"},c.createElement(i.DataList.Cell,{row:t,column:N.date}),c.createElement(i.DataList.Cell,{className:"data-list__row-cell--amount",row:t,column:N.amount})),c.createElement("div",{className:"data-list__row"},c.createElement(i.DataList.Cell,{row:t,column:N.balance})))},getRowAction:Ce,onScroll:b,row_gap:8},c.createElement(R,{is_loading:g}))))))};je.propTypes={account_statistics:r.a.object,component_icon:r.a.string,currency:r.a.string,data:a.PropTypes.arrayOrObservableArray,date_from:r.a.number,date_to:r.a.number,error:r.a.string,filtered_date_range:r.a.object,handleDateChange:r.a.func,handleScroll:r.a.func,has_selected_date:r.a.bool,is_empty:r.a.bool,is_loading:r.a.bool,is_mx_mlt:r.a.bool,is_switching:r.a.bool,onMount:r.a.func,onUnmount:r.a.func};var Oe=Object(v.b)((function(e){var t=e.modules,n=e.client;return{account_statistics:t.statement.account_statistics,currency:n.currency,data:t.statement.data,date_from:t.statement.date_from,date_to:t.statement.date_to,error:t.statement.error,filtered_date_range:t.statement.filtered_date_range,handleDateChange:t.statement.handleDateChange,handleScroll:t.statement.handleScroll,has_selected_date:t.statement.has_selected_date,is_empty:t.statement.is_empty,is_loading:t.statement.is_loading,is_mx_mlt:n.standpoint.iom||n.standpoint.malta,is_switching:n.is_switching,onMount:t.statement.onMount,onUnmount:t.statement.onUnmount}}))(Object(l.withRouter)(je)),we=(n("./sass/app/modules/reports.scss"),function(e){var t=e.history,n=e.is_logged_in,a=e.is_logging_in,o=e.is_visible,r=e.location,l=e.routeBackInApp,m=e.routes,_=e.setTabIndex,d=e.setVisibilityRealityCheck,p=e.tab_index,f=e.toggleReports;c.useEffect((function(){return f(!0),function(){d(1),f(!1)}}),[]);var b=function(){var e=[];return m.forEach((function(t){e.push({default:t.default,icon:t.icon_component,label:t.getTitle(),value:t.component,path:t.path})})),e},y=Object(s.getSelectedRoute)({routes:m,pathname:r.pathname});return!n&&a?c.createElement(i.Loading,{is_fullscreen:!0}):c.createElement(i.FadeWrapper,{is_visible:o,className:"reports-page-wrapper",keyname:"reports-page-wrapper"},c.createElement("div",{className:"reports"},c.createElement(i.PageOverlay,{header:Object(u.localize)("Reports"),onClickClose:function(){return l(t)}},c.createElement(i.DesktopWrapper,null,c.createElement(i.VerticalTab,{alignment:"center",id:"report",is_floating:!0,classNameHeader:"reports__tab-header",current_path:r.pathname,is_routed:!0,is_full_width:!0,setVerticalTabIndex:_,vertical_tab_index:y.default?0:p,list:b()})),c.createElement(i.MobileWrapper,null,c.createElement(i.Div100vhContainer,{className:"reports__mobile-wrapper",height_offset:"80px"},c.createElement(i.SelectNative,{className:"reports__route-selection",list_items:b().map((function(e){return{text:e.label,value:e.path}})),value:y.path,should_show_empty_option:!1,onChange:function(e){return t.push(e.target.value)}}),y&&c.createElement(y.component,{component_icon:y.icon_component}))))))});we.propTypes={history:r.a.object,is_logged_in:r.a.bool,is_logging_in:r.a.bool,is_visible:r.a.bool,location:r.a.object,routeBackInApp:r.a.func,routes:r.a.arrayOf(r.a.object),setTabIndex:r.a.func,setVisibilityRealityCheck:r.a.func,tab_index:r.a.number,toggleReports:r.a.func};var ke=Object(v.b)((function(e){var t=e.client,n=e.common,a=e.ui;return{is_logged_in:t.is_logged_in,is_logging_in:t.is_logging_in,is_visible:a.is_reports_visible,routeBackInApp:n.routeBackInApp,setVisibilityRealityCheck:t.setVisibilityRealityCheck,setTabIndex:a.setReportsTabIndex,tab_index:a.reports_route_tab_index,toggleReports:a.toggleReports}}))(Object(l.withRouter)(we));t.default={OpenPositions:$,ProfitTable:he,Statement:Oe,Reports:ke}},"./sass/app/modules/reports.scss":function(e,t,n){},"./templates/_common/components/loading.jsx":function(e,t,n){"use strict";var a=n("../../../node_modules/classnames/index.js"),o=n.n(a),r=n("react");t.a=function(e){var t=e.className,n=e.is_invisible,a=e.theme,c=e.id;return r.createElement("div",{id:c,className:o()("barspinner","barspinner--".concat(a||"dark"),{invisible:n},t)},Array.from(new Array(5)).map((function(e,t){return r.createElement("div",{key:t,className:"barspinner__rect barspinner__rect--".concat(t+1," rect").concat(t+1)})})))}}}]);
//# sourceMappingURL=trader.reports.decd2ccf29d990125e9d.js.map
(window.webpackJsonp_deriv_trader=window.webpackJsonp_deriv_trader||[]).push([["screen-large"],{"./Modules/Trading/Components/Form/screen-large.jsx":function(e,t,n){"use strict";n.r(t);var r=n("../node_modules/classnames/index.js"),a=n.n(r),i=n("../node_modules/prop-types/index.js"),o=n.n(i),s=n("react"),c=n("./App/Components/Elements/ContentLoader/index.js"),l=n("./App/Components/Form/fieldset.jsx"),u=n("./Modules/Trading/Containers/contract-type.jsx"),_=n("./Modules/Trading/Containers/purchase.jsx"),p=n("mobx-react"),d=n("@deriv/components/lib/dropdown"),m=n.n(d),f=(n("@deriv/components/lib/dropdown.css"),n("@deriv/components/lib/button-toggle")),y=n.n(f),v=(n("@deriv/components/lib/button-toggle.css"),n("@deriv/shared/utils/currency")),b=n.n(v),g=n("./App/Components/Form/InputField/index.js"),h=n("./Stores/connect.js"),O=n("@deriv/translations"),j=n("@deriv/components/lib/popover"),x=n.n(j),k=(n("@deriv/components/lib/popover.css"),n("@deriv/components/lib/checkbox")),C=n.n(k),E=(n("@deriv/components/lib/checkbox.css"),n("./Stores/Modules/Trading/Helpers/allow-equals.js")),w=function(e){var t=e.contract_start_type,n=e.contract_type,r=e.contract_types_list,a=e.duration_unit,i=e.expiry_type,o=e.onChange,c=e.value,l=Object(E.b)(r,a,t),u=Object(E.a)(r);return Object(E.c)(n)&&(l||"endtime"===i)&&u&&s.createElement("div",{className:"allow-equals"},s.createElement(C.a,{className:"allow-equals__input-field",id:"dt_allow_equals_input",onChange:function(e){e.persist();var t=e.target,n=t.name,r=t.checked;o({target:{name:n,value:Number(r)}})},defaultChecked:c,name:"is_equal",label:Object(O.localize)("Allow equals"),classNameLabel:"allow-equals__label"}),s.createElement(x.a,{alignment:"left",classNameTarget:"allow-equals__tooltip",icon:"info",id:"dt_allow_equals_info",message:Object(O.localize)("Win payout if exit spot is also equal to entry spot."),margin:130,relative_render:!0}))};w.propTypes={contract_start_type:o.a.string,contract_type:o.a.string,contract_types_list:o.a.object,duration_unit:o.a.string,expiry_type:o.a.string,onChange:o.a.func,value:o.a.number};var T=w;var S=function(e){var t,n,r,i=e.amount,o=e.basis,c=e.basis_list,u=e.contract_start_type,_=e.contract_type,p=e.contract_types_list,d=e.currencies_list,f=e.currency,v=e.duration_unit,h=e.expiry_type,j=e.is_equal,x=e.is_minimized,k=e.is_multiplier,C=e.is_nativepicker,E=e.is_single_currency,w=e.onChange,S=e.validation_errors;if(x)return s.createElement("div",{className:"fieldset-minimized fieldset-minimized__amount"},s.createElement("span",{className:"fieldset-minimized__basis"},(c.find((function(e){return e.value===o}))||{}).text),"Â ",s.createElement("i",null,s.createElement("span",{className:a()("fieldset-minimized__currency","symbols",(t={},n="symbols--".concat((f||"").toLowerCase()),r=f,n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t))})),b.a.addComma(i,2));var P=S.amount,M=function(){return s.createElement(g.a,{className:"trade-container__amount",classNameInlinePrefix:"trade-container__currency",classNameInput:"trade-container__input",currency:f,error_messages:P,fractional_digits:b.a.getDecimalPlaces(f),id:"dt_amount_input",inline_prefix:E?f:null,is_autocomplete_disabled:!0,is_float:!0,is_hj_whitelisted:!0,is_incrementable:!0,is_nativepicker:C,is_negative_disabled:!0,max_length:b.a.AMOUNT_MAX_LENGTH,name:"amount",onChange:w,type:"tel",value:i,ariaLabel:Object(O.localize)("Amount")})};return s.createElement(l.a,{className:"trade-container__fieldset center-text",header:k?Object(O.localize)("Stake"):void 0,header_tooltip:k?Object(O.localize)("To ensure your loss does not exceed your stake, your contract will be closed automatically when your loss equals to {{amount}}.",{amount:i}):void 0},c.length>1&&s.createElement(y.a,{id:"dt_amount_toggle",buttons_arr:c,className:"dropdown--no-margin",is_animated:!0,name:"basis",onChange:w,value:o}),E?s.createElement(M,null):s.createElement("div",{className:"trade-container__currency-options"},s.createElement(m.a,{id:"amount",className:a()({"dc-dropdown-container__currency":!E}),has_symbol:!0,is_alignment_left:!0,is_nativepicker:!1,list:d,name:"currency",no_border:!0,value:f,onChange:w}),s.createElement(M,null)),s.createElement(T,{contract_start_type:u,contract_type:_,contract_types_list:p,duration_unit:v,expiry_type:h,onChange:w,value:parseInt(j)}))};S.propTypes={amount:o.a.oneOfType([o.a.number,o.a.string]),basis:o.a.string,basis_list:p.PropTypes.arrayOrObservableArray,contract_start_type:o.a.string,contract_type:o.a.string,contract_types_list:p.PropTypes.observableObject,currencies_list:p.PropTypes.observableObject,currency:o.a.string,duration_unit:o.a.string,expiry_type:o.a.string,is_equal:o.a.oneOfType([o.a.number,o.a.string]),is_minimized:o.a.bool,is_multiplier:o.a.bool,is_nativepicker:o.a.bool,is_single_currency:o.a.bool,onChange:o.a.func,validation_errors:o.a.object};var P=Object(h.b)((function(e){var t=e.modules,n=e.client;return{amount:t.trade.amount,basis:t.trade.basis,basis_list:t.trade.basis_list,contract_start_type:t.trade.contract_start_type,contract_type:t.trade.contract_type,contract_types_list:t.trade.contract_types_list,currencies_list:n.currencies_list,currency:t.trade.currency,duration_unit:t.trade.duration_unit,expiry_type:t.trade.expiry_type,is_equal:t.trade.is_equal,is_single_currency:n.is_single_currency,is_multiplier:t.trade.is_multiplier,onChange:t.trade.onChange,validation_errors:t.trade.validation_errors}}))(S),M=n("./Modules/Trading/Components/Form/TradeParams/barrier.jsx"),D=n("./Stores/Modules/Trading/Helpers/duration.js");function N(e){return function(e){if(Array.isArray(e))return A(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var U=function(e){var t=e.hover_value,n=e.max_value,r=e.min_value,i=e.onClick,o=e.onMouseEnter,c=e.onMouseLeave,l=e.value;if(!n||!r)return null;var u=N(Array(n-r+1).keys()),_=function(e){return e+r===l},p=function(e){return e+r<l},d=function(e){return!p(e)&&e+r<=t};return s.createElement(s.Fragment,null,u.map((function(e){return s.createElement("span",{key:e,className:a()("range-slider__ticks-step",{"range-slider__ticks-step--active":_(e),"range-slider__ticks-step--marked":p(e),"range-slider__ticks-step--marked-hover":d(e)}),onClick:function(){return i(e+r)},onMouseEnter:function(){return o(e+r)},onMouseLeave:c})})))};U.propTypes={hover_value:o.a.number,max_value:o.a.number,min_value:o.a.number,onClick:o.a.func,onMouseEnter:o.a.func,onMouseLeave:o.a.func,value:o.a.number};var z=U;function R(e){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function F(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Y(e,t){return(Y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function H(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=L(e);if(t){var a=L(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return q(this,n)}}function q(e,t){return!t||"object"!==R(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function L(e){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var W=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Y(e,t)}(o,e);var t,n,r,i=H(o);function o(){var e;F(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=i.call.apply(i,[this].concat(n))).state={hover_value:0},e.handleChange=function(t){var n=+t.target.value;n!==e.props.value&&(e.resetOnHover(),e.props.onChange({target:{name:e.props.name,value:n}}))},e.handleClick=function(t){t!==e.props.value&&(e.resetOnHover(),e.props.onChange({target:{name:e.props.name,value:t}}))},e.onMouseEnter=function(t){t&&(e.setState({hover_value:t}),e.rangeSliderTrack.style.width=e.getRangeSliderTrackWidth(t,!0))},e.onMouseLeave=function(t){var n=t.nativeEvent,r=n.offsetX,a=n.offsetY;(a<=-3||a>=3||r<-3||r>3)&&e.resetOnHover()},e.getRangeSliderTrackWidth=function(t,n){var r=(t-e.props.min_value)*(10/(e.props.max_value-e.props.min_value));return"".concat(2*r+(n?.8:1.4),"em")},e.resetOnHover=function(){e.state.hover_value&&(e.setState({hover_value:0}),e.rangeSliderTrack.style.width=0)},e}return t=o,(n=[{key:"render",value:function(){var e=this,t=this.props,n=t.className,r=t.max_value,i=t.min_value,o=t.name,c=t.value,l=this.state.hover_value||c,u=isNaN(r-i)?10:r-i;return s.createElement("div",{className:a()("range-slider",n,{"range-slider__error":c<i||c>r})},s.createElement("label",{className:"range-slider__label",htmlFor:"range"},s.createElement("input",{className:"input trade-container__input range-slider__track",id:"dt_duration_range_input",max:r,max_value:r,min:i,min_value:i,name:o,onChange:this.handleChange,tabIndex:"0",type:"range",steps:u,value:c}),s.createElement("span",{ref:function(t){return e.rangeSliderTrack=t},className:"range-slider__line range-slider__line--fill",onMouseLeave:this.onMouseLeave}),s.createElement("div",{className:"range-slider__ticks"},s.createElement(z,{hover_value:this.state.hover_value,max_value:r,min_value:i,onClick:this.handleClick,onMouseLeave:this.onMouseLeave,onMouseEnter:this.onMouseEnter,value:c})),s.createElement("div",{className:"range-slider__line",style:{width:"".concat(this.getRangeSliderTrackWidth(c))}})),s.createElement("div",{className:"range-slider__caption"},!!l&&s.createElement("span",{id:"dt_range_slider_label",className:"range-slider__caption-title"},1===l&&Object(O.localize)("{{display_value}} Tick",{display_value:l}),l>1&&Object(O.localize)("{{display_value}} Ticks",{display_value:l}))))}}])&&I(t.prototype,n),r&&I(t,r),o}(s.PureComponent);W.propTypes={className:o.a.string,max_value:o.a.number,min_value:o.a.number,name:o.a.string,onChange:o.a.func,value:o.a.number};var V=W,B=n("@deriv/shared/utils/date"),$=n("@deriv/components/lib/icon"),G=n.n($),J=(n("@deriv/components/lib/icon.css"),function(e){var t=e.name,n=e.onChange,r=e.value,i=a()("advanced-simple-toggle__icon","select-arrow",{"advanced-simple-toggle__icon--active":r});return s.createElement(s.Fragment,null,s.createElement("button",{id:r?"dt_advanced_toggle":"dt_simple_toggle",className:"advanced-simple-toggle",onClick:function(){n({target:{value:!r,name:t}})},"aria-label":Object(O.localize)("Toggle between advanced and simple duration settings")},s.createElement(G.a,{icon:"IcChevronDown",className:i,classNamePath:"advanced-simple-toggle__icon-path"})))});J.propTypes={name:o.a.string,onChange:o.a.func,value:o.a.bool};var X=J,K=n("@deriv/components/lib/date-picker"),Q=n.n(K),Z=(n("@deriv/components/lib/date-picker.css"),n("./App/Components/Elements/tooltip.jsx")),ee=n("./Stores/Modules/Trading/Helpers/contract-type.js");function te(e){return(te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ne(e,t,n,r,a,i,o){try{var s=e[i](o),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function re(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){ne(i,r,a,o,s,"next",e)}function s(e){ne(i,r,a,o,s,"throw",e)}o(void 0)}))}}function ae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ie(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function oe(e,t){return(oe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function se(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=le(e);if(t){var a=le(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ce(this,n)}}function ce(e,t){return!t||"object"!==te(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function le(e){return(le=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ue=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oe(e,t)}(o,e);var t,n,r,i=se(o);function o(){var e;ae(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=i.call.apply(i,[this].concat(n))).is_mounted=!1,e.state={disabled_days:[],market_events:[],duration:e.props.duration},e.onChange=function(t){e.is_mounted&&(e.has_range_selection?e.setState({duration:t.duration}):t.target.value&&e.setState({selected_date:Object(B.toMoment)(t.target.value)}));var n=e.props.onChange;"function"==typeof n&&t.target&&n({target:{name:t.target.name,value:e.has_range_selection?t.target.value:Object(B.toMoment)(t.target.value).format("YYYY-MM-DD")}})},e.onChangeCalendarMonth=re(regeneratorRuntime.mark((function t(){var n,r,a,i=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=i.length>0&&void 0!==i[0]?i[0]:Object(B.toMoment)().format("YYYY-MM-DD"),r=[],a=[],t.next=5,ee.a.getTradingEvents(n,e.props.symbol);case 5:t.sent.forEach((function(e){var t=e.dates.split(", ");-1!==t.indexOf("Fridays")&&(a=[6,0]),r.push({dates:t,descrip:e.descrip})})),e.is_mounted&&e.setState({disabled_days:a,market_events:r});case 8:case"end":return t.stop()}}),t)}))),e}return t=o,(n=[{key:"componentDidMount",value:function(){this.is_mounted=!0,this.onChangeCalendarMonth()}},{key:"componentWillUnmount",value:function(){this.is_mounted=!1}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.mode,r=e.name,i=e.validation_errors,o=!!i[r].length;return s.createElement("div",{className:a()("input-field",{"input-field--has-error":o})},s.createElement(Z.a,{className:"trade-container__tooltip",alignment:"left",message:o?i[r][0]:void 0,has_error:o},s.createElement(Q.a,{id:t,alignment:"left",display_format:"DD MMM YYYY",show_leading_icon:!0,error:i[r].length?"":void 0,mode:n,max_date:this.max_date_duration,min_date:this.min_date_expiry,name:r,onChange:this.onChange,onChangeCalendarMonth:this.onChangeCalendarMonth,has_range_selection:this.has_range_selection||void 0,has_today_btn:!this.has_range_selection||void 0,footer:this.footer,events:this.state.market_events,disabled_days:this.state.disabled_days,keep_open:!0,readOnly:!this.has_range_selection,value:this.datepicker_value})))}},{key:"has_intraday_unit",get:function(){return Object(D.e)(this.props.duration_units_list)}},{key:"min_duration",get:function(){var e=this.props,t=e.duration_min_max,n=e.server_time;return this.has_intraday_unit?Object(B.toMoment)(n).clone():Object(B.toMoment)(n).clone().add(t.daily.min,"second")}},{key:"moment_contract_start_date_time",get:function(){var e=this.props,t=e.start_time,n=e.server_time;return Object(B.setTime)(Object(B.toMoment)(this.min_duration),Object(B.isTimeValid)(t)?t:n.format("HH:mm:ss"))}},{key:"max_daily_duration",get:function(){var e=this.props.duration_min_max;return e.daily?e.daily.max:31536e3}},{key:"min_date_expiry",get:function(){var e="duration"===this.props.expiry_type,t=this.moment_contract_start_date_time.clone().startOf("day");return e&&this.has_intraday_unit?t.add(1,"day"):t}},{key:"max_date_duration",get:function(){var e=this.props,t=e.is_24_hours_contract,n=e.start_date;return t?this.moment_contract_start_date_time.clone().add(n?86400:this.max_daily_duration,"second"):this.moment_contract_start_date_time.clone().add(this.max_daily_duration,"second")}},{key:"has_range_selection",get:function(){return"duration"===this.props.mode}},{key:"footer",get:function(){if(!this.has_range_selection)return null;var e=this.state.duration;return e?1==+e?Object(O.localize)("Duration: {{duration}} day",{duration:e}):Object(O.localize)("Duration: {{duration}} days",{duration:e}):Object(O.localize)("Minimum duration is 1 day")}},{key:"datepicker_value",get:function(){return this.has_range_selection?Object(B.toMoment)().add(this.state.duration,"days").format("YYYY-MM-DD"):this.state.selected_date||this.min_date_expiry}}])&&ie(t.prototype,n),r&&ie(t,r),o}(s.Component);ue.propTypes={duration:o.a.oneOfType([o.a.string,o.a.number]),duration_min_max:o.a.object,duration_units_list:p.PropTypes.arrayOrObservableArray,expiry_type:o.a.string,is_24_hours_contract:o.a.bool,mode:o.a.string,onChange:o.a.func,server_time:o.a.object,start_date:o.a.oneOfType([o.a.number,o.a.string]),start_time:o.a.string,symbol:o.a.string,validation_errors:o.a.object};var _e=Object(h.b)((function(e){var t=e.modules,n=e.common;return{duration:t.trade.duration,duration_min_max:t.trade.duration_min_max,duration_units_list:t.trade.duration_units_list,expiry_type:t.trade.expiry_type,onChange:t.trade.onChange,server_time:n.server_time,start_date:t.trade.start_date,start_time:t.trade.start_time,symbol:t.trade.symbol,validation_errors:t.trade.validation_errors}}))(ue),pe=n("../node_modules/react-transition-group/index.js");function de(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function me(e){return function(e){if(Array.isArray(e))return ve(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||ye(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}return n}(e,t)||ye(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ye(e,t){if(e){if("string"==typeof e)return ve(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ve(e,t):void 0}}function ve(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var be=function(e){var t=e.preClass,n=e.selected_time,r=e.end_time,i=e.start_time,o=e.onChange,c=e.className,l=i?Object(B.toMoment)(i):Object(B.toMoment)(),u=r?Object(B.toMoment)(r):Object(B.toMoment)().hour("23").minute("59").seconds("59").milliseconds("999"),_=Object(B.toMoment)(),p=fe(n.split(":"),2),d=p[0],m=p[1],f=me(Array(24).keys()).map((function(e){return"0".concat(e).slice(-2)})),y=me(Array(12).keys()).map((function(e){return"0".concat(5*e).slice(-2)})),v=function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(r&&n){var a=n.split(":"),i=fe(a,2),s=i[0],c=i[1];("h"===e&&t!==s||"m"===e&&t!==c)&&o("".concat("h"===e?t:s,":").concat("m"===e?t:c))}};return s.createElement("div",{className:a()("".concat(t,"__dialog"),"".concat(c))},s.createElement("div",{className:"".concat(t,"__selector")},s.createElement("div",{className:"".concat(t,"__selector--hours")},s.createElement("div",{className:a()("".concat(t,"__selector-list-title"),"center-text")},s.createElement("strong",null,Object(O.localize)("Hour"))),s.createElement("div",null,f.map((function(e,r){_.hour(e);var i=l.clone().minute(0),o=_.isBetween(i,u),c=_.isBetween(l,u,"minute"),p=_.minutes()>52?o&&c:o;return s.createElement("div",{className:a()("".concat(t,"__selector-list-item"),de({},"".concat(t,"__selector-list-item--selected"),d===e),de({},"".concat(t,"__selector-list-item--disabled"),!p)),key:r,onClick:function(){v("h",e,n,p)}},e)})))),s.createElement("div",{className:"".concat(t,"__selector--minutes")},s.createElement("div",{className:a()("".concat(t,"__selector-list-title"),"center-text")},s.createElement("strong",null,Object(O.localize)("Minute"))),s.createElement("div",null,y.map((function(e,r){_.hour(d).minute(e);var i=_.isBetween(l,u,"minute");return s.createElement("div",{className:a()("".concat(t,"__selector-list-item"),de({},"".concat(t,"__selector-list-item--selected"),m===e),de({},"".concat(t,"__selector-list-item--disabled"),!i)),key:r,onClick:function(){v("m",e,n,i)}},e)}))))))};be.propTypes={className:o.a.string,end_time:o.a.oneOfType([o.a.number,o.a.string,o.a.object]),onChange:o.a.func,preClass:o.a.string,selected_time:o.a.oneOfType([o.a.number,o.a.string,o.a.object]),start_time:o.a.oneOfType([o.a.number,o.a.string,o.a.object])};var ge=be;function he(e){return(he="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Oe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function je(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xe(e,t){return(xe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ke(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ee(e);if(t){var a=Ee(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Ce(this,n)}}function Ce(e,t){return!t||"object"!==he(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ee(e){return(Ee=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var we=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xe(e,t)}(o,e);var t,n,r,i=ke(o);function o(){var e;Oe(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=i.call.apply(i,[this].concat(n))).state={is_open:!1},e.toggleDropDown=function(){e.setState((function(e){return{is_open:!e.is_open}}))},e.handleChange=function(t){var n="object"===he(t)?t.target.selected_time:t;n!==e.props.selected_time&&e.props.onChange({target:{name:e.props.name,value:n}})},e.saveRef=function(t){t&&("INPUT"!==t.nodeName?e.wrapper_ref=t:e.target_element=t)},e.handleClickOutside=function(t){e.wrapper_ref&&!e.wrapper_ref.contains(t.target)&&e.state.is_open&&e.setState({is_open:!1})},e}return t=o,(n=[{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this.handleClickOutside)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.handleClickOutside)}},{key:"render",value:function(){var e,t,n,r=this.props,i=r.selected_time,o=r.name,c=r.is_nativepicker,l=r.placeholder,u=r.end_time,_=r.start_time,p=r.validation_errors;return s.createElement("div",{ref:this.saveRef,className:a()("time-picker",(e={},t="".concat("time-picker","--padding"),n=this.props.padding,t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e))},c?s.createElement("input",{type:"time",id:"dt_".concat(o,"_input"),value:i,onChange:this.handleChange,name:o,min:_,max:u}):s.createElement(s.Fragment,null,s.createElement(g.a,{error_messages:p,type:"text",is_hj_whitelisted:!0,is_read_only:!0,id:"dt_".concat(o,"_input"),className:a()("".concat("time-picker","-input")),value:"".concat(i," GMT"),onClick:this.toggleDropDown,name:o,placeholder:l}),s.createElement(G.a,{icon:"IcClockOutline",className:"".concat("time-picker","__icon")}),s.createElement(pe.CSSTransition,{in:this.state.is_open,classNames:{enter:"time-picker__dialog--enter",enterDone:"time-picker__dialog--enter-done",exit:"time-picker__dialog--exit"},timeout:100,unmountOnExit:!0},s.createElement(ge,{end_time:u,start_time:_,className:"from-left",onChange:this.handleChange,preClass:"time-picker",selected_time:i}))))}}])&&je(t.prototype,n),r&&je(t,r),o}(s.Component);we.propTypes={end_time:o.a.oneOfType([o.a.number,o.a.string,o.a.object]),is_clearable:o.a.bool,is_nativepicker:o.a.bool,name:o.a.string,onChange:o.a.func,padding:o.a.string,placeholder:o.a.string,selected_time:o.a.string,start_time:o.a.oneOfType([o.a.number,o.a.string,o.a.object])};var Te=Object(p.observer)(we),Se=function(e,t){return e.minute(Math.ceil(e.minute()/t)*t)},Pe=function(e){var t=e.expiry_date,n=e.expiry_time,r=e.market_close_times,a=e.market_open_times,i=e.onChange,o=e.server_time,c=Object(B.toMoment)(t),l=Object(B.setTime)(c.clone(),a.slice(-1)[0]),u=Object(B.setTime)(c.clone(),r.slice(-1)[0]),_=Object(B.setTime)(c.clone(),n),p=Object(B.toMoment)(o),d=function(e,t,n){var r={start:e.isBefore(t)?t:e,end:n};return r.start=Se(r.start,5),r}(p.clone(),l.clone(),u),m=function(e,t,n){return t.isAfter(n)?Se(t,5).format("HH:mm"):n.isAfter(e)?Se(n,5).format("HH:mm"):Se(e,5).format("HH:mm")}(p.clone(),_,l);return s.createElement(Te,{end_time:d.end,onChange:i,name:"expiry_time",placeholder:"12:00",start_time:d.start,selected_time:m})};Pe.propTypes={expiry_date:o.a.oneOfType([o.a.string,o.a.number]),expiry_time:o.a.string,market_close_times:o.a.array,name:o.a.string,onChange:o.a.func,server_time:o.a.object};var Me=Object(h.b)((function(e){var t=e.modules,n=e.common;return{duration_units_list:t.trade.duration_units_list,expiry_time:t.trade.expiry_time,expiry_date:t.trade.expiry_date,market_close_times:t.trade.market_close_times,market_open_times:t.trade.market_open_times,onChange:t.trade.onChange,server_time:n.server_time}}))(Pe);function De(){return(De=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Ne=function(e){var t=e.advanced_duration_unit,n=e.advanced_expiry_type,r=e.duration_units_list,i=e.duration_t,o=e.contract_expiry_type,c=e.changeDurationUnit,l=e.getDurationFromUnit,u=e.expiry_date,_=e.expiry_list,p=e.expiry_type,d=e.number_input_props,f=e.onChange,v=e.onChangeUiStore,b=e.server_time,h=e.shared_input_props,O=e.start_date,j=e.validation_errors,x=!1;if("endtime"===p){var k=Object(D.e)(r);x=(!!O||Object(B.toMoment)(u||b).isSame(Object(B.toMoment)(b),"day"))&&k}var C=a()("endtime-container",{"has-time":x});return s.createElement(s.Fragment,null,_.length>1&&s.createElement(y.a,{id:"dt_advanced_duration_toggle",buttons_arr:_,name:"advanced_expiry_type",is_animated:!0,onChange:function(e){var t=e.target,n=t.name,r=t.value;f({target:{name:"expiry_type",value:r}}),v({name:n,value:r})},value:n}),"duration"===p?s.createElement(s.Fragment,null,s.createElement("div",{className:"duration-container"},r.length>1&&s.createElement(m.a,{classNameDisplay:"dc-dropdown__display--no-symbol",id:"duration",is_alignment_left:!0,is_nativepicker:!1,list:r,name:"advanced_duration_unit",no_border:!0,onChange:c,value:t}),"t"===t&&"tick"===o&&s.createElement(V,De({name:"duration",ticks:10,value:i},h)),"d"===t&&s.createElement(_e,{id:"dt_advanced_duration_datepicker",mode:"duration",name:"duration",is_24_hours_contract:x}),"t"!==t&&"d"!==t&&s.createElement(g.a,De({id:"dt_advanced_duration_input",classNameInput:"trade-container__input",error_messages:j.duration,label:1===r.length?r[0].text:null,name:"duration",value:l(t)},d,h)))):s.createElement(s.Fragment,null,s.createElement("div",{className:C},s.createElement(_e,{id:"dt_advanced_duration_datepicker",name:"expiry_date",is_24_hours_contract:x,value:u}),x&&s.createElement(Me,null))))};Ne.propTypes={advanced_duration_unit:o.a.string,advanced_expiry_type:o.a.string,changeDurationUnit:o.a.func,contract_expiry_type:o.a.string,duration_t:o.a.number,duration_units_list:p.PropTypes.arrayOrObservableArray,expiry_date:o.a.oneOfType([o.a.string,o.a.number]),expiry_list:o.a.array,expiry_type:o.a.string,getDurationFromUnit:o.a.func,number_input_props:o.a.object,onChange:o.a.func,onChangeUiStore:o.a.func,server_time:o.a.object,shared_input_props:o.a.object,start_date:o.a.oneOfType([o.a.number,o.a.string]),validation_errors:o.a.object};var Ae=Object(h.b)((function(e){var t=e.modules;return{contract_expiry_type:t.trade.contract_expiry_type,validation_errors:t.trade.validation_errors}}))(Ne);function Ue(){return(Ue=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var ze=function(e){var t,n,r=e.contract_expiry_type,a=e.changeDurationUnit,i=e.duration_t,o=e.duration_units_list,c=e.getDurationFromUnit,l=e.number_input_props,u=e.shared_input_props,_=e.simple_duration_unit,p=e.validation_errors,d=!o.some((function(e){return"t"===e.value}));return s.createElement(s.Fragment,null,o.length>1&&s.createElement(y.a,{id:"dt_simple_duration_toggle",buttons_arr:(t=o,n=t.filter((function(e){return"t"===e.value||"m"===e.value})),n.length<=1?[]:n),is_animated:!0,name:"simple_duration_unit",onChange:a,value:_}),"t"===_&&"tick"===r&&s.createElement(V,Ue({name:"duration",value:i,ticks:10},u)),"d"===_&&s.createElement(_e,{id:"dt_simple_duration_datepicker",mode:"duration",name:"duration"}),"t"!==_&&"d"!==_&&s.createElement(g.a,Ue({id:"dt_simple_duration_input",classNameInput:"trade-container__input",error_messages:p.duration,name:"duration",label:d?o[0].text:null,value:c(_)},l,u)))};ze.propTypes={changeDurationUnit:o.a.func,contract_expiry_type:o.a.string,duration_t:o.a.number,duration_units_list:p.PropTypes.arrayOrObservableArray,getDurationFromUnit:o.a.func,number_input_props:o.a.object,shared_input_props:o.a.object,simple_duration_unit:o.a.string,validation_errors:o.a.object};var Re=Object(h.b)((function(e){var t=e.modules;return{contract_expiry_type:t.trade.contract_expiry_type,validation_errors:t.trade.validation_errors}}))(ze);function Fe(){return(Fe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ye(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var He=function(e){var t=e.advanced_duration_unit,n=e.advanced_expiry_type,r=e.duration,i=e.duration_unit,o=e.duration_units_list,c=e.duration_t,u=e.expiry_date,_=e.expiry_time,p=e.expiry_type,d=e.getDurationFromUnit,m=e.hasDurationUnit,f=e.is_advanced_duration,y=e.is_minimized,v=e.min_value,b=e.max_value,g=e.onChange,h=e.onChangeUiStore,j=e.onChangeMultiple,x=e.simple_duration_unit,k=e.server_time,C=e.start_date,E=e.market_open_times,w=[{text:Object(O.localize)("Duration"),value:"duration"}],T=w.find((function(e){return"endtime"===e.value}));if(1===o.length&&"t"===i?T&&w.pop():T||w.push({text:Object(O.localize)("End time"),value:"endtime"}),y){var S=Object(B.toMoment)(u),P=(o.find((function(e){return e.value===i}))||{}).text;return s.createElement("div",{className:"fieldset-minimized fieldset-minimized__duration"},"duration"===p?"".concat(r," ").concat(P):"".concat(S.format("ddd - DD MMM, YYYY"),"\n").concat(_))}var M=function(e){var t=e.target,n=t.name,r=t.value,a=d(r);h({name:n,value:r}),j({duration_unit:r,duration:a})},D={shared_input:{is_hj_whitelisted:!0,onChange:function(e){var n=e.target,r=n.name,a=n.value,i="duration_".concat(f?t:x);h({name:i,value:+a}),g({target:{name:r,value:+a}})},max_value:b,min_value:v},number_input:{type:"number",is_incrementable:!0}},N=w.length>1||o.length>1;return s.createElement(l.a,{className:a()("trade-container__fieldset",{"trade-container__fieldset--advanced":f})},!N&&s.createElement(V,Fe({name:"duration",value:c},D.shared_input)),N&&s.createElement(s.Fragment,null,f&&s.createElement(Ae,{advanced_expiry_type:n,advanced_duration_unit:t,changeDurationUnit:M,duration_t:c,duration_units_list:o,expiry_date:u,expiry_list:w,expiry_type:p,getDurationFromUnit:d,market_open_times:E,number_input_props:D.number_input,onChange:g,onChangeUiStore:h,server_time:k,shared_input_props:D.shared_input,start_date:C}),!f&&s.createElement(Re,{getDurationFromUnit:d,changeDurationUnit:M,duration_t:c,duration_units_list:o,number_input_props:D.number_input,shared_input_props:D.shared_input,simple_duration_unit:x}),s.createElement(X,{name:"is_advanced_duration",onChange:function(e){var a=e.target,s=a.name,c=a.value;h({name:s,value:c});var l=c?t:x,u=d(l);m(l,c)||(l=o[0].value,h({name:"".concat(c?"advanced":"simple","_duration_unit"),value:l}));var _={};c||"duration"===p||(_.expiry_type="duration"),c&&p!==n&&(_.expiry_type=n),l===i&&u===r||(_.duration_unit=l,_.duration=u),Object.keys(_).length&&j(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ie(Object(n),!0).forEach((function(t){Ye(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},_))},value:f})))};He.propTypes={advanced_duration_unit:o.a.string,advanced_expiry_type:o.a.string,duration:o.a.number,duration_t:o.a.number,duration_unit:o.a.string,duration_units_list:p.PropTypes.arrayOrObservableArray,expiry_date:o.a.oneOfType([o.a.string,o.a.number]),expiry_time:o.a.string,expiry_type:o.a.string,getDurationFromUnit:o.a.func,hasDurationUnit:o.a.func,is_advanced_duration:o.a.bool,is_minimized:o.a.bool,market_open_times:o.a.array,max_value:o.a.number,min_value:o.a.number,onChange:o.a.func,onChangeUiStore:o.a.func,server_time:o.a.object,simple_duration_unit:o.a.string,start_date:o.a.oneOfType([o.a.number,o.a.string]),validation_errors:o.a.object};var qe=He;function Le(e){return(Le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function We(){return(We=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ve(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}return n}(e,t)||$e(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Be(e){return function(e){if(Array.isArray(e))return Ge(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||$e(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $e(e,t){if(e){if("string"==typeof e)return Ge(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ge(e,t):void 0}}function Ge(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Je(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ke(e,t){return(Ke=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Qe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=et(e);if(t){var a=et(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Ze(this,n)}}function Ze(e,t){return!t||"object"!==Le(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function et(e){return(et=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var tt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ke(e,t)}(i,e);var t,n,r,a=Qe(i);function i(){var e;Je(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=a.call.apply(a,[this].concat(n))).hasDurationUnit=function(t,n){var r=Be(e.props.duration_units_list);return r.length>1&&!n&&(r=r.filter((function(e){return"m"===e.value||"t"===e.value}))),r.some((function(e){return e.value===t}))},e.advancedHasWrongExpiry=function(){return e.props.is_advanced_duration&&e.props.expiry_type!==e.props.advanced_expiry_type},e.handleEndTime=function(){e.props.duration_units_list.length>1||e.props.is_advanced_duration?(e.props.is_advanced_duration||e.props.onChangeUiStore({name:"is_advanced_duration",value:!0}),e.props.onChangeUiStore({name:"advanced_expiry_type",value:"endtime"})):e.props.onChange({target:{name:"expiry_type",value:"duration"}})},e}return t=i,(n=[{key:"setDurationUnit",value:function(){var e=this.props.duration_units_list[0].value,t=this.props.getDurationFromUnit(e);this.props.onChangeUiStore({name:"".concat(this.props.is_advanced_duration?"advanced":"simple","_duration_unit"),value:e}),this.props.onChangeMultiple({duration_unit:e,duration:+t})}},{key:"componentDidMount",value:function(){var e=this.props,t=e.advanced_duration_unit,n=e.advanced_expiry_type,r=e.duration,a=e.duration_unit,i=e.expiry_type,o=e.getDurationFromUnit,s=e.is_advanced_duration,c=e.onChange,l=e.onChangeUiStore,u=e.simple_duration_unit,_=s?t:u,p=o(_);a!==_&&l({name:"".concat(s?"advanced":"simple","_duration_unit"),value:a}),+r!=+p&&l({name:"duration_".concat(a),value:r}),"endtime"===i&&this.handleEndTime(),this.advancedHasWrongExpiry()&&c({target:{name:"expiry_type",value:n}}),this.assertDurationIsWithinBoundary(a,p,l,c)}},{key:"componentDidUpdate",value:function(){var e=this.props,t=e.advanced_expiry_type,n=e.duration,r=e.duration_unit,a=e.expiry_type,i=e.getDurationFromUnit,o=e.is_advanced_duration,s=e.onChange,c=e.onChangeUiStore,l=i(r);!o&&"duration"!==a&&s({target:{name:"expiry_type",value:"duration"}}),this.advancedHasWrongExpiry()&&s({target:{name:"expiry_type",value:t}}),n!==l&&c({name:"duration_".concat(r),value:n}),this.assertDurationIsWithinBoundary(r,l,c,s)}},{key:"assertDurationIsWithinBoundary",value:function(e,t,n,r){var a=Ve(Object(D.c)(this.props.duration_min_max,this.props.contract_expiry_type,e),2),i=a[0],o=a[1];"tick"===this.props.contract_expiry_type&&t<i&&(n({name:"duration_".concat(e),value:i}),r({target:{name:"duration",value:i}})),!(t<i)&&t>o&&"d"!==e&&(n({name:"duration_".concat(e),value:o}),r({target:{name:"duration",value:o}}))}},{key:"render",value:function(){var e=this.props,t=e.advanced_duration_unit,n=e.contract_expiry_type,r=e.duration_min_max,a=e.duration_unit,i=e.duration_units_list,o=e.is_advanced_duration,c=e.simple_duration_unit,l=o?t:c,u=!this.hasDurationUnit(l,o),_=!o&&"d"===c&&4===i.length,p=Ve(Object(D.c)(r,n,a),2),d=p[0],m=p[1];return(u||_)&&this.setDurationUnit(),s.createElement(qe,We({hasDurationUnit:this.hasDurationUnit,max_value:m,min_value:d},this.props))}}])&&Xe(t.prototype,n),r&&Xe(t,r),i}(s.Component);tt.propTypes={advanced_duration_unit:o.a.string,advanced_expiry_type:o.a.string,contract_expiry_type:o.a.string,duration:o.a.oneOfType([o.a.number,o.a.string]),duration_d:o.a.number,duration_h:o.a.number,duration_m:o.a.number,duration_min_max:o.a.object,duration_s:o.a.number,duration_t:o.a.oneOfType([o.a.number,o.a.string]),duration_unit:o.a.string,duration_units_list:p.PropTypes.arrayOrObservableArray,expiry_date:o.a.oneOfType([o.a.string,o.a.number]),expiry_time:o.a.string,expiry_type:o.a.string,getDurationFromUnit:o.a.func,is_advanced_duration:o.a.bool,is_minimized:o.a.bool,market_open_times:o.a.array,onChange:o.a.func,onChangeMultiple:o.a.func,onChangeUiStore:o.a.func,sessions:p.PropTypes.arrayOrObservableArray,simple_duration_unit:o.a.string,start_date:o.a.oneOfType([o.a.number,o.a.string]),start_time:o.a.string,symbol:o.a.string};var nt=Object(h.b)((function(e){var t=e.modules,n=e.ui;return{advanced_duration_unit:n.advanced_duration_unit,advanced_expiry_type:n.advanced_expiry_type,contract_expiry_type:t.trade.contract_expiry_type,duration:t.trade.duration,duration_unit:t.trade.duration_unit,duration_units_list:t.trade.duration_units_list,duration_min_max:t.trade.duration_min_max,duration_t:n.duration_t,expiry_date:t.trade.expiry_date,expiry_time:t.trade.expiry_time,expiry_type:t.trade.expiry_type,getDurationFromUnit:n.getDurationFromUnit,is_advanced_duration:n.is_advanced_duration,onChange:t.trade.onChange,onChangeUiStore:n.onChangeUiStore,onChangeMultiple:t.trade.onChangeMultiple,simple_duration_unit:n.simple_duration_unit,start_date:t.trade.start_date,market_open_times:t.trade.market_open_times}}))(tt),rt=n("./Modules/Trading/Components/Form/TradeParams/last-digit.jsx"),at=n("./Modules/Trading/Components/Elements/popover-message-checkbox.jsx");function it(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ot(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var st=function(e){var t=e.cancellation_range_list,n=e.cancellation_duration,r=e.has_cancellation,a=e.has_take_profit,i=e.has_stop_loss,o=e.onChangeMultiple,c=e.should_show_cancellation_warning,u=e.toggleCancellationWarning,_=(a||i)&&c,p=s.createElement(C.a,{id:"dt_cancellation-checkbox_input",onChange:function(){var e=!r;o(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?it(Object(n),!0).forEach((function(t){ot(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):it(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({has_cancellation:e},e?{has_stop_loss:!1,has_take_profit:!1}:{cancellation_price:0}))},name:"has_cancellation",label:Object(O.localize)("Deal cancellation"),defaultChecked:r});return s.createElement(l.a,{className:"trade-container__fieldset"},s.createElement("div",{className:"input-wrapper--inline"},_?s.createElement(x.a,{alignment:"left",classNameBubble:"trade-container__popover",is_bubble_hover_enabled:!0,margin:2,message:s.createElement(at.a,{defaultChecked:!c,message:Object(O.localize)("Take profit and/or stop loss are not available while deal cancellation is active."),name:"should_show_cancellation_warning",onChange:function(){return u()}}),relative_render:!0},p):s.createElement(s.Fragment,null,p),s.createElement(x.a,{alignment:"left",icon:"info",id:"dt_cancellation-checkbox__tooltip",message:Object(O.localize)("Allows you to cancel your trade within a chosen time frame should the market move against your favour."),margin:210,relative_render:!0})),r&&s.createElement(m.a,{id:"dt_cancellation_range",className:"trade-container__multiplier-dropdown",is_alignment_left:!0,is_nativepicker:!1,list:t,name:"cancellation_duration",no_border:!0,value:n,onChange:function(e){var t=e.target,n=t.name,r=t.value;o(ot({has_cancellation:!0,has_take_profit:!1,has_stop_loss:!1},n,r))}}))};st.propTypes={cancellation_range_list:o.a.array,cancellation_duration:o.a.string,has_cancellation:o.a.bool,has_stop_loss:o.a.bool,has_take_profit:o.a.bool,onChangeMultiple:o.a.func,should_show_cancellation_warning:o.a.bool,toggleCancellationWarning:o.a.func};var ct=Object(h.b)((function(e){var t=e.modules,n=e.ui;return{cancellation_range_list:t.trade.cancellation_range_list,cancellation_duration:t.trade.cancellation_duration,has_cancellation:t.trade.has_cancellation,has_stop_loss:t.trade.has_stop_loss,has_take_profit:t.trade.has_take_profit,onChangeMultiple:t.trade.onChangeMultiple,should_show_cancellation_warning:n.should_show_cancellation_warning,toggleCancellationWarning:n.toggleCancellationWarning}}))(st),lt=n("@deriv/components/lib/money"),ut=n.n(lt),_t=(n("@deriv/components/lib/money.css"),function(e){var t=e.amount,n=e.commission,r=e.currency,a=e.multiplier,i=e.multiplier_range_list,o=e.onChange,c=Number(100*n/(a*t)).toFixed(4);return s.createElement(l.a,{className:"trade-container__fieldset trade-container__fieldset__multiplier",is_center:!0,header:Object(O.localize)("Multiplier"),header_tooltip:Object(O.localize)("Your profit is the percentage change in market price times your stake and the multiplier chosen here.")},s.createElement(m.a,{id:"multiplier",className:"trade-container__multiplier-dropdown",is_alignment_left:!0,is_nativepicker:!1,list:i,name:"multiplier",no_border:!0,value:a,onChange:o}),s.createElement(x.a,{alignment:"left",id:"dt_multiplier__tooltip",message:s.createElement(O.Localize,{i18n_default_text:"<0>{{commission_percentage}}%</0> of (<1/> * {{multiplier}})",values:{commission_percentage:c,multiplier:a},components:[s.createElement("span",{className:"bold",key:0}),s.createElement(ut.a,{key:1,amount:t,currency:r})]}),relative_render:!0},s.createElement("p",{className:"trade-container__fieldset-tooltip-text"},s.createElement(O.Localize,{i18n_default_text:"Commission: <0/>",components:[s.createElement(ut.a,{key:0,amount:n,currency:r})]}))))});_t.propTypes={amount:o.a.oneOfType([o.a.number,o.a.string]),commission:o.a.number,currency:o.a.string,multiplier:o.a.oneOfType([o.a.number,o.a.string]),multiplier_range_list:p.PropTypes.arrayOrObservableArray,onChange:o.a.func};var pt=Object(h.b)((function(e){var t=e.modules;return{amount:t.trade.amount,commission:t.trade.commission,currency:t.trade.currency,multiplier:t.trade.multiplier,multiplier_range_list:t.trade.multiplier_range_list,onChange:t.trade.onChange}}))(_t),dt=n("./App/Components/Form/InputField/input-with-checkbox.jsx");function mt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ft(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var yt=function(e){var t=e.amount,n=e.currency,r=e.has_stop_loss,a=e.is_single_currency,i=e.onChange,o=e.onChangeMultiple,c=e.stop_loss,u=e.validation_errors;return s.createElement(l.a,{className:"trade-container__fieldset"},s.createElement(dt.a,{classNameInlinePrefix:"trade-container__currency",classNameInput:"trade-container__input",currency:n,defaultChecked:r,error_messages:r?u.stop_loss:void 0,is_single_currency:a,is_negative_disabled:!0,is_input_hidden:!r,label:Object(O.localize)("Stop loss"),max_value:+t,name:"stop_loss",onChange:function(e){if("has_stop_loss"===e.target.name){var t=e.target.value;o(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mt(Object(n),!0).forEach((function(t){ft(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}(ft({},e.target.name,t),t?{has_cancellation:!1}:{}))}else i(e)},tooltip_label:Object(O.localize)("Your contract is closed automatically when your loss is more than or equals to this amount."),value:c}))};yt.propTypes={amount:o.a.oneOfType([o.a.number,o.a.string]),currency:o.a.string,has_stop_loss:o.a.bool,is_single_currency:o.a.bool,onChange:o.a.func,onChangeMultiple:o.a.func,stop_loss:o.a.oneOfType([o.a.number,o.a.string]),validation_errors:o.a.object};var vt=Object(h.b)((function(e){var t=e.modules;return{is_single_currency:e.client.is_single_currency,amount:t.trade.amount,currency:t.trade.currency,has_cancellation:t.trade.has_cancellation,has_stop_loss:t.trade.has_stop_loss,onChange:t.trade.onChange,onChangeMultiple:t.trade.onChangeMultiple,stop_loss:t.trade.stop_loss,validation_errors:t.trade.validation_errors}}))(yt);function bt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ht=function(e){var t=e.currency,n=e.has_take_profit,r=e.is_single_currency,a=e.onChange,i=e.onChangeMultiple,o=e.take_profit,c=e.validation_errors;return s.createElement(l.a,{className:"trade-container__fieldset"},s.createElement(dt.a,{classNameInlinePrefix:"trade-container__currency",classNameInput:"trade-container__input",currency:t,defaultChecked:n,error_messages:n?c.take_profit:void 0,is_single_currency:r,is_negative_disabled:!0,is_input_hidden:!n,label:Object(O.localize)("Take profit"),name:"take_profit",onChange:function(e){if("has_take_profit"===e.target.name){var t=e.target.value;i(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bt(Object(n),!0).forEach((function(t){gt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}(gt({},e.target.name,t),t?{has_cancellation:!1}:{}))}else a(e)},tooltip_label:Object(O.localize)("Your contract is closed automatically when your profit is more than or equals to this amount."),value:o}))};ht.propTypes={currency:o.a.string,has_take_profit:o.a.bool,is_single_currency:o.a.bool,onChange:o.a.func,onChangeMultiple:o.a.func,take_profit:o.a.oneOfType([o.a.number,o.a.string]),validation_errors:o.a.object};var Ot=Object(h.b)((function(e){var t=e.modules;return{is_single_currency:e.client.is_single_currency,currency:t.trade.currency,has_take_profit:t.trade.has_take_profit,onChange:t.trade.onChange,onChangeMultiple:t.trade.onChangeMultiple,take_profit:t.trade.take_profit,validation_errors:t.trade.validation_errors}}))(ht);function jt(e){return(jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ct(e,t){return(Ct=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Et(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Tt(e);if(t){var a=Tt(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return wt(this,n)}}function wt(e,t){return!t||"object"!==jt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Tt(e){return(Tt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var St=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ct(e,t)}(i,e);var t,n,r,a=Et(i);function i(){return xt(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"isVisible",value:function(e){return this.props.form_components.includes(e)}},{key:"render",value:function(){var e=this.props.is_minimized;return s.createElement(s.Fragment,null,this.isVisible("duration")&&s.createElement(nt,{key:"duration",is_minimized:e}),this.isVisible("barrier")&&s.createElement(M.a,{key:"barrier",is_minimized:e}),this.isVisible("last_digit")&&s.createElement(rt.a,{key:"last_digit",is_minimized:e}),this.isVisible("amount")&&s.createElement(P,{key:"amount",is_minimized:e}),this.isVisible("multiplier")&&s.createElement(pt,{key:"multiplier"}),this.isVisible("take_profit")&&s.createElement(Ot,{key:"take_profit"}),this.isVisible("stop_loss")&&s.createElement(vt,{key:"stop_loss"}),this.isVisible("cancellation")&&s.createElement(ct,{key:"cancellation"}))}}])&&kt(t.prototype,n),r&&kt(t,r),i}(s.Component);St.propTypes={form_components:p.PropTypes.arrayOrObservableArray,is_minimized:o.a.bool};var Pt=Object(h.b)((function(e){return{form_components:e.modules.trade.form_components}}))(St),Mt=function(e){var t=e.is_market_closed,n=e.is_trade_enabled;return s.createElement("div",{className:a()("sidebar__items",{"sidebar__items--market-closed":t})},n?s.createElement(s.Fragment,null,s.createElement(l.a,{className:"trade-container__fieldset trade-types"},s.createElement(u.a,null)),s.createElement(Pt,null),s.createElement("div",{className:"purchase-container"},s.createElement(_.a,null))):s.createElement(c.c,{speed:2}))};Mt.propTypes={is_market_closed:o.a.bool,is_trade_enabled:o.a.bool};t.default=Mt}}]);
//# sourceMappingURL=trader.screen-large.9b1050d17a4dedea5be8.js.map
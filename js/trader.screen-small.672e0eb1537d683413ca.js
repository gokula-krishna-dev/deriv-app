(window.webpackJsonp_deriv_trader=window.webpackJsonp_deriv_trader||[]).push([["screen-small"],{"./Modules/Trading/Components/Form/screen-small.jsx":function(t,e,r){"use strict";r.r(e);var a=r("../node_modules/prop-types/index.js"),n=r.n(a),o=r("react"),i=r("@deriv/components/lib/collapsible"),u=r.n(i),s=(r("@deriv/components/lib/collapsible.css"),r("./App/Components/Elements/ContentLoader/index.js")),l=r("../node_modules/classnames/index.js"),c=r.n(l),d=r("@deriv/components/lib/checkbox"),_=r.n(d),m=(r("@deriv/components/lib/checkbox.css"),r("@deriv/translations")),p=r("./Stores/connect.js"),b=function(t){var e=t.onChange,r=t.is_allow_equal,a=t.className;return o.createElement("div",{className:c()("allow-equals","mobile-widget",a)},o.createElement(_.a,{label:Object(m.localize)("Equals"),value:r,name:"is_equal",onChange:function(t){t.persist();var r=t.target,a=r.name,n=r.checked;e({target:{name:a,value:Number(n)}})}}),o.createElement("p",{className:"allow-equals__subtitle"},o.createElement(m.Localize,{i18n_default_text:"Win payout if exit spot is also equal to entry spot."})))};b.propTypes={is_allow_equal:n.a.bool,onChange:n.a.func};var f=Object(p.b)((function(t){var e=t.modules;return{is_allow_equal:!!e.trade.is_equal,onChange:e.trade.onChange}}))(b),v=r("./Stores/Modules/Trading/Helpers/allow-equals.js"),y=r("@deriv/components/lib/money"),h=r.n(y),g=(r("@deriv/components/lib/money.css"),r("./Stores/Modules/Trading/Helpers/duration.js")),E=r("./Stores/Modules/Trading/Constants/contract.js"),x=r("@deriv/components/lib/div100vh-container"),O=r.n(x),j=(r("@deriv/components/lib/div100vh-container.css"),r("@deriv/components/lib/tabs")),S=r.n(j),w=(r("@deriv/components/lib/tabs.css"),r("@deriv/components/lib/modal")),k=r.n(w),T=(r("@deriv/components/lib/modal.css"),r("@deriv/components/lib/numpad")),D=r.n(T),C=(r("@deriv/components/lib/numpad.css"),r("@deriv/shared/utils/object")),M=r.n(C),A=r("@deriv/shared/utils/currency"),I=r.n(A),N=Object(p.b)((function(t){var e=t.modules,r=t.client,a=t.ui;return{onChangeMultiple:e.trade.onChangeMultiple,trade_amount:e.trade.amount,trade_basis:e.trade.basis,trade_duration_unit:e.trade.duration_unit,trade_duration:e.trade.duration,currency:r.currency,setToastErrorMessage:a.setToastErrorMessage,setToastErrorVisibility:a.setToastErrorVisibility}}))((function(t){var e=t.duration_unit,r=t.duration_value,a=t.toggleModal,n=t.basis,i=t.has_duration_error,u=t.selected_basis,s=t.setSelectedAmount,l=t.onChangeMultiple,c=t.currency,d=t.trade_amount,_=t.trade_basis,p=t.trade_duration,b=t.trade_duration_unit,f=t.setAmountError,v=t.setToastErrorMessage,y=t.setToastErrorVisibility,g=I.a.getDecimalPlaces(c),E=Number("0").toFixed(I.a.getDecimalPlaces(c)),x=parseFloat(E.toString().replace(/.$/,"1")),O=function(t){var e=o.createElement(m.Localize,{i18n_default_text:"Should not be 0 or empty"}),r=parseFloat(t.toString());return"0."===t.toString()||0===r?(v(e,2e3),y(!0),f(!0),"error"):isNaN(r)||r<x||t.toString().length<1?(v(e,2e3),y(!0),f(!0),!1):(y(!1),f(!1),!0)};return o.createElement("div",{className:"trade-params__amount-keypad"},o.createElement(D.a,{value:u,format:function(t){return isNaN(t)||""===t?t:Number(t).toFixed(g)},onSubmit:function(t){var o={};e===b||i||(o.duration_unit=e),r===p||i||(o.duration=r),t===d&&n===_||(o.basis=n,o.amount=t),M.a.isEmptyObject(o)||l(o),a()},currency:c,min:x,is_currency:!0,render:function(t){var e=t.value,r=t.className;return o.createElement("div",{className:r},parseFloat(e)>0?o.createElement(h.a,{currency:c,amount:e,should_format:!1}):e)},reset_press_interval:450,reset_value:"",pip_size:g,onValidate:O,submit_label:Object(m.localize)("OK"),onValueChange:function(t){s(n,t),O(t)}}))})),P=Object(p.b)((function(t){var e=t.modules;return{basis:e.trade.basis,basis_list:e.trade.basis_list,onChangeMultiple:e.trade.onChangeMultiple}}))((function(t){var e=t.toggleModal,r=t.basis_list,a=t.basis,n=t.duration_value,i=t.duration_unit,u=t.has_duration_error,s=t.amount_tab_idx,l=t.setAmountError,c=t.setAmountTabIdx,d=t.setSelectedAmount,_=t.stake_value,m=t.payout_value,p=void 0!==s?s:r.findIndex((function(t){return t.value===a}));return o.createElement("div",null,o.createElement(S.a,{active_index:p,onTabItemClick:c,top:!0},r.map((function(t){switch(t.value){case"stake":return o.createElement("div",{label:t.text,key:t.value},o.createElement(N,{toggleModal:e,duration_value:n,duration_unit:i,has_duration_error:u,basis:t.value,setAmountError:l,selected_basis:_,setSelectedAmount:d}));case"payout":return o.createElement("div",{label:t.text,key:t.value},o.createElement(N,{toggleModal:e,duration_value:n,duration_unit:i,has_duration_error:u,basis:t.value,setAmountError:l,selected_basis:m,setSelectedAmount:d}));default:return null}}))))})),z=r("@deriv/components/lib/tick-picker"),R=r.n(z),V=(r("@deriv/components/lib/tick-picker.css"),r("@deriv/components/lib/relative-datepicker")),q=r.n(V);r("@deriv/components/lib/relative-datepicker.css");function F(t){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function W(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],a=!0,n=!1,o=void 0;try{for(var i,u=t[Symbol.iterator]();!(a=(i=u.next()).done)&&(r.push(i.value),!e||r.length!==e);a=!0);}catch(t){n=!0,o=t}finally{try{a||null==u.return||u.return()}finally{if(n)throw o}}return r}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return U(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return U(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,a=new Array(e);r<e;r++)a[r]=t[r];return a}function L(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function H(t,e){for(var r=0;r<e.length;r++){var a=e[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function Z(t,e){return(Z=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function $(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,a=J(t);if(e){var n=J(this).constructor;r=Reflect.construct(a,arguments,n)}else r=a.apply(this,arguments);return B(this,r)}}function B(t,e){return!e||"object"!==F(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function J(t){return(J=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var K=Object(m.localize)("OK"),G=function(t,e,r,a,n,o){"stake"===a&&e!==o?(t.basis="stake",t.amount=e):"payout"===a&&r!==o?(t.basis="payout",t.amount=r):n!==a&&(t.basis=a,t.amount=o)},Q=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Z(t,e)}(i,t);var e,r,a,n=$(i);function i(){return L(this,i),n.apply(this,arguments)}return e=i,(r=[{key:"componentDidMount",value:function(){this.props.setDurationError(!1)}},{key:"render",value:function(){var t=this.props,e=t.basis_option,r=t.toggleModal,a=t.onChangeMultiple,n=t.duration_min_max,i=t.has_amount_error,u=t.trade_duration,s=t.trade_basis,l=t.trade_amount,c=t.trade_duration_unit,d=t.payout_value,_=t.stake_value,p=t.selected_duration,b=t.setSelectedDuration,f=W(Object(g.c)(n,"tick","t"),2),v=f[0],y=f[1],h="t"===c&&u>=v,E=u<v&&p<v?v:p;return o.createElement("div",{className:"trade-params__duration-tickpicker"},o.createElement(R.a,{default_value:h?u:E,submit_label:K,max_value:y,min_value:v,onSubmit:function(t){var n=t.target.value,o={};i||G(o,_,d,e,s,l),u===n&&"t"===c||(o.duration_unit="t",o.duration=n),M.a.isEmptyObject(o)||a(o),r()},onValueChange:function(t){return b("t",t)},singular_label:Object(m.localize)("Tick"),plural_label:Object(m.localize)("Ticks")}))}}])&&H(e.prototype,r),a&&H(e,a),i}(o.Component),X=Object(p.b)((function(t){var e=t.modules;return{duration_min_max:e.trade.duration_min_max,onChangeMultiple:e.trade.onChangeMultiple,trade_basis:e.trade.basis,trade_amount:e.trade.amount,trade_duration:e.trade.duration,trade_duration_unit:e.trade.duration_unit}}))(Q),Y=Object(p.b)((function(t){var e=t.modules,r=t.ui;return{duration_min_max:e.trade.duration_min_max,trade_duration:e.trade.duration,trade_duration_unit:e.trade.duration_unit,trade_basis:e.trade.basis,trade_amount:e.trade.amount,onChangeMultiple:e.trade.onChangeMultiple,setToastErrorMessage:r.setToastErrorMessage,setToastErrorVisibility:r.setToastErrorVisibility}}))((function(t){var e=t.setDurationError,r=t.basis_option,a=t.toggleModal,n=t.onChangeMultiple,i=t.duration_min_max,u=t.duration_unit_option,s=t.has_amount_error,l=t.contract_expiry,c=void 0===l?"intraday":l,d=t.payout_value,_=t.stake_value,p=t.trade_amount,b=t.trade_basis,f=t.trade_duration_unit,v=t.trade_duration,y=t.selected_duration,h=t.setSelectedDuration,E=t.setToastErrorMessage,x=t.setToastErrorVisibility,O=u.value,j=W(Object(g.c)(i,c,O),2),S=j[0],w=j[1],k=function(t){var r=o.createElement(m.Localize,{i18n_default_text:"Should be between {{min}} and {{max}}",values:{min:S,max:Object(A.addComma)(w,0,!1)}});return parseInt(t)<S||parseInt(y)>w?(E(r,2e3),x(!0),e(!0),"error"):parseInt(t)>w?(E(r,2e3),x(!0),"error"):t.toString().length<1?(E(r,2e3),x(!0),e(!0),!1):(x(!1),e(!1),!0)};return o.createElement("div",{className:"trade-params__amount-keypad"},o.createElement(D.a,{value:y,onSubmit:function(t){var e={};s||G(e,_,d,r,b,p),v===t&&f===O||(e.duration_unit=O,e.duration=t,e.expiry_type="duration"),M.a.isEmptyObject(e)||n(e),a()},render:function(t){var e=t.value,r=t.className;return o.createElement("div",{className:r},e)},pip_size:0,submit_label:K,min:S,max:w,reset_press_interval:350,reset_value:"",onValidate:k,onValueChange:function(t){h(O,t),k(t)}}))})),tt=Object(p.b)((function(t){var e=t.modules;return{duration_units_list:e.trade.duration_units_list,duration_min_max:e.trade.duration_min_max,duration_unit:e.trade.duration_unit,trade_basis:e.trade.basis}}))((function(t){var e=t.amount_tab_idx,r=t.toggleModal,a=t.duration_units_list,n=t.duration_unit,i=t.duration_tab_idx,u=t.duration_min_max,s=t.has_amount_error,l=t.setDurationTabIdx,c=t.setDurationError,d=t.t_duration,_=t.s_duration,p=t.m_duration,b=t.h_duration,f=t.d_duration,v=t.setSelectedDuration,y=t.trade_basis,h=t.stake_value,E=t.payout_value,x={t_duration:d,s_duration:_,m_duration:p,h_duration:b,d_duration:f},O=void 0!==i?i:a.findIndex((function(t){return t.value===n})),j=W(Object(g.c)(u,"daily","d"),2),w=j[0],k=j[1],T=function(t){v("d",t)},D=function(){return 0===e?"stake":1===e?"payout":y};return o.createElement("div",null,o.createElement(S.a,{active_index:O,onTabItemClick:function(t){return function(t){l(t);var e=a[t].value;v(e,x["".concat(e,"_duration")])}(t)},single_tab_has_no_label:!0,top:!0},a.map((function(t){switch(t.value){case"t":return o.createElement("div",{label:t.text,key:t.value},o.createElement(X,{basis_option:D(),has_amount_error:s,toggleModal:r,selected_duration:d,setDurationError:c,setSelectedDuration:v,stake_value:h,payout_value:E}));case"s":return o.createElement("div",{label:t.text,key:t.value},o.createElement(Y,{basis_option:D(),has_amount_error:s,toggleModal:r,duration_unit_option:t,selected_duration:_,setDurationError:c,setSelectedDuration:v,stake_value:h,payout_value:E}));case"m":return o.createElement("div",{label:t.text,key:t.value},o.createElement(Y,{basis_option:D(),has_amount_error:s,toggleModal:r,duration_unit_option:t,selected_duration:p,setDurationError:c,setSelectedDuration:v,stake_value:h,payout_value:E}));case"h":return o.createElement("div",{label:t.text,key:t.value},o.createElement(Y,{basis_option:D(),has_amount_error:s,toggleModal:r,duration_unit_option:t,selected_duration:b,setDurationError:c,setSelectedDuration:v,stake_value:h,payout_value:E}));case"d":return o.createElement("div",{label:t.text,key:t.value},o.createElement(Y,{basis_option:D(),has_amount_error:s,toggleModal:r,duration_unit_option:t,contract_expiry:"daily",selected_duration:f,setDurationError:c,setSelectedDuration:v,stake_value:h,payout_value:E}),o.createElement(q.a,{onChange:T,min:w,max:k,title:Object(m.localize)("Pick an end date")}));default:return null}}))))})),et=r("./Modules/Trading/Components/Form/TradeParams/barrier.jsx"),rt=r("./Modules/Trading/Components/Form/TradeParams/last-digit.jsx"),at=r("./Modules/Trading/Containers/toast-error-popup.jsx");r("./sass/app/modules/trading-mobile.scss");function nt(t){return(nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ot(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function it(t,e){for(var r=0;r<e.length;r++){var a=e[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function ut(t,e){return(ut=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function st(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,a=ct(t);if(e){var n=ct(this).constructor;r=Reflect.construct(a,arguments,n)}else r=a.apply(this,arguments);return lt(this,r)}}function lt(t,e){return!e||"object"!==nt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ct(t){return(ct=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var dt=Object.freeze({t:5,s:15,m:3,h:1,d:1}),_t=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ut(t,e)}(i,t);var e,r,a,n=st(i);function i(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=n.call(this,t)).preventIOSZoom=function(t){t.touches.length>1&&(t.preventDefault(),t.stopPropagation())},e.setTradeParamTabIdx=function(t){return e.setState({trade_param_tab_idx:t})},e.setDurationTabIdx=function(t){return e.setState({duration_tab_idx:t})},e.setAmountTabIdx=function(t){return e.setState({amount_tab_idx:t})},e.setSelectedAmount=function(t,r){return e.setState(ot({},"".concat(t,"_value"),r))},e.setSelectedDuration=function(t,r){var a;e.setState((ot(a={},"".concat(t,"_duration"),r),ot(a,"curr_duration_unit",t),ot(a,"curr_duration_value",r),a))},e.setAmountError=function(t){e.setState({has_amount_error:t})},e.setDurationError=function(t){e.setState({has_duration_error:t})},e.isVisible=function(t){return e.props.form_components.includes(t)};var r,a,o=e.props,u=o.amount,s=o.duration,l=o.duration_unit,c=(r=s,a=l,function(t){return a===t?r:dt[t]});return e.state={trade_param_tab_idx:0,duration_tab_idx:void 0,amount_tab_idx:void 0,has_amount_error:!1,has_duration_error:!1,curr_duration_unit:l,curr_duration_value:s,t_duration:c("t"),s_duration:c("s"),m_duration:c("m"),h_duration:c("h"),d_duration:c("d"),stake_value:u,payout_value:u},e}return e=i,(r=[{key:"componentDidMount",value:function(){var t=this;document.addEventListener("touchstart",(function(e){return t.preventIOSZoom(e)}),{passive:!1})}},{key:"componentDidUpdate",value:function(t){this.props.duration===t.duration&&this.props.duration_unit===t.duration_unit||(this.setSelectedDuration(this.props.duration_unit,this.props.duration),this.setState({duration_tab_idx:void 0}))}},{key:"componentWillUnmount",value:function(){var t=this;document.removeEventListener("touchstart",(function(e){return t.preventIOSZoom(e)}))}},{key:"render",value:function(){var t=this.props,e=t.currency,r=t.duration_units_list;return o.createElement(o.Fragment,null,o.createElement(at.b,{portal_id:this.props.is_open?"modal_root":null,className:c()("trade-params__error-popup",{"trade-params__error-popup--has-numpad":this.props.is_open})}),o.createElement(k.a,{id:"dt_trade_parameters_mobile",className:"trade-params",enableApp:this.props.enableApp,is_open:this.props.is_open,is_vertical_top:!0,header:o.createElement("div",null),disableApp:this.props.disableApp,toggleModal:this.props.toggleModal,height:"auto",width:"calc(100vw - 32px)"},o.createElement(O.a,{className:"mobile-widget-dialog__wrapper",max_autoheight_offset:"48px"},o.createElement(pt,{currency:e,toggleModal:this.props.toggleModal,isVisible:this.isVisible,setTradeParamTabIdx:this.setTradeParamTabIdx,trade_param_tab_idx:this.state.trade_param_tab_idx,setDurationTabIdx:this.setDurationTabIdx,duration_tab_idx:this.state.duration_tab_idx,setAmountTabIdx:this.setAmountTabIdx,amount_tab_idx:this.state.amount_tab_idx,setSelectedAmount:this.setSelectedAmount,stake_value:this.state.stake_value,payout_value:this.state.payout_value,duration_unit:this.state.curr_duration_unit,duration_value:this.state.curr_duration_value,duration_units_list:r,has_amount_error:this.state.has_amount_error,setAmountError:this.setAmountError,setSelectedDuration:this.setSelectedDuration,has_duration_error:this.state.has_duration_error,setDurationError:this.setDurationError,t_duration:this.state.t_duration,s_duration:this.state.s_duration,m_duration:this.state.m_duration,h_duration:this.state.h_duration,d_duration:this.state.d_duration}))))}}])&&it(e.prototype,r),a&&it(e,a),i}(o.Component),mt=Object(p.b)((function(t){var e=t.client,r=t.modules,a=t.ui;return{amount:r.trade.amount,form_components:r.trade.form_components,currency:e.currency,duration:r.trade.duration,duration_unit:r.trade.duration_unit,duration_units_list:r.trade.duration_units_list,expiry_type:r.trade.expiry_type,enableApp:a.enableApp,disableApp:a.disableApp}}))(_t),pt=Object(p.b)((function(t){var e=t.modules;return{basis_list:e.trade.basis_list,basis:e.trade.basis}}))((function(t){var e=t.currency,r=t.toggleModal,a=t.isVisible,n=t.setAmountTabIdx,i=t.amount_tab_idx,u=t.setTradeParamTabIdx,s=t.trade_param_tab_idx,l=t.setDurationTabIdx,d=t.duration_unit,_=t.duration_units_list,p=t.duration_value,b=t.duration_tab_idx,f=t.has_amount_error,v=t.has_duration_error,y=t.setAmountError,g=t.setSelectedAmount,E=t.stake_value,x=t.payout_value,O=t.setDurationError,j=t.setSelectedDuration,w=t.t_duration,k=t.s_duration,T=t.m_duration,D=t.h_duration,C=t.d_duration,M=t.basis_list,A=t.basis,I=function(t){switch(t){case"duration":return o.createElement("div",{className:"trade-params__header"},o.createElement("div",{className:"trade-params__header-label"},Object(m.localize)("Duration")),o.createElement("div",{className:c()("trade-params__header-value",{"trade-params__header-value--has-error":v})},v?Object(m.localize)("Error"):(a=_.find((function(t){return t.value===d})),"".concat(p," ").concat(a&&(p>1?Object(m.localize)(a.text):Object(m.localize)(a.text.slice(0,-1)))))));case"amount":return o.createElement("div",{className:"trade-params__header"},o.createElement("div",{className:"trade-params__header-label"},Object(m.localize)("Amount")),o.createElement("div",{className:c()("trade-params__header-value",{"trade-params__header-value--has-error":f})},f?Object(m.localize)("Error"):(r=void 0!==i?i:M.findIndex((function(t){return t.value===A})),o.createElement(h.a,{currency:e,amount:1===r?x:E}))));default:return null}var r,a};return o.createElement(S.a,{active_index:s,className:"trade-params-duration-amount",onTabItemClick:u,top:!0},a("duration")&&o.createElement("div",{header_content:I("duration")},o.createElement(tt,{toggleModal:r,amount_tab_idx:i,duration_tab_idx:b,setDurationTabIdx:l,setSelectedDuration:j,setDurationError:O,has_amount_error:f,t_duration:w,s_duration:k,m_duration:T,h_duration:D,d_duration:C,stake_value:E,payout_value:x})),a("amount")&&o.createElement("div",{header_content:I("amount")},o.createElement(P,{duration_unit:d,duration_value:p,toggleModal:r,amount_tab_idx:i,setAmountTabIdx:n,has_duration_error:v,setSelectedAmount:g,setAmountError:y,stake_value:E,payout_value:x})))})),bt=Object(p.b)((function(t){return{form_components:t.modules.trade.form_components}}))((function(t){return t.form_components.includes("last_digit")&&o.createElement(rt.a,null)})),ft=Object(p.b)((function(t){return{form_components:t.modules.trade.form_components}}))((function(t){return t.form_components.includes("barrier")&&o.createElement(et.a,null)}));function vt(t){return(vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function yt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],a=!0,n=!1,o=void 0;try{for(var i,u=t[Symbol.iterator]();!(a=(i=u.next()).done)&&(r.push(i.value),!e||r.length!==e);a=!0);}catch(t){n=!0,o=t}finally{try{a||null==u.return||u.return()}finally{if(n)throw o}}return r}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return ht(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ht(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ht(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,a=new Array(e);r<e;r++)a[r]=t[r];return a}function gt(t,e){for(var r=0;r<e.length;r++){var a=e[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function Et(t,e){return(Et=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function xt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,a=jt(t);if(e){var n=jt(this).constructor;r=Reflect.construct(a,arguments,n)}else r=a.apply(this,arguments);return Ot(this,r)}}function Ot(t,e){return!e||"object"!==vt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function jt(t){return(jt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var St=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Et(t,e)}(i,t);var e,r,a,n=xt(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=n.call(this,t)).toggleWidget=function(){e.setState({is_open:!e.state.is_open})},e.isVisible=function(t){return e.props.form_components.includes(t)},e.state={is_open:!1},e}return e=i,(r=[{key:"componentDidUpdate",value:function(){this.assertDurationIsWithinBoundary()}},{key:"assertDurationIsWithinBoundary",value:function(){var t=this.props,e=t.duration_min_max,r=t.duration,a=t.duration_unit,n=t.trade_store,o=t.onChange,i=t.onChangeUiStore,u=Object(g.d)(n),s=yt(Object(g.c)(e,u,a),2),l=s[0],c=s[1];"tick"===u&&r<l&&(i({name:"duration_".concat(a),value:l}),o({target:{name:"duration",value:l}})),!(r<l)&&r>c&&(i({name:"duration_".concat(a),value:c}),o({target:{name:"duration",value:c}}))}},{key:"getHumanReadableDuration",value:function(){var t=this.props,e=t.duration,r=t.duration_unit,a={t:[Object(m.localize)("tick"),Object(m.localize)("ticks")],s:[Object(m.localize)("second"),Object(m.localize)("seconds")],m:[Object(m.localize)("min"),Object(m.localize)("mins")],h:[Object(m.localize)("hour"),Object(m.localize)("hours")],d:[Object(m.localize)("day"),Object(m.localize)("days")]},n=1==+e?a[r][0]:a[r][1];return"".concat(e," ").concat(n)}},{key:"render",value:function(){var t=this.props,e=t.amount,r=t.basis,a=t.currency,n=t.last_digit,i=Object(E.c)();return o.createElement("div",{className:"mobile-widget__wrapper"},o.createElement("div",{className:"mobile-widget",onClick:this.toggleWidget},o.createElement("div",{className:"mobile-widget__duration"},this.getHumanReadableDuration()),o.createElement("div",{className:"mobile-widget__amount"},o.createElement(h.a,{amount:e,currency:a})),o.createElement("div",{className:"mobile-widget__type"},function(){switch(r){case"stake":return i.stake;case"payout":return i.payout;default:return r}}())),o.createElement(mt,{is_open:this.state.is_open,toggleModal:this.toggleWidget}),this.isVisible("last_digit")&&this.props.is_collapsed&&o.createElement("div",{className:"mobile-widget",onClick:this.props.toggleDigitsWidget},o.createElement("div",{className:"mobile-widget__amount"},o.createElement(m.Localize,{i18n_default_text:"Digit: {{last_digit}} ",values:{last_digit:n}}))))}}])&&gt(e.prototype,r),a&&gt(e,a),i}(o.Component),wt=Object(p.b)((function(t){var e=t.modules,r=t.ui;return{amount:e.trade.amount,basis:e.trade.basis,currency:e.trade.currency,duration:e.trade.duration,duration_unit:e.trade.duration_unit,onChange:e.trade.onChange,onChangeUiStore:r.onChangeUiStore,duration_min_max:e.trade.duration_min_max,trade_store:e.trade,form_components:e.trade.form_components,last_digit:e.trade.last_digit}}))(St),kt=r("./Modules/Trading/Containers/contract-type.jsx"),Tt=r("./Modules/Trading/Containers/purchase.jsx");r("./sass/app/_common/mobile-widget.scss");function Dt(){return(Dt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t}).apply(this,arguments)}function Ct(t,e){if(null==t)return{};var r,a,n=function(t,e){if(null==t)return{};var r,a,n={},o=Object.keys(t);for(a=0;a<o.length;a++)r=o[a],e.indexOf(r)>=0||(n[r]=t[r]);return n}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)r=o[a],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}var Mt=function(t){var e=t.form_components,r=t.has_allow_equals,a=t.previous_symbol,n=t.is_allow_equal,i=t.is_trade_params_expanded,s=t.setIsTradeParamsExpanded;o.useEffect((function(){a&&n&&r&&s(!0)}),[a]);var l=!i,c=function(t){return e.includes(t)};return o.createElement(u.a,{position:"top",is_collapsed:l,onClick:function(t){s(t)}},o.createElement(kt.a,null),c("last_digit")&&o.createElement("div",{collapsible:"true"},o.createElement(bt,null)),c("barrier")&&o.createElement("div",{collapsible:"true"},o.createElement(ft,null)),o.createElement(wt,{is_collapsed:l,toggleDigitsWidget:function(){s(!0)}}),r&&o.createElement(f,{collapsible:"true"}),o.createElement("div",{className:"purchase-container"},o.createElement(Tt.a,null)))},At=function(t){var e=t.is_trade_enabled,r=t.duration_unit,a=t.contract_types_list,n=t.contract_type,i=t.expiry_type,u=t.contract_start_type,l=Ct(t,["is_trade_enabled","duration_unit","contract_types_list","contract_type","expiry_type","contract_start_type"]),c=Object(v.b)(a,r,u),d=Object(v.a)(a),_=Object(v.c)(n)&&(c||"endtime"===i)&&d;return e?o.createElement(Mt,Dt({has_allow_equals:_},l)):o.createElement("div",{className:"mobile-wrapper__content-loader"},o.createElement(s.c,{speed:2}))};At.propTypes={is_trade_enabled:n.a.bool};e.default=Object(p.b)((function(t){var e=t.modules;return{is_allow_equal:!!e.trade.is_equal,duration_unit:e.trade.duration_unit,contract_types_list:e.trade.contract_types_list,contract_type:e.trade.contract_type,expiry_type:e.trade.expiry_type,contract_start_type:e.trade.contract_start_type,form_components:e.trade.form_components,previous_symbol:e.trade.previous_symbol,is_trade_params_expanded:e.trade.is_trade_params_expanded,setIsTradeParamsExpanded:e.trade.setIsTradeParamsExpanded}}))(At)},"./sass/app/_common/mobile-widget.scss":function(t,e,r){},"./sass/app/modules/trading-mobile.scss":function(t,e,r){}}]);
//# sourceMappingURL=trader.screen-small.672e0eb1537d683413ca.js.map
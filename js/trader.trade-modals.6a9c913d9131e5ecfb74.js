(window.webpackJsonp_deriv_trader=window.webpackJsonp_deriv_trader||[]).push([["trade-modals"],{"./App/Containers/Modals/index.js":function(e,t,o){"use strict";o.r(t),o.d(t,"default",(function(){return q}));var r=o("react"),n=o("@deriv/shared/utils/storage"),i=o("@deriv/shared/utils/url"),a=o("./Stores/connect.js"),l=o("@deriv/components/lib/dialog"),s=o.n(l),c=(o("@deriv/components/lib/dialog.css"),o("../node_modules/prop-types/index.js")),u=o.n(c),p=o("@deriv/translations"),b=o("./App/Constants/app-config.js");function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=y(e);if(t){var n=y(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return g(this,o)}}function g(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(a,e);var t,o,n,i=v(a);function a(){return _(this,a),i.apply(this,arguments)}return t=a,(o=[{key:"render",value:function(){var e=this.props,t=e.disableApp,o=e.enableApp,n=e.is_loading,i=e.is_visible,a=e.onConfirm,l=e.onClose;return r.createElement(s.a,{title:Object(p.localize)("We’re working on it"),confirm_button_text:Object(p.localize)("Stay on {{website_domain}}",{website_domain:b.website_domain}),cancel_button_text:Object(p.localize)("Go to Binary.com"),onConfirm:a,onCancel:l,disableApp:t,enableApp:o,is_loading:n,is_closed_on_cancel:!0,is_visible:i},r.createElement(p.Localize,{i18n_default_text:"You’ve selected a trade type that is currently unsupported, but we’re working on it."}))}}])&&f(t.prototype,o),n&&f(t,n),a}(r.Component);h.propTypes={disableApp:u.a.func,enableApp:u.a.func,is_loading:u.a.bool,is_visible:u.a.bool,onClose:u.a.func,onConfirm:u.a.func};var j=Object(a.b)((function(e){var t=e.ui;return{disableApp:t.disableApp,enableApp:t.enableApp,is_loading:t.is_loading}}))(h),O=function(e){var t=e.disableApp,o=e.enableApp,n=e.is_loading,i=e.is_visible,a=e.onCancel,l=e.onConfirm;return r.createElement(s.a,{className:"market-unavailable-modal",title:Object(p.localize)("We’re working on it"),confirm_button_text:Object(p.localize)("Stay on DTrader"),cancel_button_text:Object(p.localize)("Go to SmartTrader"),onConfirm:l,onCancel:a,is_mobile_full_width:!1,is_visible:i,disableApp:t,enableApp:o,is_loading:n},r.createElement(p.Localize,{i18n_default_text:"This market is not yet available on DTrader, but it is on SmartTrader."}))};O.propTypes={disableApp:u.a.func,enableApp:u.a.func,is_loading:u.a.bool,is_visible:u.a.bool,onCancel:u.a.func,onConfirm:u.a.func};var C=Object(a.b)((function(e){var t=e.ui;return{disableApp:t.disableApp,enableApp:t.enableApp,is_loading:t.is_loading}}))(O),w=o("@deriv/components/lib/button"),E=o.n(w),A=(o("@deriv/components/lib/button.css"),o("@deriv/components/lib/modal")),z=o.n(A),S=(o("@deriv/components/lib/modal.css"),{buy:Object(p.localize)("Purchase Error"),cancel:Object(p.localize)("Deal Cancellation Error"),contract_update:Object(p.localize)("Contract Update Error"),sell:Object(p.localize)("Sell Error")}),M=o("./_common/base/client_base.js"),k=o("./_common/base/login.js"),P=function(e){var t=e.is_visible,o=e.toggleModal;return r.createElement(z.a,{id:"dt_authorization_required_modal",is_open:t,small:!0,toggleModal:o,title:Object(p.localize)("Start trading with us")},r.createElement(z.a.Body,null,Object(p.localize)("Log in or create a free account to place a trade.")),r.createElement(z.a.Footer,null,r.createElement(E.a,{has_effect:!0,text:Object(p.localize)("Log in"),onClick:function(){return Object(k.redirectToLogin)(M.a.isLoggedIn())},secondary:!0}),r.createElement(E.a,{has_effect:!0,text:Object(p.localize)("Create free account"),onClick:k.redirectToSignUp,primary:!0})))};P.propTypes={is_visible:u.a.bool,toggleModal:u.a.func};var T=P,x=o("react-router-dom"),F=o("@deriv/shared/utils/routes"),R=o.n(F),D=o("@deriv/shared/utils/screen"),I=function(e){var t=e.history,o=e.is_virtual,n=e.is_visible,i=e.message,a=e.toggleModal;return r.createElement(z.a,{id:"dt_insufficient_balance_modal",is_open:n,small:!0,is_vertical_centered:Object(D.isMobile)(),toggleModal:a,title:Object(p.localize)("Insufficient balance")},r.createElement(z.a.Body,null,i),r.createElement(z.a.Footer,null,r.createElement(E.a,{has_effect:!0,text:o?Object(p.localize)("OK"):Object(p.localize)("Deposit now"),onClick:function(){o?a():t.push(R.a.cashier_deposit)},primary:!0})))};I.propTypes={history:u.a.object,is_virtual:u.a.bool,is_visible:u.a.bool,message:u.a.string,toggleModal:u.a.func};var L=Object(x.withRouter)(I),U=function(e){var t=e.is_virtual,o=e.is_visible,n=e.onConfirm,i=e.services_error,a=i.code,l=i.message;return a&&l?"AuthorizationRequired"===a?r.createElement(T,{is_visible:o,toggleModal:n}):"InsufficientBalance"===a?r.createElement(L,{is_virtual:t,is_visible:o,message:l,toggleModal:n}):r.createElement(z.a,{is_open:o,small:!0,title:S[i.type],toggleModal:n},r.createElement(z.a.Body,null,l),r.createElement(z.a.Footer,null,r.createElement(E.a,{has_effect:!0,text:Object(p.localize)("OK"),onClick:n,primary:!0}))):null};U.propTypes={is_visible:u.a.bool,is_virtual:u.a.bool,onConfirm:u.a.func,services_error:u.a.object};var B=U,q=Object(a.b)((function(e){var t=e.ui,o=e.modules,r=e.common,n=e.client;return{is_market_unavailable_visible:t.has_only_forward_starting_contracts,is_services_error_visible:t.is_services_error_visible,is_unsupported_contract_modal_visible:t.is_unsupported_contract_modal_visible,is_virtual:n.is_virtual,proposal_info:o.trade.proposal_info,purchase_info:o.trade.purchase_info,resetPreviousSymbol:o.trade.resetPreviousSymbol,clearPurchaseInfo:o.trade.clearPurchaseInfo,resetPurchase:o.trade.requestProposal,services_error:r.services_error,setHasOnlyForwardingContracts:t.setHasOnlyForwardingContracts,toggleServicesErrorModal:t.toggleServicesErrorModal,toggleUnsupportedContractModal:t.toggleUnsupportedContractModal}}))((function(e){var t=e.clearPurchaseInfo,o=e.is_unsupported_contract_modal_visible,a=e.is_market_unavailable_visible,l=e.is_services_error_visible,s=e.is_virtual,c=e.toggleUnsupportedContractModal,u=e.setHasOnlyForwardingContracts,p=e.resetPreviousSymbol,b=e.toggleServicesErrorModal,d=e.resetPurchase,_=e.services_error,f=function(){u(!1),p()},m=function(){c(!1)};return r.createElement(r.Fragment,null,r.createElement(j,{onConfirm:m,onClose:function(){window.open(Object(i.urlFor)("user/portfoliows",{legacy:!0}),"_blank"),m()},is_visible:o}),r.createElement(C,{onConfirm:function(){f()},onCancel:function(){window.open(Object(n.getUrlSmartTrader)()),f()},is_visible:a}),r.createElement(B,{onConfirm:function(){b(!1),"buy"===_.type&&(t(),d())},services_error:_,is_visible:l,is_virtual:s}))}))}}]);
//# sourceMappingURL=trader.trade-modals.6a9c913d9131e5ecfb74.js.map